import v from"./ActiveStatusBadge-20d0c00f.js";import k from"./ActiveStatusBadge-1bc1d3a2.js";import B from"./BillingTransactionStatusBadge-1358fc7f.js";import S from"./CreatedUsingAutoBillingBadge-0863ac97.js";import{P as C}from"./Pagination-acdcc653.js";import{a as P,_ as A}from"./TextInput-2b329b2d.js";import I from"./RatingTypeBadge-b27dc2f8.js";import{h as N}from"./moment-fbc5633a.js";import{_ as U}from"./_plugin-vue_export-helper-c27b6911.js";import{q as $,s as p,o as s,e as o,a as t,b as n,F as l,h as d,f as D,t as a,c}from"./app-c7e1a3a7.js";/* empty css            */import"./base-c23ab198.js";import"./el-popper-68cbe15d.js";import"./icon-cbe10490.js";import"./constants-0ca5ff05.js";import"./el-popover-a5d04c3c.js";const R=$({components:{SubscriptionPlanActiveStatusBadge:v,SubscriptionActiveStatusBadge:k,Pagination:C,RatingTypeBadge:I,BillingTransactionStatusBadge:B,CreatedUsingAutoBillingBadge:S,JetInputError:P,JetInput:A},props:{billingTransactionsPayload:Object},data(){return{refreshContentInterval:null,moment:N,form:this.$inertia.form({search:""})}},methods:{refreshContent(){this.$inertia.reload()},cleanUp(){clearInterval(this.refreshContentInterval),this.refreshContentInterval=null}},created(){this.refreshContentInterval=setInterval(function(){this.refreshContent()}.bind(this),5e3)},unmounted(){this.cleanUp()}}),V={class:"grid grid-cols-12 gap-8"},j=t("div",{class:"col-span-6"},[t("div",{class:"bg-gray-50 border-b px-6 py-4 rounded-t text-gray-500 text-sm mb-4"},[t("div",{class:"text-2xl font-semibold leading-6 text-gray-500"},"Billing Transactions")])],-1),F={class:"col-span-6"},O={class:"mb-4"},E={class:"bg-white shadow-xl sm:rounded-lg"},J={class:"flex flex-col overflow-y-auto"},L={class:"align-middle inline-block min-w-full"},q={class:"shadow border-b border-gray-200"},M={class:"min-w-full divide-y divide-gray-200"},z=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{scope:"col",class:"px-6 py-3 whitespace-nowrap text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-r border-dotted border-r-teal-300"}),t("th",{scope:"col",colspan:"8",class:"px-6 py-3 whitespace-nowrap text-center text-xs font-medium text-gray-500 uppercase tracking-wider bg-teal-50 border-r border-dotted border-r-fuchsia-300"},[t("div",{class:"font-bold text-teal-500"},"TRANSACTION")]),t("th",{scope:"col",colspan:"5",class:"px-6 py-3 whitespace-nowrap text-center text-xs font-medium text-gray-500 uppercase tracking-wider bg-fuchsia-50 border-r border-dotted border-r-violet-300"},[t("div",{class:"font-bold text-fuchsia-500"},"SUBSCRIPTION")]),t("th",{scope:"col",colspan:"7",class:"px-6 py-3 whitespace-nowrap text-center text-xs font-medium text-gray-500 uppercase tracking-wider bg-violet-50"},[t("div",{class:"font-bold text-violet-500"},"SUBSCRIPTION PLAN")])]),t("tr",null,[t("th",{scope:"col",class:"px-6 py-3 whitespace-nowrap text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-r border-dotted border-r-teal-300"},[t("span",null,"Mobile")]),t("th",{scope:"col",class:"px-6 py-3 whitespace-nowrap text-left text-xs font-medium text-gray-500 uppercase tracking-wider bg-teal-50"},[t("span",null,"Status")]),t("th",{scope:"col",class:"px-6 py-3 whitespace-nowrap text-left text-xs font-medium text-gray-500 uppercase tracking-wider bg-teal-50"},[t("span",null,"Amount")]),t("th",{scope:"col",class:"px-6 py-3 whitespace-nowrap text-center text-xs font-medium text-gray-500 uppercase tracking-wider bg-teal-50"},[t("span",null,"Funds Before Deduction")]),t("th",{scope:"col",class:"px-6 py-3 whitespace-nowrap text-center text-xs font-medium text-gray-500 uppercase tracking-wider bg-teal-50"},[t("span",null,"Funds After Deduction")]),t("th",{scope:"col",class:"px-6 py-3 whitespace-nowrap text-center text-xs font-medium text-gray-500 uppercase tracking-wider bg-teal-50"},[t("span",null,"Rating Type")]),t("th",{scope:"col",class:"px-6 py-3 whitespace-nowrap text-center text-xs font-medium text-gray-500 uppercase tracking-wider bg-teal-50"},[t("span",null,"Auto Billing")]),t("th",{scope:"col",class:"px-6 py-3 whitespace-nowrap text-center text-xs font-medium text-gray-500 uppercase tracking-wider bg-teal-50"},[t("span",null,"Description")]),t("th",{scope:"col",class:"px-6 py-3 whitespace-nowrap text-center text-xs font-medium text-gray-500 uppercase tracking-wider bg-teal-50 border-r border-dotted border-r-fuchsia-300"},[t("span",null,"Created")]),t("th",{scope:"col",class:"px-6 py-3 whitespace-nowrap text-left text-xs font-medium text-gray-500 uppercase tracking-wider bg-fuchsia-50"},[t("span",null,"Start")]),t("th",{scope:"col",class:"px-6 py-3 whitespace-nowrap text-left text-xs font-medium text-gray-500 uppercase tracking-wider bg-fuchsia-50"},[t("span",null,"End")]),t("th",{scope:"col",class:"px-6 py-3 whitespace-nowrap text-left text-xs font-medium text-gray-500 uppercase tracking-wider bg-fuchsia-50"},[t("span",null,"Cancelled")]),t("th",{scope:"col",class:"px-6 py-3 whitespace-nowrap text-left text-xs font-medium text-gray-500 uppercase tracking-wider bg-fuchsia-50"},[t("span",null,"Active")]),t("th",{scope:"col",class:"px-6 py-3 whitespace-nowrap text-left text-xs font-medium text-gray-500 uppercase tracking-wider bg-fuchsia-50 border-r border-dotted border-r-violet-300"},[t("span",null,"Created")]),t("th",{scope:"col",class:"px-6 py-3 whitespace-nowrap text-xs font-medium text-gray-500 uppercase tracking-wider bg-violet-50"},[t("span",null,"Name")]),t("th",{scope:"col",class:"px-6 py-3 whitespace-nowrap text-xs font-medium text-gray-500 uppercase tracking-wider bg-violet-50"},[t("span",null,"Description")]),t("th",{scope:"col",class:"px-6 py-3 whitespace-nowrap text-center text-xs font-medium text-gray-500 uppercase tracking-wider bg-violet-50"},[t("span",null,"Active")]),t("th",{scope:"col",class:"px-6 py-3 whitespace-nowrap text-center text-xs font-medium text-gray-500 uppercase tracking-wider bg-violet-50"},[t("span",null,"Tags")]),t("th",{scope:"col",class:"px-6 py-3 whitespace-nowrap text-center text-xs font-medium text-gray-500 uppercase tracking-wider bg-violet-50"},[t("span",null,"Duration")]),t("th",{scope:"col",class:"px-6 py-3 whitespace-nowrap text-center text-xs font-medium text-gray-500 uppercase tracking-wider bg-violet-50"},[t("span",null,"Price")]),t("th",{scope:"col",class:"px-6 py-3 whitespace-nowrap text-left text-xs font-medium text-gray-500 uppercase tracking-wider bg-violet-50"},[t("span",null,"Created")])])],-1),G={class:"bg-white divide-y divide-gray-200"},H={class:"px-6 py-3 whitespace-nowrap text-sm text-gray-500 border-r border-dotted border-r-teal-300"},K={class:"text-sm text-gray-900"},Q={class:"px-6 py-3 whitespace-nowrap text-sm text-gray-500 text-left bg-teal-50"},W={class:"px-6 py-3 whitespace-nowrap text-md text-gray-500 text-center font-bold bg-teal-50"},X={class:"px-6 py-3 whitespace-nowrap text-sm text-gray-500 text-center bg-teal-50"},Y={class:"px-6 py-3 whitespace-nowrap text-sm text-gray-500 text-center bg-teal-50"},Z={class:"px-6 py-3 whitespace-nowrap text-sm text-gray-500 text-center bg-teal-50"},T={key:0},tt={class:"px-6 py-3 whitespace-nowrap text-sm text-gray-500 text-center bg-teal-50"},et={class:"px-6 py-3 whitespace-nowrap text-sm text-gray-500 text-center bg-teal-50"},st={class:"px-6 py-3 whitespace-nowrap text-sm text-gray-500 bg-teal-50 border-r border-dotted border-r-fuchsia-300"},ot={class:"px-6 py-3 whitespace-nowrap text-sm text-gray-500 text-left bg-fuchsia-50"},at={class:"px-6 py-3 whitespace-nowrap text-sm text-gray-500 text-left bg-fuchsia-50"},rt={class:"px-6 py-3 whitespace-nowrap text-sm text-gray-500 text-left bg-fuchsia-50"},pt={class:"px-6 py-3 whitespace-nowrap text-sm text-gray-500 text-center bg-fuchsia-50"},nt={key:0},ct={class:"px-6 py-3 whitespace-nowrap text-sm text-gray-500 text-left bg-fuchsia-50 border-r border-dotted border-r-violet-300"},it={class:"px-6 py-3 whitespace-nowrap text-sm text-gray-500 text-left bg-violet-50"},lt={key:0},dt={key:1,class:"text-sm text-gray-900"},ut={class:"px-6 py-3 whitespace-nowrap text-sm text-gray-500 text-left bg-violet-50"},xt={key:0},ht={key:1},_t={class:"px-6 py-3 whitespace-nowrap text-sm text-gray-500 text-center bg-violet-50"},mt={key:0},gt={class:"px-6 py-3 whitespace-nowrap text-sm text-gray-500 text-center bg-violet-50"},yt={key:0},wt={key:1},ft={key:2,class:"flex space-x-2"},bt={class:"px-6 py-3 whitespace-nowrap text-sm text-gray-500 text-center bg-violet-50"},vt={key:0},kt={key:1},Bt={class:"px-6 py-3 whitespace-nowrap text-sm text-gray-500 text-center bg-violet-50"},St={key:0},Ct={key:1},Pt={class:"px-6 py-3 whitespace-nowrap text-sm text-gray-500 text-left bg-violet-50"},At={key:0},It={key:1},Nt={key:0},Ut=t("td",{colspan:10,class:"px-6 py-3 whitespace-nowrap"},[t("div",{class:"text-center text-gray-900 text-sm p-6"},"No billing transactions")],-1),$t=t("td",{colspan:10,class:"px-6 py-3 whitespace-nowrap"},[t("div",{class:"text-center text-gray-900 text-sm p-6"},"No billing transactions")],-1),Dt=[Ut,$t];function Rt(r,i,Vt,jt,Ft,Ot){const u=p("jet-input"),x=p("jet-input-error"),h=p("BillingTransactionStatusBadge"),_=p("RatingTypeBadge"),m=p("CreatedUsingAutoBillingBadge"),g=p("SubscriptionActiveStatusBadge"),y=p("SubscriptionPlanActiveStatusBadge"),w=p("pagination");return s(),o("div",null,[t("div",V,[j,t("div",F,[t("div",O,[n(u,{id:"search",type:"text",class:"w-full mt-1 block",modelValue:r.form.search,"onUpdate:modelValue":i[0]||(i[0]=e=>r.form.search=e),placeholder:"26772000001"},null,8,["modelValue"]),n(x,{message:r.form.errors.search,class:"mt-2"},null,8,["message"])])])]),t("div",E,[t("div",J,[t("div",L,[t("div",q,[t("table",M,[z,t("tbody",G,[(s(!0),o(l,null,d(r.billingTransactionsPayload.data,e=>(s(),o("tr",{key:e.id},[t("td",H,[t("div",K,a(e.subscriber.msisdn),1)]),t("td",Q,[n(h,{billingTransaction:e},null,8,["billingTransaction"])]),t("td",W,[t("span",null,a(e.amount.amount_with_currency),1)]),t("td",X,a(e.funds_before_deduction==null?"...":e.funds_before_deduction.amount_with_currency),1),t("td",Y,a(e.funds_after_deduction==null?"...":e.funds_after_deduction.amount_with_currency),1),t("td",Z,[e.rating_type==null?(s(),o("span",T,"...")):(s(),c(_,{key:1,billingTransaction:e},null,8,["billingTransaction"]))]),t("td",tt,[n(m,{billingTransaction:e},null,8,["billingTransaction"])]),t("td",et,[t("span",null,a(e.description),1)]),t("td",st,a(e.created_at==null?"...":r.moment(e.created_at).format("lll")),1),t("td",ot,a(e.subscription==null?"...":r.moment(e.subscription.start_at).format("lll")),1),t("td",at,a(e.subscription==null?"...":r.moment(e.subscription.end_at).format("lll")),1),t("td",rt,a(e.subscription==null||e.subscription.cancelled_at==null?"...":r.moment(e.subscription.cancelled_at).format("lll")),1),t("td",pt,[e.subscription==null?(s(),o("span",nt,"...")):(s(),c(g,{key:1,subscription:e.subscription},null,8,["subscription"]))]),t("td",ct,a(e.subscription==null?"...":r.moment(e.subscription.created_at).format("lll")),1),t("td",it,[e.subscription_plan==null?(s(),o("div",lt,"...")):(s(),o("div",dt,a(e.subscription_plan.name),1))]),t("td",ut,[e.subscription_plan==null?(s(),o("div",xt,"...")):(s(),o("div",ht,a(e.subscription_plan.description==null?"...":e.subscription_plan.description),1))]),t("td",_t,[e.subscription_plan==null?(s(),o("div",mt,"...")):(s(),c(y,{key:1,subscriptionPlan:e.subscription_plan},null,8,["subscriptionPlan"]))]),t("td",gt,[e.subscription_plan==null?(s(),o("div",yt,"...")):e.subscription_plan.tags.length==0?(s(),o("div",wt,"...")):(s(),o("div",ft,[(s(!0),o(l,null,d(e.subscription_plan.tags,(f,b)=>(s(),o("div",{key:b,class:"bg-blue-50 text-blue-500 border border-blue-300 py-1 px-2 text-xs rounded"},a(f),1))),128))]))]),t("td",bt,[e.subscription_plan==null?(s(),o("div",vt,"...")):(s(),o("div",kt,a(e.subscription_plan.duration_in_words==null?"...":e.subscription_plan.duration_in_words),1))]),t("td",Bt,[e.subscription_plan==null?(s(),o("div",St,"...")):(s(),o("div",Ct,a(e.subscription_plan.price==null?"...":e.subscription_plan.price.amount_with_currency),1))]),t("td",Pt,[e.subscription_plan==null?(s(),o("div",At,"...")):(s(),o("div",It,a(e.subscription_plan.created_at==null?"...":r.moment(e.subscription_plan.created_at).format("lll")),1))])]))),128)),r.billingTransactionsPayload.data.length==0?(s(),o("tr",Nt,Dt)):D("",!0)])])])])]),n(w,{class:"mt-6",paginationPayload:r.billingTransactionsPayload,updateData:["billingTransactionsPayload"]},null,8,["paginationPayload"])])])}const ee=U(R,[["render",Rt]]);export{ee as default};
