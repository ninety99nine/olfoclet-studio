import"./base-9d5d9ef5.js";import{E as x,a as y}from"./el-breadcrumb-item-236bebd3.js";import{h as f}from"./moment-fbc5633a.js";import{_ as b}from"./SecondaryButton-ad3c249d.js";import{P as v}from"./Pagination-52d23933.js";import P from"./AutoBillingReminderStatusBadge-89b94e31.js";import{_ as w}from"./_plugin-vue_export-helper-c27b6911.js";import{q as k,s as c,o as r,e as o,a as e,t as n,b as i,w as l,g as p,f as g,F as C,h as j,x as S}from"./app-0c965242.js";import"./icon-e84b57dd.js";import"./index-6fa13ed4.js";/* empty css            */const $=k({components:{Pagination:v,AutoBillingReminderStatusBadge:P,JetSecondaryButton:b},props:{pricingPlan:Object,pricingPlanAutoBillingReminderJobBatchesPayload:Object},data(){return{refreshContentInterval:null,moment:f}},computed:{recurringFrequencyWord(){return this.pricingPlan.recurring_duration==1?this.pricingPlan.recurring_frequency=="Years"?"Year":this.pricingPlan.recurring_frequency=="Months"?"Month":this.pricingPlan.recurring_frequency=="Weeks"?"Week":this.pricingPlan.recurring_frequency=="Days"?"Day":this.pricingPlan.recurring_frequency=="Hours"?"Hour":this.pricingPlan.recurring_frequency=="Minutes"?"Minute":"":this.pricingPlan.recurring_frequency}},methods:{refreshContent(){this.$inertia.reload()},nagivateToPricingPlan(t=null){t?this.$inertia.get(route("show.auto.billing.pricing.plan.job.batches",{project:route().params.project,pricing_plan:t.id})):this.$inertia.get(route("show.auto.billing.pricing.plans",{project:route().params.project}))},goBackToPreviousPage(){window.history.back()},cleanUp(){clearInterval(this.refreshContentInterval),this.refreshContentInterval=null}},created(){this.refreshContentInterval=setInterval(function(){this.refreshContent()}.bind(this),5e3)},unmounted(){this.cleanUp()}}),q={class:"mb-6 gap-4"},A={class:"bg-gray-50 pt-4 pl-6 border-b rounded-t"},B={class:"text-2xl font-semibold leading-6 text-gray-500 mb-4"},I=e("span",{class:"hover:underline hover:text-green-600 text-green-500 font-semibold cursor-pointer"},"Auto Billing Reminder Sprints",-1),T={class:"hover:underline hover:text-green-600 text-green-500 font-semibold cursor-pointer"},E=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M7 16l-4-4m0 0l4-4m-4 4h18"})],-1),N=e("span",{class:"ml-2"},"Go Back",-1),D={class:"bg-gray-50 border-b pl-6 py-3 rounded-t text-gray-500 text-sm"},M={class:"bg-gray-50 border-b pl-6 py-3 rounded-t text-gray-500 text-sm mb-6"},F={key:0},V=e("span",{class:"text-gray-300 mx-4"},"|",-1),W=e("span",{class:"text-gray-300 mx-4"},"|",-1),H=e("span",{class:"text-gray-400"},"Start: ",-1),O=e("span",{class:"text-gray-300 mx-4"},"|",-1),U=e("span",{class:"text-gray-400"},"End: ",-1),Y={class:"bg-white overflow-hidden shadow-xl sm:rounded-lg"},z={class:"flex flex-col"},G={class:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"},L={class:"py-2 align-middle inline-block min-w-full sm:px-6 lg:px-8"},K={class:"shadow overflow-hidden border-b border-gray-200 sm:rounded-lg"},Q={class:"min-w-full divide-y divide-gray-200"},R=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},[e("span",null,"Name")]),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},[e("span",null,"Status")]),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider bg-indigo-100"},[e("span",null,"Total")]),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider bg-indigo-100"},[e("span",null,"Pending")]),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider bg-indigo-100"},[e("span",null,"Processed")]),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider bg-indigo-100"},[e("span",null,"Progress")]),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},[e("span",null,"Sprint Date")])])],-1),X={class:"bg-white divide-y divide-gray-200"},Z={class:"px-6 py-4 whitespace-nowrap"},J={class:"text-sm text-gray-900"},ee={class:"px-6 py-4"},te={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-center bg-indigo-50"},se={class:"text-sm text-gray-900"},ne={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-center bg-indigo-50"},re={class:"text-sm text-gray-900"},oe={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-center bg-indigo-50"},ae={class:"text-sm text-gray-900"},ie={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-center bg-indigo-50"},le={key:0,class:"text-lg text-green-600"},ce={key:1,class:"w-full bg-gray-200 rounded-full"},de={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},pe={key:0},ge=e("td",{colspan:7,class:"px-6 py-4 whitespace-nowrap"},[e("div",{class:"text-center text-gray-900 text-sm p-6"},"No pricing plan sprints")],-1),ue=[ge];function me(t,a,_e,he,xe,ye){const d=y,u=x,m=c("jet-secondary-button"),_=c("AutoBillingReminderStatusBadge"),h=c("pagination");return r(),o("div",null,[e("div",q,[e("div",A,[e("div",B,n(t.pricingPlan.name),1),i(u,{separator:">",class:"mb-4"},{default:l(()=>[i(d,{onClick:a[0]||(a[0]=s=>t.nagivateToPricingPlan())},{default:l(()=>[I]),_:1}),i(d,{onClick:a[1]||(a[1]=s=>t.nagivateToPricingPlan(t.pricingPlan))},{default:l(()=>[e("span",T,n(t.pricingPlan.name),1)]),_:1})]),_:1}),i(m,{onClick:a[2]||(a[2]=s=>t.goBackToPreviousPage()),class:"py-1 mb-4"},{default:l(()=>[E,N]),_:1})]),e("div",D,[e("span",null,n(t.pricingPlan.description),1)]),e("div",M,[e("span",null,n(t.pricingPlan.schedule_type),1),t.pricingPlan.schedule_type=="Send Recurring"?(r(),o("span",F,[V,e("span",null,"Every "+n(t.pricingPlan.recurring_duration)+" "+n(t.recurringFrequencyWord),1),W,e("span",null,[H,p(n(t.moment(t.pricingPlan.start_datetime).format("lll")),1)]),O,e("span",null,[U,p(n(t.moment(t.pricingPlan.end_datetime).format("lll")),1)])])):g("",!0)])]),e("div",Y,[e("div",z,[e("div",G,[e("div",L,[e("div",K,[e("table",Q,[R,e("tbody",X,[(r(!0),o(C,null,j(t.pricingPlanAutoBillingReminderJobBatchesPayload.data,s=>(r(),o("tr",{key:s.id},[e("td",Z,[e("div",J,n(s.name),1)]),e("td",ee,[i(_,{autoBillingReminderJobBatch:s},null,8,["autoBillingReminderJobBatch"])]),e("td",te,[e("div",se,n(s.total_jobs),1)]),e("td",ne,[e("div",re,n(s.pending_jobs),1)]),e("td",oe,[e("div",ae,n(s.processed_jobs),1)]),e("td",ie,[s.progress==100?(r(),o("span",le,n(s.progress)+" "+n(s.progress?"%":""),1)):(r(),o("div",ce,[e("div",{class:"bg-green-600 text-xs font-medium text-blue-100 text-center p-0.5 leading-none rounded-full animate-pulse",style:S("width: "+s.progress+"%")},n(s.progress)+"%",5)]))]),e("td",de,n(s.created_at==null?"...":t.moment(s.created_at).format("lll")),1)]))),128)),t.pricingPlanAutoBillingReminderJobBatchesPayload.data.length==0?(r(),o("tr",pe,ue)):g("",!0)])])])])])]),i(h,{class:"mt-6",paginationPayload:t.pricingPlanAutoBillingReminderJobBatchesPayload,updateData:["pricingPlanAutoBillingReminderJobBatchesPayload"]},null,8,["paginationPayload"])])])}const Ae=w($,[["render",me]]);export{Ae as default};
