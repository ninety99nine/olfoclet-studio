import"./base-c965bbf6.js";import{E as M}from"./el-divider-9ba257ce.js";import{E as D}from"./el-switch-e672a57a.js";import{s as U,v as B,e as r,c as f,w as i,f as c,a as t,b as l,x as u,o as n,g as m,F as _,t as h,l as b,m as w,i as y,n as v}from"./app-5bb89648.js";import{_ as $,a as T}from"./TextInput-520e81fe.js";import{_ as A}from"./InputLabel-c6167a2b.js";import{J as E}from"./Textarea-30ad1ddc.js";import{_ as J}from"./PrimaryButton-8f2ab614.js";import{J as O}from"./SelectInput-ffb88178.js";import{a as F}from"./DialogModal-1ac4e177.js";import{_ as I}from"./DangerButton-e29447dd.js";import{_ as L}from"./ActionMessage-6bee4251.js";import{_ as N}from"./SecondaryButton-d3e600d6.js";import{_ as R}from"./_plugin-vue_export-helper-c27b6911.js";import"./index-f74d9013.js";import"./icon-0fd4f662.js";import"./constants-10dd533f.js";/* empty css            */const z=U({components:{JetLabel:A,JetInput:$,JetButton:J,JetTextarea:E,JetInputError:T,JetSelectInput:O,JetDialogModal:F,JetSecondaryButton:N,JetActionMessage:L,JetDangerButton:I},props:{action:{type:String,default:"update"},modelValue:{type:Boolean,default:!1},showAddbutton:{type:Boolean,default:!1},project:{type:Object,default:null},show:{type:Boolean,default:!1}},data(){return{form:null,showModal:this.modelValue,showAutoBillingClientSecret:!1,showAutoBillingClientID:!1,showClientCredentials:!1,showSuccessMessage:!1,showErrorMessage:!1}},watch:{showModal:{handler:function(e,s){e!=this.modelValue&&this.$emit("update:modelValue",e)}},modelValue:{handler:function(e,s){e!=this.showModal&&(this.showModal=e,this.reset())}}},computed:{hasProject(){return this.project!=null},wantsToUpdate(){return!!(this.hasProject&&this.action=="update")},wantsToDelete(){return!!(this.hasProject&&this.action=="delete")}},methods:{handleSelectedPDF(e){this.form.pdf_path=null,this.form.pdf=e.target.files[0],this.pdfPreview=URL.createObjectURL(e.target.files[0])},openModal(){this.showModal=!0},closeModal(){this.showModal=!1},create(){var e={replace:!0,preserveState:!0,preserveScroll:!0,onSuccess:s=>{this.handleOnSuccess()},onError:s=>{this.handleOnError()}};this.form.transform(s=>(s.settings.sms_sender_name==""&&(s.settings.sms_sender_name=null),s.settings.sms_sender_number==""&&(s.settings.sms_sender_number=null),s.settings.sms_client_credentials==""&&(s.settings.sms_client_credentials=null),s.settings.auto_billing_client_id==""&&(s.settings.auto_billing_client_id=null),s.settings.auto_billing_client_secret==""&&(s.settings.auto_billing_client_secret=null),s)).post(route("create.project"),e)},update(){var e={replace:!0,preserveState:!0,preserveScroll:!0,onSuccess:s=>{this.handleOnSuccess()},onError:s=>{this.handleOnError()}};this.form.post(route("update.project",{project:this.project.id}),e)},destroy(){var e={preserveState:!0,preserveScroll:!0,replace:!0,onSuccess:s=>{this.handleOnSuccess()},onError:s=>{this.handleOnError()}};this.form.delete(route("delete.project",{project:this.project.id}),e)},handleOnSuccess(){this.reset(),this.closeModal(),this.showSuccessMessage=!0,setTimeout(()=>{this.showSuccessMessage=!1},3e3)},handleOnError(){this.showErrorMessage=!0,setTimeout(()=>{this.showErrorMessage=!1},3e3)},reset(){var e={pdf:null,name:this.hasProject?this.project.name:null,pdf_path:this.hasProject?this.project.pdf_path:null,website_url:this.hasProject?this.project.website_url:null,description:this.hasProject?this.project.description:null,can_auto_bill:this.hasProject?this.project.can_auto_bill:!1,can_send_messages:this.hasProject?this.project.can_send_messages:!1,settings:this.hasProject?this.project.settings:{sms_sender_name:"",sms_sender_number:"",sms_client_credentials:"",auto_billing_client_id:"",auto_billing_client_secret:""}};this.hasProject&&(e._method="put"),this.form=B(e)}},created(){this.reset()}}),W={class:"clear-both"},X={key:0,class:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative mb-6",role:"alert"},Y={key:0,class:"font-bold"},Z={key:1,class:"font-bold"},q={key:2,class:"font-bold"},G=t("svg",{class:"fill-current h-6 w-6 text-green-500",role:"button",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[t("title",null,"Close"),t("path",{d:"M14.348 14.849a1.2 1.2 0 0 1-1.697 0L10 11.819l-2.651 3.029a1.2 1.2 0 1 1-1.697-1.697l2.758-3.15-2.759-3.152a1.2 1.2 0 1 1 1.697-1.697L10 8.183l2.651-3.031a1.2 1.2 0 1 1 1.697 1.697l-2.758 3.152 2.758 3.15a1.2 1.2 0 0 1 0 1.698z"})],-1),H=[G],K={key:1,class:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert"},Q={key:0,class:"font-bold"},x={key:1,class:"font-bold"},ee={key:2,class:"font-bold"},se=t("svg",{class:"fill-current h-6 w-6 text-red-500",role:"button",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[t("title",null,"Close"),t("path",{d:"M14.348 14.849a1.2 1.2 0 0 1-1.697 0L10 11.819l-2.651 3.029a1.2 1.2 0 1 1-1.697-1.697l2.758-3.15-2.759-3.152a1.2 1.2 0 1 1 1.697-1.697L10 8.183l2.651-3.031a1.2 1.2 0 1 1 1.697 1.697l-2.758 3.152 2.758 3.15a1.2 1.2 0 0 1 0 1.698z"})],-1),te=[se],oe=t("span",{class:"block mt-6 mb-6"},"Are you sure you want to delete this project?",-1),le={class:"text-sm text-gray-500"},ne={class:"grid grid-cols-12 gap-6"},re={class:"col-span-12"},ie={class:"col-span-12"},ae={class:"col-span-12"},de={class:"col-span-12"},me={class:"flex justify-between items-center"},ce={key:0},ue={key:0},pe=["src"],_e={key:1},fe=["src"],ge={class:"col-span-12"},he=t("span",{class:"text-sm text-gray-500"},"Send messages",-1),be={class:"text-sm text-gray-400"},we={class:"mt-10 mb-10"},ye=t("span",{class:"font-semibold"},"Sms Account Settings",-1),ve={class:"grid grid-cols-6 gap-6"},je={class:"col-span-6 sm:col-span-12"},ke={class:"col-span-6 sm:col-span-12"},Ve={class:"col-span-6 sm:col-span-12"},Ce={class:"flex items-center mt-2"},Se=t("label",{for:"show_client_credentials",class:"ml-3 block text-sm font-medium text-gray-700"},"Show credentials",-1),Pe={class:"mt-10 mb-10"},Me=t("span",{class:"font-semibold"},"Auto Billing Settings",-1),De={class:"grid grid-cols-6 gap-6"},Ue={class:"col-span-12"},Be=t("span",{class:"text-sm text-gray-500"},"Auto Bill",-1),$e={class:"text-sm text-gray-400"},Te={class:"col-span-6 sm:col-span-12"},Ae={class:"flex items-center mt-2"},Ee=t("label",{for:"show_auto_billing_client_secret",class:"ml-3 block text-sm font-medium text-gray-700"},"Show credentials",-1),Je={class:"col-span-6 sm:col-span-12"},Oe={class:"flex items-center mt-2"},Fe=t("label",{for:"show_auto_billing_client_id",class:"ml-3 block text-sm font-medium text-gray-700"},"Show credentials",-1);function Ie(e,s,Le,Ne,Re,ze){const g=u("jet-button"),a=u("jet-label"),p=u("jet-input"),d=u("jet-input-error"),C=u("jet-textarea"),j=u("jet-danger-button"),k=D,V=M,S=u("jet-secondary-button"),P=u("jet-dialog-modal");return n(),r("div",null,[e.showAddbutton?(n(),f(g,{key:0,onClick:s[0]||(s[0]=o=>e.openModal()),class:"float-right mb-6"},{default:i(()=>[m(" Add Project ")]),_:1})):c("",!0),t("div",W,[e.showSuccessMessage?(n(),r("div",X,[e.wantsToUpdate?(n(),r("strong",Y,"Project updated successfully")):e.wantsToDelete?(n(),r("strong",Z,"Project deleted successfully")):(n(),r("strong",q,"Project created successfully")),t("span",{onClick:s[1]||(s[1]=o=>e.showSuccessMessage=!1),class:"absolute top-0 bottom-0 right-0 px-4 py-3"},H)])):c("",!0),e.showErrorMessage?(n(),r("div",K,[e.wantsToUpdate?(n(),r("strong",Q,"Project update failed")):e.wantsToDelete?(n(),r("strong",x,"Project delete failed")):(n(),r("strong",ee,"Project creation failed")),t("span",{onClick:s[2]||(s[2]=o=>e.showSuccessMessage=!1),class:"absolute top-0 bottom-0 right-0 px-4 py-3"},te)])):c("",!0),l(P,{show:e.showModal,closeable:!1},{title:i(()=>[e.wantsToUpdate?(n(),r(_,{key:0},[m("Update Project")],64)):e.wantsToDelete?(n(),r(_,{key:1},[m("Delete Project")],64)):(n(),r(_,{key:2},[m("Add Project")],64))]),content:i(()=>[e.wantsToDelete?(n(),r(_,{key:0},[oe,t("p",le,h(e.project.name),1)],64)):(n(),r(_,{key:1},[t("div",ne,[t("div",re,[l(a,{for:"name",value:"Project Name"}),l(p,{id:"name",type:"text",class:"w-full mt-1 block",modelValue:e.form.name,"onUpdate:modelValue":s[3]||(s[3]=o=>e.form.name=o)},null,8,["modelValue"]),l(d,{message:e.form.errors.name,class:"mt-2"},null,8,["message"])]),t("div",ie,[l(a,{for:"description",value:"Project Description"}),l(C,{id:"description",class:"w-full mt-1 block",modelValue:e.form.description,"onUpdate:modelValue":s[4]||(s[4]=o=>e.form.description=o)},null,8,["modelValue"]),l(d,{message:e.form.errors.description,class:"mt-2"},null,8,["message"])]),t("div",ae,[l(a,{for:"website_url",value:"Website URL"}),l(p,{id:"website_url",type:"text",class:"w-full mt-1 block",modelValue:e.form.website_url,"onUpdate:modelValue":s[5]||(s[5]=o=>e.form.website_url=o)},null,8,["modelValue"]),l(d,{message:e.form.errors.website_url,class:"mt-2"},null,8,["message"])]),t("div",de,[t("div",me,[t("div",null,[l(a,{for:"pdf",value:e.form.pdf_path?"Change PDF":"Upload PDF"},null,8,["value"]),t("input",{type:"file",id:"pdf",class:"w-full mt-1",onChange:s[6]||(s[6]=(...o)=>e.handleSelectedPDF&&e.handleSelectedPDF(...o)),accept:".pdf"},null,32),l(d,{message:e.form.errors.pdf,class:"mt-2"},null,8,["message"])]),e.form.pdf_path!=null?(n(),r("div",ce,[l(j,{onClick:s[7]||(s[7]=o=>e.form.pdf_path=null),class:"mr-2"},{default:i(()=>[m(" Remove PDF ")]),_:1})])):c("",!0)]),e.form.pdf?(n(),r("div",ue,[t("embed",{src:e.pdfPreview,type:"application/pdf",width:"100%",height:"400px",class:"mt-4 block border border-gray-500"},null,8,pe)])):e.form.pdf_path?(n(),r("div",_e,[t("embed",{src:e.form.pdf_path,type:"application/pdf",width:"100%",height:"400px",class:"mt-4 block border border-gray-500"},null,8,fe)])):c("",!0)]),t("div",ge,[t("span",null,[he,l(k,{modelValue:e.form.can_send_messages,"onUpdate:modelValue":s[8]||(s[8]=o=>e.form.can_send_messages=o),class:"mx-2"},null,8,["modelValue"]),t("span",be,"— "+h(e.form.can_send_messages?"Turn off to stop sending messages":"Turn on to start sending messages"),1)])])]),t("div",we,[l(V,{"content-position":"left"},{default:i(()=>[ye]),_:1})]),t("div",ve,[t("div",je,[l(a,{for:"sms_sender_name",value:"Sender Name"}),l(p,{id:"sms_sender_name",type:"text",placeholder:"Company XYZ",maxlength:20,class:"w-full mt-1 block",modelValue:e.form.settings.sms_sender_name,"onUpdate:modelValue":s[9]||(s[9]=o=>e.form.settings.sms_sender_name=o)},null,8,["modelValue"]),l(d,{message:e.form.errors["settings.sms_sender_name"],class:"mt-2"},null,8,["message"])]),t("div",ke,[l(a,{for:"sms_sender_number",value:"Sender Number"}),l(p,{id:"sms_sender_number",type:"text",placeholder:"26772012345",maxlength:11,class:"w-full mt-1 block",modelValue:e.form.settings.sms_sender_number,"onUpdate:modelValue":s[10]||(s[10]=o=>e.form.settings.sms_sender_number=o)},null,8,["modelValue"]),l(d,{message:e.form.errors["settings.sms_sender_number"],class:"mt-2"},null,8,["message"])]),t("div",Ve,[l(a,{for:"sms_client_credentials",value:"Client Credentials"}),l(p,{id:"sms_client_credentials",type:e.showClientCredentials?"text":"password",placeholder:"*************************",class:"w-full mt-1 block",modelValue:e.form.settings.sms_client_credentials,"onUpdate:modelValue":s[11]||(s[11]=o=>e.form.settings.sms_client_credentials=o)},null,8,["type","modelValue"]),l(d,{message:e.form.errors["settings.sms_client_credentials"],class:"mt-2"},null,8,["message"]),t("div",Ce,[b(t("input",{"onUpdate:modelValue":s[12]||(s[12]=o=>e.showClientCredentials=o),id:"show_client_credentials",name:"show_client_credentials",type:"checkbox",class:"focus:ring-indigo-500 h-4 w-4 text-indigo-600 border-gray-300 rounded"},null,512),[[w,e.showClientCredentials]]),Se])])]),t("div",Pe,[l(V,{"content-position":"left"},{default:i(()=>[Me]),_:1})]),t("div",De,[t("div",Ue,[t("span",null,[Be,l(k,{modelValue:e.form.can_auto_bill,"onUpdate:modelValue":s[13]||(s[13]=o=>e.form.can_auto_bill=o),class:"mx-2"},null,8,["modelValue"]),t("span",$e,"— "+h(e.form.can_auto_bill?"Turn off to stop auto billing on subscription plans":"Turn on to start auto billing on subscription plans"),1)])]),t("div",Te,[l(a,{for:"auto_billing_client_id",value:"Client ID"}),l(p,{id:"auto_billing_client_id",type:e.showAutoBillingClientSecret?"text":"password",placeholder:"*************************",class:"w-full mt-1 block",modelValue:e.form.settings.auto_billing_client_id,"onUpdate:modelValue":s[14]||(s[14]=o=>e.form.settings.auto_billing_client_id=o)},null,8,["type","modelValue"]),l(d,{message:e.form.errors["settings.auto_billing_client_id"],class:"mt-2"},null,8,["message"]),t("div",Ae,[b(t("input",{"onUpdate:modelValue":s[15]||(s[15]=o=>e.showAutoBillingClientSecret=o),id:"show_auto_billing_client_secret",name:"show_auto_billing_client_secret",type:"checkbox",class:"focus:ring-indigo-500 h-4 w-4 text-indigo-600 border-gray-300 rounded"},null,512),[[w,e.showAutoBillingClientSecret]]),Ee])]),t("div",Je,[l(a,{for:"auto_billing_client_secret",value:"Client Secret"}),l(p,{id:"auto_billing_client_secret",type:e.showAutoBillingClientID?"text":"password",placeholder:"*************************",class:"w-full mt-1 block",modelValue:e.form.settings.auto_billing_client_secret,"onUpdate:modelValue":s[16]||(s[16]=o=>e.form.settings.auto_billing_client_secret=o)},null,8,["type","modelValue"]),l(d,{message:e.form.errors["settings.auto_billing_client_secret"],class:"mt-2"},null,8,["message"]),t("div",Oe,[b(t("input",{"onUpdate:modelValue":s[17]||(s[17]=o=>e.showAutoBillingClientID=o),id:"show_auto_billing_client_id",name:"show_auto_billing_client_id",type:"checkbox",class:"focus:ring-indigo-500 h-4 w-4 text-indigo-600 border-gray-300 rounded"},null,512),[[w,e.showAutoBillingClientID]]),Fe])])])],64))]),footer:i(()=>[l(S,{onClick:s[18]||(s[18]=o=>e.closeModal()),class:"mr-2"},{default:i(()=>[m(" Cancel ")]),_:1}),e.hasProject?c("",!0):(n(),f(g,{key:0,onClick:s[19]||(s[19]=y(o=>e.create(),["prevent"])),class:v({"opacity-25":e.form.processing}),disabled:e.form.processing},{default:i(()=>[m(" Create ")]),_:1},8,["class","disabled"])),e.wantsToUpdate?(n(),f(g,{key:1,onClick:s[20]||(s[20]=y(o=>e.update(),["prevent"])),class:v({"opacity-25":e.form.processing}),disabled:e.form.processing},{default:i(()=>[m(" Update ")]),_:1},8,["class","disabled"])):c("",!0),e.wantsToDelete?(n(),f(j,{key:2,onClick:s[21]||(s[21]=y(o=>e.destroy(),["prevent"])),class:v({"opacity-25":e.form.processing}),disabled:e.form.processing},{default:i(()=>[m(" Delete ")]),_:1},8,["class","disabled"])):c("",!0)]),_:1},8,["show"])])])}const as=R(z,[["render",Ie]]);export{as as default};
