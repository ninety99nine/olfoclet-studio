import"./base-210fcbe9.js";import{E as x,a as y}from"./el-breadcrumb-item-30b297ca.js";import{P as f}from"./Pagination-c426c16e.js";import{_ as b}from"./SecondaryButton-c49f7243.js";import v from"./SmsCampaignStatusBadge-3b9c516a.js";import{h as w}from"./moment-fbc5633a.js";import{_ as C}from"./_plugin-vue_export-helper-c27b6911.js";import{s as k,e as a,a as e,t as n,b as i,w as l,g as p,f as m,F as S,h as P,x as d,o,y as j}from"./app-a9929219.js";import"./icon-6945ac30.js";import"./index-e005307b.js";/* empty css            */const $=k({components:{Pagination:f,SmsCampaignStatusBadge:v,JetSecondaryButton:b},props:{smsCampaign:Object,smsCampaignBatchJobsPayload:Object},data(){return{refreshContentInterval:null,moment:w}},computed:{recurringFrequencyWord(){return this.smsCampaign.recurring_duration==1?this.smsCampaign.recurring_frequency=="Years"?"Year":this.smsCampaign.recurring_frequency=="Months"?"Month":this.smsCampaign.recurring_frequency=="Weeks"?"Week":this.smsCampaign.recurring_frequency=="Days"?"Day":this.smsCampaign.recurring_frequency=="Hours"?"Hour":this.smsCampaign.recurring_frequency=="Minutes"?"Minute":"":this.smsCampaign.recurring_frequency}},methods:{refreshContent(){this.$inertia.reload()},nagivateToSmsCampaign(t=null){t?this.$inertia.get(route("show.sms.campaign.job.batches",{project:route().params.project,sms_campaign:t.id})):this.$inertia.get(route("show.sms.campaigns",{project:route().params.project}))},goBackToPreviousPage(){window.history.back()},cleanUp(){clearInterval(this.refreshContentInterval),this.refreshContentInterval=null}},created(){this.refreshContentInterval=setInterval(function(){this.refreshContent()}.bind(this),5e3)},unmounted(){this.cleanUp()}}),q={class:"mb-6 gap-4"},B={class:"bg-gray-50 pt-3 pl-6 border-b rounded-t"},I={class:"text-2xl font-semibold leading-6 text-gray-500 mb-4"},T=e("span",{class:"hover:underline hover:text-green-600 text-green-500 font-semibold cursor-pointer"},"SMS Campaigns",-1),E={class:"hover:underline hover:text-green-600 text-green-500 font-semibold cursor-pointer"},M=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M7 16l-4-4m0 0l4-4m-4 4h18"})],-1),N=e("span",{class:"ml-2"},"Go Back",-1),D={class:"bg-gray-50 border-b pl-6 py-3 rounded-t text-gray-500 text-sm"},F={class:"bg-gray-50 border-b pl-6 py-3 rounded-t text-gray-500 text-sm mb-6"},V={key:0},W=e("span",{class:"text-gray-300 mx-4"},"|",-1),H=e("span",{class:"text-gray-300 mx-4"},"|",-1),O=e("span",{class:"text-gray-400"},"Start: ",-1),U=e("span",{class:"text-gray-300 mx-4"},"|",-1),Y=e("span",{class:"text-gray-400"},"End: ",-1),z={class:"bg-white overflow-hidden shadow-xl sm:rounded-lg"},G={class:"flex flex-col"},L={class:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"},R={class:"py-2 align-middle inline-block min-w-full sm:px-6 lg:px-8"},A={class:"shadow overflow-hidden border-b border-gray-200 sm:rounded-lg"},K={class:"min-w-full divide-y divide-gray-200"},Q=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},[e("span",null,"Name")]),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},[e("span",null,"Status")]),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider bg-indigo-100"},[e("span",null,"Total")]),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider bg-indigo-100"},[e("span",null,"Pending")]),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider bg-indigo-100"},[e("span",null,"Processed")]),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider bg-indigo-100"},[e("span",null,"Progress")]),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},[e("span",null,"Sprint Date")])])],-1),X={class:"bg-white divide-y divide-gray-200"},Z={class:"px-6 py-4 whitespace-nowrap"},J={class:"text-sm text-gray-900"},ee={class:"px-6 py-4"},te={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-center bg-indigo-50"},se={class:"text-sm text-gray-900"},ne={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-center bg-indigo-50"},ae={class:"text-sm text-gray-900"},oe={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-center bg-indigo-50"},re={class:"text-sm text-gray-900"},ie={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-center bg-indigo-50"},le={key:0,class:"text-lg text-green-600"},de={key:1,class:"w-full bg-gray-200 rounded-full"},ce={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},pe={key:0},me=e("td",{colspan:7,class:"px-6 py-4 whitespace-nowrap"},[e("div",{class:"text-center text-gray-900 text-sm p-6"},"No sms campaign sprints")],-1),ge=[me];function ue(t,r,_e,he,xe,ye){const c=y,g=x,u=d("jet-secondary-button"),_=d("SmsCampaignStatusBadge"),h=d("pagination");return o(),a("div",null,[e("div",q,[e("div",B,[e("div",I,n(t.smsCampaign.name),1),i(g,{separator:">",class:"mb-4"},{default:l(()=>[i(c,{onClick:r[0]||(r[0]=s=>t.nagivateToSmsCampaign())},{default:l(()=>[T]),_:1}),i(c,{onClick:r[1]||(r[1]=s=>t.nagivateToSmsCampaign(t.smsCampaign))},{default:l(()=>[e("span",E,n(t.smsCampaign.name),1)]),_:1})]),_:1}),i(u,{onClick:r[2]||(r[2]=s=>t.goBackToPreviousPage()),class:"py-1 mb-4"},{default:l(()=>[M,N]),_:1})]),e("div",D,[e("span",null,n(t.smsCampaign.description),1)]),e("div",F,[e("span",null,n(t.smsCampaign.schedule_type),1),t.smsCampaign.schedule_type=="Send Recurring"?(o(),a("span",V,[W,e("span",null,"Every "+n(t.smsCampaign.recurring_duration)+" "+n(t.recurringFrequencyWord),1),H,e("span",null,[O,p(n(t.moment(t.smsCampaign.start_datetime).format("lll")),1)]),U,e("span",null,[Y,p(n(t.moment(t.smsCampaign.end_datetime).format("lll")),1)])])):m("",!0)])]),e("div",z,[e("div",G,[e("div",L,[e("div",R,[e("div",A,[e("table",K,[Q,e("tbody",X,[(o(!0),a(S,null,P(t.smsCampaignBatchJobsPayload.data,s=>(o(),a("tr",{key:s.id},[e("td",Z,[e("div",J,n(s.name),1)]),e("td",ee,[i(_,{smsCampaignBatchJob:s},null,8,["smsCampaignBatchJob"])]),e("td",te,[e("div",se,n(s.total_jobs),1)]),e("td",ne,[e("div",ae,n(s.pending_jobs),1)]),e("td",oe,[e("div",re,n(s.processed_jobs),1)]),e("td",ie,[s.progress==100?(o(),a("span",le,n(s.progress)+" "+n(s.progress?"%":""),1)):(o(),a("div",de,[e("div",{class:"bg-green-600 text-xs font-medium text-blue-100 text-center p-0.5 leading-none rounded-full",style:j("width: "+s.progress+"%")},n(s.progress)+"%",5)]))]),e("td",ce,n(s.created_at==null?"...":t.moment(s.created_at).format("lll")),1)]))),128)),t.smsCampaignBatchJobsPayload.data.length==0?(o(),a("tr",pe,ge)):m("",!0)])])])])])]),i(h,{class:"mt-6",paginationPayload:t.smsCampaignBatchJobsPayload,updateData:["smsCampaignBatchJobsPayload"]},null,8,["paginationPayload"])])])}const Be=C($,[["render",ue]]);export{Be as default};
