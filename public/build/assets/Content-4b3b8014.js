import"./base-db6931af.js";import{E as f}from"./el-popover-f951fb79.js";import v from"./ManageUserModal-8f38d418.js";import{P as y}from"./Pagination-79fb9666.js";import{s as k,e as o,b as l,a as e,F as c,h as p,f as d,x as m,o as a,t as n,w as h,i as u}from"./app-9208801f.js";import{h as C}from"./moment-fbc5633a.js";import{_ as b}from"./_plugin-vue_export-helper-c27b6911.js";import"./icon-83b36fd9.js";import"./constants-a12154ec.js";import"./el-divider-293df02d.js";import"./TextInput-a95e4996.js";import"./InputLabel-43974353.js";import"./PrimaryButton-5cace0b7.js";import"./SelectInput-42f44530.js";import"./DialogModal-ca88d70a.js";import"./DangerButton-912ccd6f.js";import"./ActionMessage-4fcbc8f3.js";import"./SecondaryButton-2773cdfb.js";const P=k({components:{CreateUserModal:v,Pagination:y},props:{availablePermissions:Array,usersPayload:Object},data(){return{refreshContentInterval:null,isShowingModal:!1,modalAction:null,user:null,moment:C}},methods:{refreshContent(){this.$inertia.reload()},showModal(t,i){this.user=t,this.modalAction=i,this.isShowingModal=!0},cleanUp(){clearInterval(this.refreshContentInterval),this.refreshContentInterval=null}},created(){this.refreshContentInterval=setInterval(function(){this.refreshContent()}.bind(this),3e3)},unmounted(){this.cleanUp()}}),M={class:"bg-white overflow-hidden shadow-xl sm:rounded-lg"},$={class:"flex flex-col"},A={class:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"},I={class:"py-2 align-middle inline-block min-w-full sm:px-6 lg:px-8"},V={class:"shadow overflow-hidden border-b border-gray-200 sm:rounded-lg"},B={class:"min-w-full divide-y divide-gray-200"},E=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{scope:"col",class:"w-1/2 px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},[e("span",null,"Name")]),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider text-center"},[e("span",null,"Email")]),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider text-center"},[e("span",null,"Permissions")]),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},[e("span",null,"Created")]),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider text-right"},[e("span",null,"Actions")])])],-1),N={class:"bg-white divide-y divide-gray-200"},S={class:"px-6 py-4 whitespace-nowrap"},U={class:"text-sm text-gray-900"},j={class:"px-6 py-4 whitespace-nowrap"},z={class:"text-sm text-gray-900"},D={class:"px-6 py-4 whitespace-nowrap"},L={class:"text-lg text-green-600"},F=e("span",{class:"text-gray-400 mx-2"},"/",-1),O={class:"text-sm text-gray-400"},q={key:0,xmlns:"http://www.w3.org/2000/svg",class:"text-green-600 h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},G=e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M5 13l4 4L19 7"},null,-1),H=[G],J={key:1,xmlns:"http://www.w3.org/2000/svg",class:"text-gray-300 h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},K=e("path",{"fill-rule":"evenodd",d:"M13.477 14.89A6 6 0 015.11 6.524l8.367 8.368zm1.414-1.414L6.524 5.11a6 6 0 018.367 8.367zM18 10a8 8 0 11-16 0 8 8 0 0116 0z","clip-rule":"evenodd"},null,-1),Q=[K],R={class:"ml-3 block text-sm font-medium text-gray-700"},T={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},W={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},X=["onClick"],Y=["onClick"],Z={key:0},ee=e("td",{colspan:8,class:"px-6 py-4 whitespace-nowrap"},[e("div",{class:"text-center text-gray-900 text-sm p-6"},"No users")],-1),te=[ee];function se(t,i,oe,ae,ne,ie){const g=m("create-user-modal"),_=f,x=m("pagination");return a(),o("div",null,[l(g,{modelValue:t.isShowingModal,"onUpdate:modelValue":i[0]||(i[0]=s=>t.isShowingModal=s),action:t.modalAction,user:t.user,availablePermissions:t.availablePermissions},null,8,["modelValue","action","user","availablePermissions"]),e("div",M,[e("div",$,[e("div",A,[e("div",I,[e("div",V,[e("table",B,[E,e("tbody",N,[(a(!0),o(c,null,p(t.usersPayload.data,s=>(a(),o("tr",{key:s.id},[e("td",S,[e("div",U,n(s.name),1)]),e("td",j,[e("div",z,n(s.email),1)]),e("td",D,[l(_,{placement:"right",width:"200",trigger:"hover"},{reference:h(()=>[e("div",null,[e("span",L,n(s.pivot.permissions.length),1),F,e("span",O,n(t.availablePermissions.length),1)])]),default:h(()=>[e("div",null,[(a(!0),o(c,null,p(t.availablePermissions,(r,w)=>(a(),o("div",{key:w,class:"flex items-center"},[s.pivot.permissions.includes(r)?(a(),o("svg",q,H)):(a(),o("svg",J,Q)),e("span",R,n(r),1)]))),128))])]),_:2},1024)]),e("td",T,n(s.created_at==null?"...":t.moment(s.created_at).format("lll")),1),e("td",W,[t.$inertia.page.props.projectPermissions.includes("Manage users")?(a(),o("a",{key:0,href:"#",onClick:u(r=>t.showModal(s,"update"),["prevent"]),class:"text-indigo-600 hover:text-indigo-900 mr-3"},"Edit",8,X)):d("",!0),t.$inertia.page.props.projectPermissions.includes("Manage users")?(a(),o("a",{key:1,href:"#",onClick:u(r=>t.showModal(s,"delete"),["prevent"]),class:"text-red-600 hover:text-red-900"},"Delete",8,Y)):d("",!0)])]))),128)),t.usersPayload.data.length==0?(a(),o("tr",Z,te)):d("",!0)])])])])])]),l(x,{class:"mt-6",paginationPayload:t.usersPayload,updateData:["usersPayload"]},null,8,["paginationPayload"])])])}const Pe=b(P,[["render",se]]);export{Pe as default};
