import k from"./ActiveStatusBadge-e1ed11fc.js";import B from"./ActiveStatusBadge-52ed758f.js";import S from"./BillingTransactionStatusBadge-e733ecd8.js";import C from"./CreatedUsingAutoBillingBadge-09d4b33a.js";import{P}from"./Pagination-1121edc4.js";import{a as A,_ as I}from"./TextInput-b9cf3e40.js";import N from"./RatingTypeBadge-a8928aa7.js";import{h as U}from"./moment-fbc5633a.js";import{_ as $}from"./_plugin-vue_export-helper-c27b6911.js";import{q as D,s as n,o,e as r,a as t,b as p,F as i,h as l,f as d,t as s,c as x}from"./app-c4d3ae7d.js";/* empty css            */import"./base-5bd9e4c0.js";import"./el-popper-530fa187.js";import"./icon-0bb4004c.js";import"./constants-817ae69c.js";import"./el-popover-681d6f72.js";const R=D({components:{SubscriptionPlanActiveStatusBadge:k,SubscriptionActiveStatusBadge:B,Pagination:P,RatingTypeBadge:N,BillingTransactionStatusBadge:S,CreatedUsingAutoBillingBadge:C,JetInputError:A,JetInput:I},props:{billingTransactionsPayload:Object},data(){return{refreshContentInterval:null,moment:U,form:this.$inertia.form({search:""})}},methods:{refreshContent(){this.$inertia.reload()},cleanUp(){clearInterval(this.refreshContentInterval),this.refreshContentInterval=null}},created(){this.refreshContentInterval=setInterval(function(){this.refreshContent()}.bind(this),5e3)},unmounted(){this.cleanUp()}}),V={class:"grid grid-cols-12 gap-8"},j=t("div",{class:"col-span-6"},[t("div",{class:"bg-gray-50 border-b px-6 py-4 rounded-t text-gray-500 text-sm mb-4"},[t("div",{class:"text-2xl font-semibold leading-6 text-gray-500"},"Billing Transactions")])],-1),F={class:"col-span-6"},O={class:"mb-4"},E={class:"bg-white shadow-xl sm:rounded-lg"},J={class:"flex flex-col overflow-y-auto"},L={class:"align-middle inline-block min-w-full"},q={class:"shadow border-b border-gray-200"},M={class:"min-w-full divide-y divide-gray-200"},z=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{scope:"col",class:"px-6 py-3 whitespace-nowrap text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-r border-dotted border-r-teal-300"}),t("th",{scope:"col",colspan:"8",class:"px-6 py-3 whitespace-nowrap text-center text-xs font-medium text-gray-500 uppercase tracking-wider bg-teal-50 border-r border-dotted border-r-fuchsia-300"},[t("div",{class:"font-bold text-teal-500"},"TRANSACTION")]),t("th",{scope:"col",colspan:"5",class:"px-6 py-3 whitespace-nowrap text-center text-xs font-medium text-gray-500 uppercase tracking-wider bg-fuchsia-50 border-r border-dotted border-r-violet-300"},[t("div",{class:"font-bold text-fuchsia-500"},"SUBSCRIPTION")]),t("th",{scope:"col",colspan:"7",class:"px-6 py-3 whitespace-nowrap text-center text-xs font-medium text-gray-500 uppercase tracking-wider bg-violet-50"},[t("div",{class:"font-bold text-violet-500"},"SUBSCRIPTION PLAN")])]),t("tr",null,[t("th",{scope:"col",class:"px-6 py-3 whitespace-nowrap text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-r border-dotted border-r-teal-300"},[t("span",null,"Mobile")]),t("th",{scope:"col",class:"px-6 py-3 whitespace-nowrap text-left text-xs font-medium text-gray-500 uppercase tracking-wider bg-teal-50"},[t("span",null,"Status")]),t("th",{scope:"col",class:"px-6 py-3 whitespace-nowrap text-left text-xs font-medium text-gray-500 uppercase tracking-wider bg-teal-50"},[t("span",null,"Amount")]),t("th",{scope:"col",class:"px-6 py-3 whitespace-nowrap text-center text-xs font-medium text-gray-500 uppercase tracking-wider bg-teal-50"},[t("span",null,"Funds Before Deduction")]),t("th",{scope:"col",class:"px-6 py-3 whitespace-nowrap text-center text-xs font-medium text-gray-500 uppercase tracking-wider bg-teal-50"},[t("span",null,"Funds After Deduction")]),t("th",{scope:"col",class:"px-6 py-3 whitespace-nowrap text-center text-xs font-medium text-gray-500 uppercase tracking-wider bg-teal-50"},[t("span",null,"Rating Type")]),t("th",{scope:"col",class:"px-6 py-3 whitespace-nowrap text-center text-xs font-medium text-gray-500 uppercase tracking-wider bg-teal-50"},[t("span",null,"Auto Billing")]),t("th",{scope:"col",class:"px-6 py-3 whitespace-nowrap text-center text-xs font-medium text-gray-500 uppercase tracking-wider bg-teal-50"},[t("span",null,"Description")]),t("th",{scope:"col",class:"px-6 py-3 whitespace-nowrap text-center text-xs font-medium text-gray-500 uppercase tracking-wider bg-teal-50 border-r border-dotted border-r-fuchsia-300"},[t("span",null,"Created")]),t("th",{scope:"col",class:"px-6 py-3 whitespace-nowrap text-left text-xs font-medium text-gray-500 uppercase tracking-wider bg-fuchsia-50"},[t("span",null,"Start")]),t("th",{scope:"col",class:"px-6 py-3 whitespace-nowrap text-left text-xs font-medium text-gray-500 uppercase tracking-wider bg-fuchsia-50"},[t("span",null,"End")]),t("th",{scope:"col",class:"px-6 py-3 whitespace-nowrap text-left text-xs font-medium text-gray-500 uppercase tracking-wider bg-fuchsia-50"},[t("span",null,"Cancelled")]),t("th",{scope:"col",class:"px-6 py-3 whitespace-nowrap text-left text-xs font-medium text-gray-500 uppercase tracking-wider bg-fuchsia-50"},[t("span",null,"Active")]),t("th",{scope:"col",class:"px-6 py-3 whitespace-nowrap text-left text-xs font-medium text-gray-500 uppercase tracking-wider bg-fuchsia-50 border-r border-dotted border-r-violet-300"},[t("span",null,"Created")]),t("th",{scope:"col",class:"px-6 py-3 whitespace-nowrap text-xs font-medium text-gray-500 uppercase tracking-wider bg-violet-50"},[t("span",null,"Name")]),t("th",{scope:"col",class:"px-6 py-3 whitespace-nowrap text-xs font-medium text-gray-500 uppercase tracking-wider bg-violet-50"},[t("span",null,"Description")]),t("th",{scope:"col",class:"px-6 py-3 whitespace-nowrap text-center text-xs font-medium text-gray-500 uppercase tracking-wider bg-violet-50"},[t("span",null,"Active")]),t("th",{scope:"col",class:"px-6 py-3 whitespace-nowrap text-center text-xs font-medium text-gray-500 uppercase tracking-wider bg-violet-50"},[t("span",null,"Tags")]),t("th",{scope:"col",class:"px-6 py-3 whitespace-nowrap text-center text-xs font-medium text-gray-500 uppercase tracking-wider bg-violet-50"},[t("span",null,"Duration")]),t("th",{scope:"col",class:"px-6 py-3 whitespace-nowrap text-center text-xs font-medium text-gray-500 uppercase tracking-wider bg-violet-50"},[t("span",null,"Price")]),t("th",{scope:"col",class:"px-6 py-3 whitespace-nowrap text-left text-xs font-medium text-gray-500 uppercase tracking-wider bg-violet-50"},[t("span",null,"Created")])])],-1),G={class:"bg-white divide-y divide-gray-200"},H={class:"px-6 py-3 whitespace-nowrap text-sm text-gray-500 border-r border-dotted border-r-teal-300"},K={class:"text-sm text-gray-900"},Q={class:"px-6 py-3 whitespace-nowrap text-sm text-gray-500 text-left bg-teal-50"},W={class:"px-6 py-3 whitespace-nowrap text-md text-gray-500 text-center font-bold bg-teal-50"},X={class:"px-6 py-3 whitespace-nowrap text-sm text-gray-500 text-center bg-teal-50"},Y={class:"px-6 py-3 whitespace-nowrap text-sm text-gray-500 text-center bg-teal-50"},Z={class:"px-6 py-3 whitespace-nowrap text-sm text-gray-500 text-center bg-teal-50"},T={key:0},tt={class:"px-6 py-3 whitespace-nowrap text-sm text-gray-500 text-center bg-teal-50"},et={class:"px-6 py-3 whitespace-nowrap text-sm text-gray-500 text-center bg-teal-50"},st={class:"px-6 py-3 whitespace-nowrap text-sm text-gray-500 bg-teal-50 border-r border-dotted border-r-fuchsia-300"},at={class:"px-6 py-3 whitespace-nowrap text-sm text-gray-500 text-left bg-fuchsia-50"},ot={class:"px-6 py-3 whitespace-nowrap text-sm text-gray-500 text-left bg-fuchsia-50"},rt={class:"px-6 py-3 whitespace-nowrap text-sm text-gray-500 text-left bg-fuchsia-50"},nt={class:"px-6 py-3 whitespace-nowrap text-sm text-gray-500 text-center bg-fuchsia-50"},pt={key:0},ct={class:"px-6 py-3 whitespace-nowrap text-sm text-gray-500 text-left bg-fuchsia-50 border-r border-dotted border-r-violet-300"},it={class:"px-6 py-3 whitespace-nowrap text-sm text-gray-500 text-left bg-violet-50"},lt={class:"text-sm text-gray-900"},dt={class:"px-6 py-3 whitespace-nowrap text-sm text-gray-500 text-left bg-violet-50"},xt={class:"px-6 py-3 whitespace-nowrap text-sm text-gray-500 text-center bg-violet-50"},ut={class:"px-6 py-3 whitespace-nowrap text-sm text-gray-500 text-center bg-violet-50"},mt={key:0},ht={class:"flex space-x-2"},gt={class:"px-6 py-3 whitespace-nowrap text-sm text-gray-500 text-center bg-violet-50"},_t={class:"px-6 py-3 whitespace-nowrap text-sm text-gray-500 text-center bg-violet-50"},yt={class:"px-6 py-3 whitespace-nowrap text-sm text-gray-500 text-left bg-violet-50"},wt={key:0},ft=t("td",{colspan:10,class:"px-6 py-3 whitespace-nowrap"},[t("div",{class:"text-center text-gray-900 text-sm p-6"},"No billing transactions")],-1),bt=t("td",{colspan:10,class:"px-6 py-3 whitespace-nowrap"},[t("div",{class:"text-center text-gray-900 text-sm p-6"},"No billing transactions")],-1),vt=[ft,bt];function kt(a,c,Bt,St,Ct,Pt){const u=n("jet-input"),m=n("jet-input-error"),h=n("BillingTransactionStatusBadge"),g=n("RatingTypeBadge"),_=n("CreatedUsingAutoBillingBadge"),y=n("SubscriptionActiveStatusBadge"),w=n("SubscriptionPlanActiveStatusBadge"),f=n("pagination");return o(),r("div",null,[t("div",V,[j,t("div",F,[t("div",O,[p(u,{id:"search",type:"text",class:"w-full mt-1 block",modelValue:a.form.search,"onUpdate:modelValue":c[0]||(c[0]=e=>a.form.search=e),placeholder:"26772000001"},null,8,["modelValue"]),p(m,{message:a.form.errors.search,class:"mt-2"},null,8,["message"])])])]),t("div",E,[t("div",J,[t("div",L,[t("div",q,[t("table",M,[z,t("tbody",G,[(o(!0),r(i,null,l(a.billingTransactionsPayload.data,e=>(o(),r("tr",{key:e.id},[t("td",H,[t("div",K,s(e.subscriber.msisdn),1)]),t("td",Q,[p(h,{billingTransaction:e},null,8,["billingTransaction"])]),t("td",W,[t("span",null,s(e.amount.amount_with_currency),1)]),t("td",X,s(e.funds_before_deduction==null?"...":e.funds_before_deduction.amount_with_currency),1),t("td",Y,s(e.funds_after_deduction==null?"...":e.funds_after_deduction.amount_with_currency),1),t("td",Z,[e.rating_type==null?(o(),r("span",T,"...")):(o(),x(g,{key:1,billingTransaction:e},null,8,["billingTransaction"]))]),t("td",tt,[p(_,{billingTransaction:e},null,8,["billingTransaction"])]),t("td",et,[t("span",null,s(e.description),1)]),t("td",st,s(e.created_at==null?"...":a.moment(e.created_at).format("lll")),1),t("td",at,s(e.subscription==null?"...":a.moment(e.subscription.start_at).format("lll")),1),t("td",ot,s(e.subscription==null?"...":a.moment(e.subscription.end_at).format("lll")),1),t("td",rt,s(e.subscription==null||e.subscription.cancelled_at==null?"...":a.moment(e.subscription.cancelled_at).format("lll")),1),t("td",nt,[e.subscription==null?(o(),r("span",pt,"...")):(o(),x(y,{key:1,subscription:e.subscription},null,8,["subscription"]))]),t("td",ct,s(e.subscription==null?"...":a.moment(e.subscription.created_at).format("lll")),1),t("td",it,[t("div",lt,s(e.subscription_plan.name),1)]),t("td",dt,s(e.subscription_plan.description==null?"...":e.subscription_plan.description),1),t("td",xt,[p(w,{subscriptionPlan:e.subscription_plan},null,8,["subscriptionPlan"])]),t("td",ut,[e.subscription_plan.tags.length==0?(o(),r("div",mt,"...")):d("",!0),t("div",ht,[(o(!0),r(i,null,l(e.subscription_plan.tags,(b,v)=>(o(),r("div",{key:v,class:"bg-blue-50 text-blue-500 border border-blue-300 py-1 px-2 text-xs rounded"},s(b),1))),128))])]),t("td",gt,s(e.subscription_plan.duration_in_words==null?"...":e.subscription_plan.duration_in_words),1),t("td",_t,s(e.subscription_plan.price==null?"...":e.subscription_plan.price.amount_with_currency),1),t("td",yt,s(e.subscription_plan.created_at==null?"...":a.moment(e.subscription_plan.created_at).format("lll")),1)]))),128)),a.billingTransactionsPayload.data.length==0?(o(),r("tr",wt,vt)):d("",!0)])])])])]),p(f,{class:"mt-6",paginationPayload:a.billingTransactionsPayload,updateData:["billingTransactionsPayload"]},null,8,["paginationPayload"])])])}const zt=$(R,[["render",kt]]);export{zt as default};
