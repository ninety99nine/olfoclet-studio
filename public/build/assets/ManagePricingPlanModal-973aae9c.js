import"./base-9d5d9ef5.js";import{E as A,a as z}from"./el-tag-8223e060.js";import{E as Y,a as O}from"./el-select-98f34e10.js";import"./el-scrollbar-c0a0b428.js";import"./el-popper-d10fec87.js";import{E as W,a as R}from"./el-switch-0dafd2ea.js";import{E as J}from"./el-popover-04227f27.js";import{E as q,a as F}from"./el-breadcrumb-item-236bebd3.js";import{d as G,o as i,e as a,q as K,s as g,a as e,t as c,b as l,w as o,f as u,p as Q,F as p,h as v,c as h,g as d,bJ as X,i as V,n as x}from"./app-0c965242.js";import{_ as Z,a as ee}from"./TextInput-c06f189a.js";import{_ as se}from"./InputLabel-208bb471.js";import{J as te}from"./Textarea-d0469ae8.js";import{_ as le}from"./PrimaryButton-4462e8b6.js";import{J as ne}from"./SelectInput-3bc5cfc6.js";import{a as ie}from"./DialogModal-e43601e6.js";import{_ as oe}from"./DangerButton-709aae28.js";import{_ as ae}from"./SecondaryButton-ad3c249d.js";import{_ as re}from"./_plugin-vue_export-helper-c27b6911.js";import"./constants-3be68072.js";import"./icon-e84b57dd.js";import"./index-6fa13ed4.js";/* empty css            */const de=["value","maxlength","placeholder"],ue={__name:"NumberInput",props:{maxlength:Number,placeholder:String,modelValue:[Number,String]},emits:["update:modelValue"],setup(s){const t=G(null);return(S,P)=>(i(),a("input",{ref_key:"input",ref:t,type:"number",class:"border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm",value:s.modelValue,maxlength:s.maxlength,placeholder:s.placeholder,onInput:P[0]||(P[0]=w=>S.$emit("update:modelValue",w.target.value?parseInt(w.target.value):null))},null,40,de))}},me=K({components:{JetLabel:se,JetInput:Z,JetNumberInput:ue,JetTextarea:te,JetButton:le,JetInputError:ee,JetSelectInput:ne,JetDialogModal:ie,JetSecondaryButton:ae,JetDangerButton:oe},props:{action:String,breadcrumbs:Array,modelValue:Boolean,pricingPlan:Object,autoBillingReminders:Array,parentPricingPlan:Object,showHeader:{type:Boolean,default:!1}},data(){return{form:null,addTagInput:"",showAddTagInput:!1,showModal:this.modelValue,showSuccessMessage:!1,showErrorMessage:!1}},watch:{showModal:{handler:function(s,t){s!=this.modelValue&&this.$emit("update:modelValue",s)}},modelValue:{handler:function(s,t){s!=this.showModal&&(this.showModal=s,this.reset())}}},computed:{hasPricingPlan(){return this.pricingPlan!=null},wantsToUpdate(){return!!(this.hasPricingPlan&&this.action=="update")},wantsToDelete(){return!!(this.hasPricingPlan&&this.action=="delete")},billingTypeOptions(){return[{name:"One Time",value:"one time"},{name:"Subscription",value:"subscription"}]},frequencyOptions(){return[{name:this.form.duration=="1"?"Minute":"Minutes",value:"Minutes"},{name:this.form.duration=="1"?"Hour":"Hours",value:"Hours"},{name:this.form.duration=="1"?"Day":"Days",value:"Days"},{name:this.form.duration=="1"?"Week":"Weeks",value:"Weeks"},{name:this.form.duration=="1"?"Month":"Months",value:"Months"},{name:this.form.duration=="1"?"Year":"Years",value:"Years"}]},autoBillingReminderOptions(){return this.autoBillingReminders.map(function(s){return{name:s.name,value:s.id}})}},methods:{nagivateToPricingPlan(s=null){s?this.$inertia.get(route("show.pricing.plan",{project:route().params.project,pricing_plan:s.id})):this.$inertia.get(route("show.pricing.plans",{project:route().params.project}))},goBackToPreviousPage(){window.history.back()},openModal(){this.showModal=!0},closeModal(){this.showModal=!1},handleAddTag(){if(this.addTagInput){const s=this.addTagInput.trim();this.form.tags.includes(s)||this.form.tags.push(s)}this.showAddTagInput=!1,this.addTagInput=""},handleRemoveTag(s){this.form.tags.splice(this.form.tags.indexOf(s),1)},showInput(){this.showAddTagInput=!0,Q(()=>{this.$refs.addTagInputRef.focus()})},create(){var s={preserveState:!0,preserveScroll:!0,replace:!0,onSuccess:t=>{this.handleOnSuccess()},onError:t=>{this.handleOnError()}};this.form.transform(t=>((t.billing_purchase_category_code==null||t.billing_purchase_category_code.trim()=="")&&delete t.billing_purchase_category_code,(t.billing_product_id==null||t.billing_product_id.trim()=="")&&delete t.billing_product_id,t.is_folder?(console.log(t),{name:t.name,active:t.active,is_folder:t.is_folder,parent_id:t.parent_id}):(t.can_auto_bill==!1&&(delete t.next_auto_billing_reminder_sms_message,delete t.auto_billing_reminder_ids),t))).post(route("create.pricing.plan",{project:route().params.project}),s)},update(){var s={preserveState:!0,preserveScroll:!0,replace:!0,onSuccess:t=>{this.handleOnSuccess()},onError:t=>{this.handleOnError()}};this.form.transform(t=>((t.billing_purchase_category_code==null||t.billing_purchase_category_code.trim()=="")&&delete t.billing_purchase_category_code,(t.billing_product_id==null||t.billing_product_id.trim()=="")&&delete t.billing_product_id,t.is_folder?(console.log(t),{name:t.name,active:t.active,is_folder:t.is_folder,parent_id:t.parent_id}):(t.can_auto_bill==!1&&(delete t.next_auto_billing_reminder_sms_message,delete t.auto_billing_reminder_ids),t))).put(route("update.pricing.plan",{project:route().params.project,pricing_plan:this.pricingPlan.id}),s)},destroy(){var s={preserveState:!0,preserveScroll:!0,replace:!0,onSuccess:t=>{this.handleOnSuccess(!0)},onError:t=>{this.handleOnError()}};this.form.delete(route("delete.pricing.plan",{project:route().params.project,pricing_plan:this.pricingPlan.id}),s)},handleOnSuccess(s=!1){this.reset(),this.closeModal(),s&&this.$emit("onDeleted"),this.showSuccessMessage=!0,setTimeout(()=>{this.showSuccessMessage=!1},3e3)},handleOnError(){this.showErrorMessage=!0,setTimeout(()=>{this.showErrorMessage=!1},3e3)},reset(){this.form=this.$inertia.form({name:this.hasPricingPlan?this.pricingPlan.name:null,active:this.hasPricingPlan?this.pricingPlan.active:!1,tags:this.hasPricingPlan?this.pricingPlan.tags??[]:[],trial_days:this.hasPricingPlan?this.pricingPlan.trial_days:0,is_folder:this.hasPricingPlan?this.pricingPlan.is_folder:!1,frequency:this.hasPricingPlan?this.pricingPlan.frequency:"Days",parent_id:this.parentPricingPlan?this.parentPricingPlan.id:null,description:this.hasPricingPlan?this.pricingPlan.description:null,can_auto_bill:this.hasPricingPlan?this.pricingPlan.can_auto_bill:!1,billing_type:this.hasPricingPlan?this.pricingPlan.billing_type:"one time",price:this.hasPricingPlan?(this.pricingPlan.price??{}).amount_without_currency:null,max_auto_billing_attempts:this.hasPricingPlan?this.pricingPlan.max_auto_billing_attempts:3,billing_product_id:this.hasPricingPlan?this.pricingPlan.billing_product_id:"Product 123",billing_purchase_category_code:this.hasPricingPlan?this.pricingPlan.billing_purchase_category_code:"",duration:this.hasPricingPlan?this.pricingPlan.is_folder?null:this.pricingPlan.duration.toString():"3",auto_billing_reminder_ids:this.hasPricingPlan?this.pricingPlan.auto_billing_reminders.map(s=>s.id):[],insufficient_funds_message:this.hasPricingPlan?this.pricingPlan.insufficient_funds_message:"You do not have enough funds to complete this transaction",auto_billing_disabled_sms_message:this.hasPricingPlan?this.pricingPlan.auto_billing_disabled_sms_message:"You have been successfully unsubscribed from {{ pricingPlanName }}. Dial *xxx# to subscribe.",next_auto_billing_reminder_sms_message:this.hasPricingPlan?this.pricingPlan.next_auto_billing_reminder_sms_message:"You will be automatically billed {{ pricingPlanPrice }} on {{ nextBillableDate }} for {{ pricingPlanName }}. Dial *xxx# to unsubscribe.",trial_started_sms_message:this.hasPricingPlan?this.pricingPlan.trial_started_sms_message:"Your trial for {{ pricingPlanName }} has started. Valid till {{ subscriptionEndDate }}. You will be automatically billed on {{ nextBillableDate }}. Ref: #{{ subscriptionId }}. Dial *xxx# to unsubscribe.",successful_payment_sms_message:this.hasPricingPlan?this.pricingPlan.successful_payment_sms_message:"Your payment for {{ pricingPlanName }} was completed successfully. Valid till {{ subscriptionEndDate }}. You will be automatically billed on {{ nextBillableDate }}. Ref: #{{ subscriptionId }}. Dial *xxx# to unsubscribe.",successful_auto_billing_payment_sms_message:this.hasPricingPlan?this.pricingPlan.successful_auto_billing_payment_sms_message:"Your payment for {{ pricingPlanName }} was completed successfully. Valid till {{ subscriptionEndDate }}. You will be automatically billed on {{ nextBillableDate }}. Ref: #{{ subscriptionId }}. Dial *xxx# to unsubscribe."})}},created(){this.reset()}}),ce={key:0,class:"grid grid-cols-12 mb-6 gap-4"},pe={class:"col-span-8 bg-gray-50 pt-4 pl-6 border-b rounded-t"},ge={class:"text-2xl font-semibold leading-6 text-gray-500 border-b pb-4 mb-4"},_e={key:0,class:"border-b"},he=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M7 16l-4-4m0 0l4-4m-4 4h18"})],-1),be=e("span",{class:"ml-2"},"Go Back",-1),fe=e("span",{class:"hover:underline hover:text-green-600 text-green-500 font-semibold cursor-pointer"},"Pricing Plans",-1),ye={class:"hover:underline hover:text-green-600 text-green-500 font-semibold cursor-pointer"},ve={class:"text-sm text-gray-500 my-2"},Pe=e("span",{class:"font-bold mr-2"},"GET / POST:",-1),we={key:0,class:"text-green-500 font-semibold"},ke={key:1,class:"text-green-500 font-semibold"},Te={key:0,class:"col-span-4 flex justify-end items-start"},Me={key:0,class:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative mb-6 mt-3",role:"alert"},Ve={key:0,class:"font-bold"},xe={key:1,class:"font-bold"},Se={key:2,class:"font-bold"},De=e("svg",{class:"fill-current h-6 w-6 text-green-500",role:"button",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[e("title",null,"Close"),e("path",{d:"M14.348 14.849a1.2 1.2 0 0 1-1.697 0L10 11.819l-2.651 3.029a1.2 1.2 0 1 1-1.697-1.697l2.758-3.15-2.759-3.152a1.2 1.2 0 1 1 1.697-1.697L10 8.183l2.651-3.031a1.2 1.2 0 1 1 1.697 1.697l-2.758 3.152 2.758 3.15a1.2 1.2 0 0 1 0 1.698z"})],-1),Le=[De],Be={key:1,class:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6 mt-3",role:"alert"},He={key:0,class:"font-bold"},je={key:1,class:"font-bold"},Ie={key:2,class:"font-bold"},Ee=e("svg",{class:"fill-current h-6 w-6 text-red-500",role:"button",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[e("title",null,"Close"),e("path",{d:"M14.348 14.849a1.2 1.2 0 0 1-1.697 0L10 11.819l-2.651 3.029a1.2 1.2 0 1 1-1.697-1.697l2.758-3.15-2.759-3.152a1.2 1.2 0 1 1 1.697-1.697L10 8.183l2.651-3.031a1.2 1.2 0 1 1 1.697 1.697l-2.758 3.152 2.758 3.15a1.2 1.2 0 0 1 0 1.698z"})],-1),Ce=[Ee],Ue=e("span",{class:"block mt-6 mb-6"},"Are you sure you want to delete this pricing plan?",-1),$e={class:"text-sm text-gray-500"},Ne={class:"block mt-6 mb-6"},Ae={key:0},ze={class:"rounded-lg py-1 px-2 border border-green-400 text-green-500 text-sm"},Ye={key:1,class:"bg-gray-50 py-3 px-3 mt-6 mb-2"},Oe=e("span",{class:"hover:text-green-600 text-green-500 font-semibold"},"Pricing Plans",-1),We={class:"text-green-500 font-semibold"},Re={class:"mb-4"},Je={class:"mb-4"},qe=e("span",{class:"text-sm text-gray-500"},"Active",-1),Fe={class:"text-sm text-gray-400"},Ge={class:"mb-4"},Ke=e("span",{class:"text-sm text-gray-500"},"Folder",-1),Qe={class:"text-sm text-gray-400"},Xe={class:"mb-4"},Ze={class:"mb-4"},es={key:0,class:"grid gap-4 grid-cols-2"},ss={class:"mb-4"},ts={class:"mb-4"},ls={key:1,class:"mb-4"},ns={class:"mb-4"},is={class:"flex mb-1"},os=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 ml-2",fill:"none",viewBox:"0 0 24 24",strokeWidth:"{1.5}",stroke:"currentColor"},[e("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z"})],-1),as=e("span",{class:"break-normal"}," When billing the subscriber and creating airtime transation records, this description will be used as the transaction description. ",-1),rs={class:"flex bg-slate-50 rounded-lg p-4 mb-4"},ds=e("span",{class:"font-bold mr-2"},"Category",-1),us={key:0,class:"w-20"},ms={class:"mb-4"},cs={class:"flex mb-1"},ps=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 ml-2",fill:"none",viewBox:"0 0 24 24",strokeWidth:"{1.5}",stroke:"currentColor"},[e("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z"})],-1),gs=e("span",{class:"break-normal"}," While billing, this message will be used as the billing transaction description to know why the billing transaction failed. This message can be shown to the user via USSD if required. This is possible since making a subscription via the API endpoint returns the billing transaction resource which can be used to determine the billing transaction success status as well as this message to show the subscriber in the case that the transaction has failed due to insufficient funds. ",-1),_s=e("div",{class:"mt-4"},[e("table",{class:"w-full divide-y divide-gray-200"},[e("thead",null,[e("tr",{class:"font-bold"},[e("td",null,"Variable"),e("td",null,"Meaning")])]),e("tbody",{class:"divide-y divide-gray-200"},[e("tr",null,[e("td",{class:"font-semibold text-green-500",innerHTML:"{{ pricingPlanName }}"}),e("td",null,"The Pricing Plan name")]),e("tr",null,[e("td",{class:"font-semibold text-green-500",innerHTML:"{{ pricingPlanPrice }}"}),e("td",null,"The Pricing Plan price")])])])],-1),hs=e("p",{class:"mt-4"},[e("strong",null,"Example:"),d(),e("span",{innerHTML:"You do not have enough funds to complete this transaction"})],-1),bs=e("p",{class:"text-sm text-gray-500"},"If no message is specified, default message is returned!",-1),fs={key:2,class:"mb-4"},ys={class:"flex mb-1"},vs=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 ml-2",fill:"none",viewBox:"0 0 24 24",strokeWidth:"{1.5}",stroke:"currentColor"},[e("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z"})],-1),Ps=e("span",{class:"break-normal"}," While starting a trial, this message will be sent as an SMS to the subscriber ",-1),ws=e("div",{class:"mt-4"},[e("table",{class:"w-full divide-y divide-gray-200"},[e("thead",null,[e("tr",{class:"font-bold"},[e("td",null,"Variable"),e("td",null,"Meaning")])]),e("tbody",{class:"divide-y divide-gray-200"},[e("tr",null,[e("td",{class:"font-semibold text-green-500",innerHTML:"{{ subscriptionId }}"}),e("td",null,"The Subscription ID")]),e("tr",null,[e("td",{class:"font-semibold text-green-500",innerHTML:"{{ nextBillableDate }}"}),e("td",null,"The next billable date")]),e("tr",null,[e("td",{class:"font-semibold text-green-500",innerHTML:"{{ subscriptionEndDate }}"}),e("td",null,"The Subscription end date")]),e("tr",null,[e("td",{class:"font-semibold text-green-500",innerHTML:"{{ subscriptionStartDate }}"}),e("td",null,"The Subscription start date")]),e("tr",null,[e("td",{class:"font-semibold text-green-500",innerHTML:"{{ pricingPlanName }}"}),e("td",null,"The Pricing Plan name")]),e("tr",null,[e("td",{class:"font-semibold text-green-500",innerHTML:"{{ pricingPlanPrice }}"}),e("td",null,"The Pricing Plan price")])])])],-1),ks={class:"mt-4"},Ts=e("strong",null,"Example:",-1),Ms=["innerHTML"],Vs=e("p",{class:"text-sm text-gray-500"},"If no message is specified, no SMS message is sent!",-1),xs={class:"mb-4"},Ss={class:"flex mb-1"},Ds=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 ml-2",fill:"none",viewBox:"0 0 24 24",strokeWidth:"{1.5}",stroke:"currentColor"},[e("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z"})],-1),Ls=e("span",{class:"break-normal"}," While billing, this message will be sent as an SMS to the subscriber if they have sufficient funds to complete the transaction ",-1),Bs=e("div",{class:"mt-4"},[e("table",{class:"w-full divide-y divide-gray-200"},[e("thead",null,[e("tr",{class:"font-bold"},[e("td",null,"Variable"),e("td",null,"Meaning")])]),e("tbody",{class:"divide-y divide-gray-200"},[e("tr",null,[e("td",{class:"font-semibold text-green-500",innerHTML:"{{ subscriptionId }}"}),e("td",null,"The Subscription ID")]),e("tr",null,[e("td",{class:"font-semibold text-green-500",innerHTML:"{{ nextBillableDate }}"}),e("td",null,"The next billable date")]),e("tr",null,[e("td",{class:"font-semibold text-green-500",innerHTML:"{{ subscriptionEndDate }}"}),e("td",null,"The Subscription end date")]),e("tr",null,[e("td",{class:"font-semibold text-green-500",innerHTML:"{{ subscriptionStartDate }}"}),e("td",null,"The Subscription start date")]),e("tr",null,[e("td",{class:"font-semibold text-green-500",innerHTML:"{{ pricingPlanName }}"}),e("td",null,"The Pricing Plan name")]),e("tr",null,[e("td",{class:"font-semibold text-green-500",innerHTML:"{{ pricingPlanPrice }}"}),e("td",null,"The Pricing Plan price")])])])],-1),Hs={class:"mt-4"},js=e("strong",null,"Example:",-1),Is=["innerHTML"],Es=e("p",{class:"text-sm text-gray-500"},"If no message is specified, no SMS message is sent!",-1),Cs={class:"mb-4"},Us={class:"flex mb-1"},$s=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 ml-2",fill:"none",viewBox:"0 0 24 24",strokeWidth:"{1.5}",stroke:"currentColor"},[e("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z"})],-1),Ns=e("span",{class:"break-normal"}," This is the pricing plan identifier used by the Mobile Network to distiguish between transactions based on the product being purchased. Give a unique name that will distinguish this pricing plan as a product ",-1),As={class:"mb-4"},zs={class:"flex mb-1"},Ys=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 ml-2",fill:"none",viewBox:"0 0 24 24",strokeWidth:"{1.5}",stroke:"currentColor"},[e("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z"})],-1),Os=e("span",{class:"break-normal"}," This is the pricing plan category used by the Mobile Network to distiguish between transactions. This parameter MUST be filled with values validated by AAS integration team ",-1),Ws={key:3,class:"mb-4"},Rs=e("span",{class:"text-sm text-gray-500"},"Can Auto Bill",-1),Js={class:"text-sm text-gray-400"},qs={class:"mb-4"},Fs={class:"flex mb-1"},Gs=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 ml-2",fill:"none",viewBox:"0 0 24 24",strokeWidth:"{1.5}",stroke:"currentColor"},[e("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z"})],-1),Ks=e("span",{class:"break-normal"}," While auto billing, this message will be sent as an SMS to the subscriber if they have sufficient funds to complete the transaction ",-1),Qs=e("div",{class:"mt-4"},[e("table",{class:"w-full divide-y divide-gray-200"},[e("thead",null,[e("tr",{class:"font-bold"},[e("td",null,"Variable"),e("td",null,"Meaning")])]),e("tbody",{class:"divide-y divide-gray-200"},[e("tr",null,[e("td",{class:"font-semibold text-green-500",innerHTML:"{{ subscriptionId }}"}),e("td",null,"The Subscription ID")]),e("tr",null,[e("td",{class:"font-semibold text-green-500",innerHTML:"{{ nextBillableDate }}"}),e("td",null,"The next billable date")]),e("tr",null,[e("td",{class:"font-semibold text-green-500",innerHTML:"{{ subscriptionEndDate }}"}),e("td",null,"The Subscription end date")]),e("tr",null,[e("td",{class:"font-semibold text-green-500",innerHTML:"{{ subscriptionStartDate }}"}),e("td",null,"The Subscription start date")]),e("tr",null,[e("td",{class:"font-semibold text-green-500",innerHTML:"{{ pricingPlanName }}"}),e("td",null,"The Pricing Plan name")]),e("tr",null,[e("td",{class:"font-semibold text-green-500",innerHTML:"{{ pricingPlanPrice }}"}),e("td",null,"The Pricing Plan price")])])])],-1),Xs={class:"mt-4"},Zs=e("strong",null,"Example:",-1),et=["innerHTML"],st=e("p",{class:"text-sm text-gray-500"},"If no message is specified, no SMS message is sent!",-1),tt={class:"mb-4"},lt={class:"flex items-center mb-4"},nt=e("span",{class:"font-medium text-sm text-gray-700 whitespace-nowrap mr-2"},"Next Auto Billing Reminder:",-1),it={class:"w-full"},ot={class:"mb-4"},at={class:"flex mb-1"},rt=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 ml-2",fill:"none",viewBox:"0 0 24 24",strokeWidth:"{1.5}",stroke:"currentColor"},[e("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z"})],-1),dt=e("span",{class:"break-normal"}," Before billing, this message will be sent as an SMS to the subscriber to notify them several hours before auto billing is attempted. This grants the subscriber the opportunity to unsubscribe if necessary ",-1),ut={class:"mt-4"},mt=e("table",{class:"w-full divide-y divide-gray-200"},[e("thead",null,[e("tr",{class:"font-bold"},[e("td",null,"Variable"),e("td",null,"Meaning")])]),e("tbody",{class:"divide-y divide-gray-200"},[e("tr",null,[e("td",{class:"font-semibold text-green-500",innerHTML:"{{ nextBillableDate }}"}),e("td",null,"The next billable date")]),e("tr",null,[e("td",{class:"font-semibold text-green-500",innerHTML:"{{ pricingPlanName }}"}),e("td",null,"The Pricing Plan name")]),e("tr",null,[e("td",{class:"font-semibold text-green-500",innerHTML:"{{ pricingPlanPrice }}"}),e("td",null,"The Pricing Plan price")])])],-1),ct={class:"mt-4"},pt=e("strong",null,"Example:",-1),gt=["innerHTML"],_t=e("p",{class:"text-sm text-gray-500"},"If no message is specified, no SMS message is sent!",-1),ht={class:"mb-4"},bt={class:"flex mb-1"},ft=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 ml-2",fill:"none",viewBox:"0 0 24 24",strokeWidth:"{1.5}",stroke:"currentColor"},[e("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z"})],-1),yt=e("span",{class:"break-normal"}," After attempting auto billing for the last time with no avail, this message will be sent to the subscriber to notify them that auto billing has been disabled for this pricing plan. This means that auto billing on this pricing plan will no longer be attempted moving forward, therefore the subscriber must internally subscribe for this pricing plan ",-1),vt={class:"mt-4"},Pt=e("table",{class:"w-full divide-y divide-gray-200"},[e("thead",null,[e("tr",{class:"font-bold"},[e("td",null,"Variable"),e("td",null,"Meaning")])]),e("tbody",{class:"divide-y divide-gray-200"},[e("tr",null,[e("td",{class:"font-semibold text-green-500",innerHTML:"{{ pricingPlanName }}"}),e("td",null,"The Pricing Plan name")]),e("tr",null,[e("td",{class:"font-semibold text-green-500",innerHTML:"{{ pricingPlanPrice }}"}),e("td",null,"The Pricing Plan price")])])],-1),wt={class:"mt-4"},kt=e("strong",null,"Example:",-1),Tt=["innerHTML"],Mt=e("p",{class:"text-sm text-gray-500"},"If no message is specified, no SMS message is sent!",-1);function Vt(s,t,S,P,w,xt){const D=g("jet-secondary-button"),f=F,L=q,k=g("jet-button"),m=g("jet-label"),y=g("jet-input"),r=g("jet-input-error"),T=W,B=g("jet-select-input"),M=g("jet-number-input"),_=J,b=g("jet-textarea"),H=A,j=z,I=R,E=Y,C=O,U=g("jet-danger-button"),$=g("jet-dialog-modal");return i(),a("div",null,[s.showHeader?(i(),a("div",ce,[e("div",pe,[e("div",ge,c(s.parentPricingPlan?s.parentPricingPlan.name:"Pricing Plans"),1),s.parentPricingPlan?(i(),a("div",_e,[l(D,{onClick:t[0]||(t[0]=n=>s.goBackToPreviousPage()),class:"py-1 mb-4"},{default:o(()=>[he,be]),_:1}),l(L,{separator:">",class:"mb-4"},{default:o(()=>[l(f,{onClick:t[1]||(t[1]=n=>s.nagivateToPricingPlan())},{default:o(()=>[fe]),_:1}),(i(!0),a(p,null,v(s.breadcrumbs,n=>(i(),h(f,{key:n.id,onClick:N=>s.nagivateToPricingPlan(n)},{default:o(()=>[e("span",ye,c(n.name),1)]),_:2},1032,["onClick"]))),128))]),_:1})])):u("",!0),e("div",ve,[Pe,s.parentPricingPlan?(i(),a("span",we,c(s.route("api.show.pricing.plan",{project:s.route().params.project,pricing_plan:s.parentPricingPlan.id,type:"children"})),1)):(i(),a("span",ke,c(s.route("api.show.pricing.plans",{project:s.route().params.project})),1))])]),s.$inertia.page.props.projectPermissions.includes("Manage pricing plans")?(i(),a("div",Te,[l(k,{onClick:t[2]||(t[2]=n=>s.openModal())},{default:o(()=>[d("Add Pricing Plan")]),_:1})])):u("",!0)])):u("",!0),e("div",null,[s.showSuccessMessage?(i(),a("div",Me,[s.wantsToUpdate?(i(),a("strong",Ve,"Pricing plan updated successfully")):s.wantsToDelete?(i(),a("strong",xe,"Pricing plan deleted successfully")):(i(),a("strong",Se,"Pricing plan created successfully")),e("span",{onClick:t[3]||(t[3]=n=>s.showSuccessMessage=!1),class:"absolute top-0 bottom-0 right-0 px-4 py-3"},Le)])):u("",!0),s.showErrorMessage?(i(),a("div",Be,[s.wantsToUpdate?(i(),a("strong",He,"Pricing plan update failed")):s.wantsToDelete?(i(),a("strong",je,"Pricing plan delete failed")):(i(),a("strong",Ie,"Pricing plan creation failed")),e("span",{onClick:t[4]||(t[4]=n=>s.showSuccessMessage=!1),class:"absolute top-0 bottom-0 right-0 px-4 py-3"},Ce)])):u("",!0),l($,{show:s.showModal,closeable:!1},{title:o(()=>[s.wantsToUpdate?(i(),a(p,{key:0},[d("Update Pricing Plan")],64)):s.wantsToDelete?(i(),a(p,{key:1},[d("Delete Pricing Plan")],64)):(i(),a(p,{key:2},[d("Add Pricing Plan")],64))]),content:o(()=>[s.wantsToDelete?(i(),a(p,{key:0},[Ue,e("p",$e,c(s.pricingPlan.name),1)],64)):(i(),a(p,{key:1},[e("span",Ne,[s.parentPricingPlan?(i(),a("span",Ae,[d(" You are "+c(s.wantsToUpdate?"updating":"adding")+" a pricing plan for ",1),e("span",ze,c(s.parentPricingPlan.name),1)])):u("",!0),s.parentPricingPlan?(i(),a("div",Ye,[l(L,{separator:">"},{default:o(()=>[l(f,null,{default:o(()=>[Oe]),_:1}),(i(!0),a(p,null,v(s.breadcrumbs,n=>(i(),h(f,{key:n.id},{default:o(()=>[e("span",We,c(n.name),1)]),_:2},1024))),128))]),_:1})])):u("",!0)]),e("div",Re,[l(m,{for:"name",value:"Name"}),l(y,{id:"name",type:"text",class:"w-full mt-1 block",modelValue:s.form.name,"onUpdate:modelValue":t[5]||(t[5]=n=>s.form.name=n),placeholder:"Daily @ P95.00"},null,8,["modelValue"]),l(r,{message:s.form.errors.name,class:"mt-2"},null,8,["message"])]),e("div",Je,[qe,l(T,{modelValue:s.form.active,"onUpdate:modelValue":t[6]||(t[6]=n=>s.form.active=n),class:"mx-2"},null,8,["modelValue"]),e("span",Fe,"— "+c(s.form.active?"Turn off to disable this pricing plan":"Turn on to enable this pricing plan"),1)]),e("div",Ge,[Ke,l(T,{modelValue:s.form.is_folder,"onUpdate:modelValue":t[7]||(t[7]=n=>s.form.is_folder=n),class:"mx-2"},null,8,["modelValue"]),e("span",Qe,"— "+c(s.form.is_folder?"Turn off to make this a pricing plan":"Turn on to make this a folder"),1)]),s.form.is_folder==!1?(i(),a(p,{key:0},[e("div",Xe,[l(B,{placeholder:"Select billing type",options:s.billingTypeOptions,modelValue:s.form.billing_type,"onUpdate:modelValue":t[8]||(t[8]=n=>s.form.billing_type=n),class:"mt-6"},null,8,["options","modelValue"]),l(r,{message:s.form.errors.billing_type,class:"mt-2"},null,8,["message"])]),e("div",Ze,[l(m,{for:"price",value:"Price",class:"mb-1"}),l(y,{id:"price",type:"text",class:"w-full mt-1 block",modelValue:s.form.price,"onUpdate:modelValue":t[9]||(t[9]=n=>s.form.price=n),placeholder:"95.00"},null,8,["modelValue"]),l(r,{message:s.form.errors.price,class:"mt-2"},null,8,["message"])]),s.form.billing_type=="subscription"?(i(),a("div",es,[e("div",ss,[l(m,{for:"duration",value:"Duration"}),l(M,{id:"duration",class:"w-full mt-1 block",modelValue:s.form.duration,"onUpdate:modelValue":t[10]||(t[10]=n=>s.form.duration=n),modelModifiers:{string:!0},placeholder:"1"},null,8,["modelValue"]),l(r,{message:s.form.errors.duration,class:"mt-2"},null,8,["message"])]),e("div",ts,[l(B,{placeholder:"Select frequency",options:s.frequencyOptions,modelValue:s.form.frequency,"onUpdate:modelValue":t[11]||(t[11]=n=>s.form.frequency=n),class:"mt-6"},null,8,["options","modelValue"]),l(r,{message:s.form.errors.frequency,class:"mt-2"},null,8,["message"])])])):u("",!0),s.form.billing_type=="subscription"?(i(),a("div",ls,[l(m,{for:"trial_days",value:"Trial Days"}),l(M,{id:"trial_days",class:"w-full mt-1",modelValue:s.form.trial_days,"onUpdate:modelValue":t[12]||(t[12]=n=>s.form.trial_days=n),modelModifiers:{string:!0},min:"0",max:"1000",placeholder:"3"},null,8,["modelValue"]),l(r,{message:s.form.errors.trial_days,class:"mt-2"},null,8,["message"])])):u("",!0),e("div",ns,[e("div",is,[l(m,{for:"sub-pl-description",value:"Description"}),l(_,{width:300},{reference:o(()=>[os]),default:o(()=>[as]),_:1})]),l(b,{id:"sub-pl-description",class:"w-full mt-1 block",modelValue:s.form.description,"onUpdate:modelValue":t[13]||(t[13]=n=>s.form.description=n)},null,8,["modelValue"]),l(r,{message:s.form.errors.description,class:"mt-2"},null,8,["message"])]),e("div",rs,[ds,(i(!0),a(p,null,v(s.form.tags,n=>(i(),h(H,{key:n,class:"mx-1",closable:"","disable-transitions":!1,onClose:N=>s.handleRemoveTag(n)},{default:o(()=>[d(c(n),1)]),_:2},1032,["onClose"]))),128)),s.showAddTagInput?(i(),a("span",us,[l(j,{ref:"addTagInputRef",modelValue:s.addTagInput,"onUpdate:modelValue":t[14]||(t[14]=n=>s.addTagInput=n),size:"small",onKeyup:X(s.handleAddTag,["enter"]),onBlur:s.handleAddTag},null,8,["modelValue","onKeyup","onBlur"])])):(i(),h(I,{key:1,class:"button-new-tag ml-1",size:"small",onClick:s.showInput},{default:o(()=>[d(" + New Tag ")]),_:1},8,["onClick"]))]),e("div",ms,[e("div",cs,[l(m,{for:"sub-pl-c-message",value:"Insufficient Funds Message"}),l(_,{width:400},{reference:o(()=>[ps]),default:o(()=>[gs,_s,hs]),_:1})]),bs,l(b,{id:"sub-pl-insufficient-funds-message",class:"w-full mt-1 block",modelValue:s.form.insufficient_funds_message,"onUpdate:modelValue":t[15]||(t[15]=n=>s.form.insufficient_funds_message=n)},null,8,["modelValue"]),l(r,{message:s.form.errors.insufficient_funds_message,class:"mt-2"},null,8,["message"])]),s.form.billing_type=="subscription"?(i(),a("div",fs,[e("div",ys,[l(m,{for:"sub-pl-successful-payment-sms-message",value:"Trial Started SMS Message"}),l(_,{width:400},{reference:o(()=>[vs]),default:o(()=>[Ps,ws,e("p",ks,[Ts,d(),e("span",{innerHTML:"Your trial for {{ pricingPlanName }} priced at {{ pricingPlanPrice }} has started. Valid till {{ subscriptionEndDate }}. You will be automatically billed on {{ nextBillableDate }}. Ref: #{{ subscriptionId }} . Dial *xxx# to unsubscribe."},null,8,Ms)])]),_:1})]),Vs,l(b,{id:"sub-pl-successful-payment-sms-message",class:"w-full mt-1 block",modelValue:s.form.trial_started_sms_message,"onUpdate:modelValue":t[16]||(t[16]=n=>s.form.trial_started_sms_message=n)},null,8,["modelValue"]),l(r,{message:s.form.errors.trial_started_sms_message,class:"mt-2"},null,8,["message"])])):u("",!0),e("div",xs,[e("div",Ss,[l(m,{for:"sub-pl-successful-payment-sms-message",value:"Successful Payment SMS Message"}),l(_,{width:400},{reference:o(()=>[Ds]),default:o(()=>[Ls,Bs,e("p",Hs,[js,d(),e("span",{innerHTML:"Your payment for {{ pricingPlanName }} priced {{ pricingPlanPrice }} was completed successfully. Valid till {{ subscriptionEndDate }}. You will be automatically billed on {{ nextBillableDate }}. Ref: #{{ subscriptionId }} . Dial *xxx# to unsubscribe."},null,8,Is)])]),_:1})]),Es,l(b,{id:"sub-pl-successful-payment-sms-message",class:"w-full mt-1 block",modelValue:s.form.successful_payment_sms_message,"onUpdate:modelValue":t[17]||(t[17]=n=>s.form.successful_payment_sms_message=n)},null,8,["modelValue"]),l(r,{message:s.form.errors.successful_payment_sms_message,class:"mt-2"},null,8,["message"])]),e("div",Cs,[e("div",Us,[l(m,{for:"billing_product_id",value:"Billing Product ID (AAS)"}),l(_,{width:400},{reference:o(()=>[$s]),default:o(()=>[Ns]),_:1})]),l(y,{id:"billing_product_id",type:"text",class:"w-full mt-1 block",modelValue:s.form.billing_product_id,"onUpdate:modelValue":t[18]||(t[18]=n=>s.form.billing_product_id=n),placeholder:"Product 123"},null,8,["modelValue"]),l(r,{message:s.form.errors.billing_product_id,class:"mt-2"},null,8,["message"])]),e("div",As,[e("div",zs,[l(m,{for:"billing_purchase_category_code",value:"Billing Purchase Category Code (AAS)"}),l(_,{width:400},{reference:o(()=>[Ys]),default:o(()=>[Os]),_:1})]),l(y,{id:"billing_purchase_category_code",type:"text",class:"w-full mt-1 block",modelValue:s.form.billing_purchase_category_code,"onUpdate:modelValue":t[19]||(t[19]=n=>s.form.billing_purchase_category_code=n),placeholder:"Product 123"},null,8,["modelValue"]),l(r,{message:s.form.errors.billing_purchase_category_code,class:"mt-2"},null,8,["message"])]),s.form.billing_type=="subscription"?(i(),a("div",Ws,[Rs,l(T,{modelValue:s.form.can_auto_bill,"onUpdate:modelValue":t[20]||(t[20]=n=>s.form.can_auto_bill=n),class:"mx-2"},null,8,["modelValue"]),e("span",Js,"— "+c(s.form.can_auto_bill?"Turn off to disable auto billing on this pricing plan":"Turn on to enable auto billing on this pricing plan"),1)])):u("",!0),s.form.billing_type=="subscription"&&s.form.can_auto_bill?(i(),a(p,{key:4},[e("div",qs,[e("div",Fs,[l(m,{for:"sub-pl-successful-auto-payment-sms-message",value:"Successful Auto Billing Payment SMS Message"}),l(_,{width:400},{reference:o(()=>[Gs]),default:o(()=>[Ks,Qs,e("p",Xs,[Zs,d(),e("span",{innerHTML:"Your auto payment for {{ pricingPlanName }} priced {{ pricingPlanPrice }} was completed successfully. Valid till {{ subscriptionEndDate }}. You will be automatically billed on {{ nextBillableDate }}. Ref: #{{ subscriptionId }} . Dial *xxx# to unsubscribe."},null,8,et)])]),_:1})]),st,l(b,{id:"sub-pl-successful-auto-payment-sms-message",class:"w-full mt-1 block",modelValue:s.form.successful_auto_billing_payment_sms_message,"onUpdate:modelValue":t[21]||(t[21]=n=>s.form.successful_auto_billing_payment_sms_message=n)},null,8,["modelValue"]),l(r,{message:s.form.errors.successful_auto_billing_payment_sms_message,class:"mt-2"},null,8,["message"])]),e("div",tt,[l(m,{for:"max_auto_billing_attempts",value:"Maximum Auto Billing Attempts"}),l(M,{id:"max_auto_billing_attempts",class:"w-full mt-1",modelValue:s.form.max_auto_billing_attempts,"onUpdate:modelValue":t[22]||(t[22]=n=>s.form.max_auto_billing_attempts=n),modelModifiers:{string:!0},min:"0",max:"1000",placeholder:"3"},null,8,["modelValue"]),l(r,{message:s.form.errors.max_auto_billing_attempts,class:"mt-2"},null,8,["message"])]),e("div",lt,[nt,e("div",it,[l(C,{modelValue:s.form.auto_billing_reminder_ids,"onUpdate:modelValue":t[23]||(t[23]=n=>s.form.auto_billing_reminder_ids=n),multiple:"",placeholder:"Set Reminders",class:"w-full"},{default:o(()=>[(i(!0),a(p,null,v(s.autoBillingReminderOptions,n=>(i(),h(E,{key:n.value,value:n.value,label:n.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue"]),l(r,{message:s.form.errors.auto_billing_reminder_ids,class:"mt-2"},null,8,["message"])])]),e("div",ot,[e("div",at,[l(m,{for:"next_auto_billing_reminder_sms_message",value:"Next Auto Billing Reminder SMS Message"}),l(_,{width:400},{reference:o(()=>[rt]),default:o(()=>[dt,e("div",ut,[mt,e("p",ct,[pt,d(),e("span",{innerHTML:"You will be automatically billed for {{ pricingPlanName }} priced {{ pricingPlanPrice }} on {{ nextBillableDate }}. Dial *xxx# to unsubscribe."},null,8,gt)])])]),_:1})]),_t,l(b,{id:"next_auto_billing_reminder_sms_message",class:"w-full mt-1 block",modelValue:s.form.next_auto_billing_reminder_sms_message,"onUpdate:modelValue":t[24]||(t[24]=n=>s.form.next_auto_billing_reminder_sms_message=n)},null,8,["modelValue"]),l(r,{message:s.form.errors.next_auto_billing_reminder_sms_message,class:"mt-2"},null,8,["message"])]),e("div",ht,[e("div",bt,[l(m,{for:"auto_billing_disabled_sms_message",value:"Auto Billing Disabled SMS Message"}),l(_,{width:400},{reference:o(()=>[ft]),default:o(()=>[yt,e("div",vt,[Pt,e("p",wt,[kt,d(),e("span",{innerHTML:"You have unsubscribed from {{ pricingPlanName }} priced {{ pricingPlanPrice }}. Dial *217# to subscribe."},null,8,Tt)])])]),_:1})]),Mt,l(b,{id:"auto_billing_disabled_sms_message",class:"w-full mt-1 block",modelValue:s.form.auto_billing_disabled_sms_message,"onUpdate:modelValue":t[25]||(t[25]=n=>s.form.auto_billing_disabled_sms_message=n)},null,8,["modelValue"]),l(r,{message:s.form.errors.auto_billing_disabled_sms_message,class:"mt-2"},null,8,["message"])])],64)):u("",!0)],64)):u("",!0)],64))]),footer:o(()=>[l(D,{onClick:t[26]||(t[26]=n=>s.closeModal()),class:"mr-2"},{default:o(()=>[d(" Cancel ")]),_:1}),s.hasPricingPlan?u("",!0):(i(),h(k,{key:0,onClick:t[27]||(t[27]=V(n=>s.create(),["prevent"])),class:x({"opacity-25":s.form.processing}),disabled:s.form.processing},{default:o(()=>[d(" Create ")]),_:1},8,["class","disabled"])),s.wantsToUpdate?(i(),h(k,{key:1,onClick:t[28]||(t[28]=V(n=>s.update(),["prevent"])),class:x({"opacity-25":s.form.processing}),disabled:s.form.processing},{default:o(()=>[d(" Update ")]),_:1},8,["class","disabled"])):u("",!0),s.wantsToDelete?(i(),h(U,{key:2,onClick:t[29]||(t[29]=V(n=>s.destroy(),["prevent"])),class:x({"opacity-25":s.form.processing}),disabled:s.form.processing},{default:o(()=>[d(" Delete ")]),_:1},8,["class","disabled"])):u("",!0)]),_:1},8,["show"])])])}const Kt=re(me,[["render",Vt]]);export{Kt as default};
