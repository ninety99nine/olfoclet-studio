import"./base-9406257f.js";import{E as x,a as y}from"./el-breadcrumb-item-f3a669e7.js";import{P as f}from"./Pagination-5b3257f9.js";import{_ as b}from"./SecondaryButton-f998f617.js";import v from"./AutoBillingStatusBadge-e2244d0f.js";import{h as w}from"./moment-fbc5633a.js";import{_ as P}from"./_plugin-vue_export-helper-c27b6911.js";import{q as k,s as c,o,e as r,a as e,t as n,b as i,w as l,g as p,f as u,F as C,h as j,x as $}from"./app-c2ab2b5a.js";import"./icon-e373acc6.js";import"./index-07059b82.js";/* empty css            */const q=k({components:{Pagination:f,AutoBillingStatusBadge:v,JetSecondaryButton:b},props:{subscriptionPlan:Object,subscriptionPlanAutoBillingJobBatchesPayload:Object},data(){return{refreshContentInterval:null,moment:w}},computed:{recurringFrequencyWord(){return this.subscriptionPlan.recurring_duration==1?this.subscriptionPlan.recurring_frequency=="Years"?"Year":this.subscriptionPlan.recurring_frequency=="Months"?"Month":this.subscriptionPlan.recurring_frequency=="Weeks"?"Week":this.subscriptionPlan.recurring_frequency=="Days"?"Day":this.subscriptionPlan.recurring_frequency=="Hours"?"Hour":this.subscriptionPlan.recurring_frequency=="Minutes"?"Minute":"":this.subscriptionPlan.recurring_frequency}},methods:{refreshContent(){this.$inertia.reload()},nagivateToSubscriptionPlan(t=null){t?this.$inertia.get(route("show.auto.billing.subscription.plan.job.batches",{project:route().params.project,subscription_plan:t.id})):this.$inertia.get(route("show.auto.billing.subscription.plans",{project:route().params.project}))},goBackToPreviousPage(){window.history.back()},cleanUp(){clearInterval(this.refreshContentInterval),this.refreshContentInterval=null}},created(){this.refreshContentInterval=setInterval(function(){this.refreshContent()}.bind(this),5e3)},unmounted(){this.cleanUp()}}),A={class:"mb-6 gap-4"},B={class:"bg-gray-50 pt-4 pl-6 border-b rounded-t"},I={class:"text-2xl font-semibold leading-6 text-gray-500 mb-4"},T=e("span",{class:"hover:underline hover:text-green-600 text-green-500 font-semibold cursor-pointer"},"Auto Billing Sprints",-1),E={class:"hover:underline hover:text-green-600 text-green-500 font-semibold cursor-pointer"},N=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M7 16l-4-4m0 0l4-4m-4 4h18"})],-1),D=e("span",{class:"ml-2"},"Go Back",-1),M={class:"bg-gray-50 border-b pl-6 py-3 rounded-t text-gray-500 text-sm"},S={class:"bg-gray-50 border-b pl-6 py-3 rounded-t text-gray-500 text-sm mb-6"},F={key:0},V=e("span",{class:"text-gray-300 mx-4"},"|",-1),W=e("span",{class:"text-gray-300 mx-4"},"|",-1),H=e("span",{class:"text-gray-400"},"Start: ",-1),O=e("span",{class:"text-gray-300 mx-4"},"|",-1),U=e("span",{class:"text-gray-400"},"End: ",-1),Y={class:"bg-white overflow-hidden shadow-xl sm:rounded-lg"},z={class:"flex flex-col"},G={class:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"},L={class:"py-2 align-middle inline-block min-w-full sm:px-6 lg:px-8"},R={class:"shadow overflow-hidden border-b border-gray-200 sm:rounded-lg"},K={class:"min-w-full divide-y divide-gray-200"},Q=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},[e("span",null,"Name")]),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},[e("span",null,"Status")]),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider bg-indigo-100"},[e("span",null,"Total")]),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider bg-indigo-100"},[e("span",null,"Pending")]),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider bg-indigo-100"},[e("span",null,"Processed")]),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider bg-indigo-100"},[e("span",null,"Progress")]),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},[e("span",null,"Sprint Date")])])],-1),X={class:"bg-white divide-y divide-gray-200"},Z={class:"px-6 py-4 whitespace-nowrap"},J={class:"text-sm text-gray-900"},ee={class:"px-6 py-4"},te={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-center bg-indigo-50"},se={class:"text-sm text-gray-900"},ne={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-center bg-indigo-50"},oe={class:"text-sm text-gray-900"},re={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-center bg-indigo-50"},ae={class:"text-sm text-gray-900"},ie={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-center bg-indigo-50"},le={key:0,class:"text-lg text-green-600"},ce={key:1,class:"w-full bg-gray-200 rounded-full"},de={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},pe={key:0},ue=e("td",{colspan:7,class:"px-6 py-4 whitespace-nowrap"},[e("div",{class:"text-center text-gray-900 text-sm p-6"},"No subscription plan sprints")],-1),ge=[ue];function me(t,a,_e,he,xe,ye){const d=y,g=x,m=c("jet-secondary-button"),_=c("AutoBillingStatusBadge"),h=c("pagination");return o(),r("div",null,[e("div",A,[e("div",B,[e("div",I,n(t.subscriptionPlan.name),1),i(g,{separator:">",class:"mb-4"},{default:l(()=>[i(d,{onClick:a[0]||(a[0]=s=>t.nagivateToSubscriptionPlan())},{default:l(()=>[T]),_:1}),i(d,{onClick:a[1]||(a[1]=s=>t.nagivateToSubscriptionPlan(t.subscriptionPlan))},{default:l(()=>[e("span",E,n(t.subscriptionPlan.name),1)]),_:1})]),_:1}),i(m,{onClick:a[2]||(a[2]=s=>t.goBackToPreviousPage()),class:"py-1 mb-4"},{default:l(()=>[N,D]),_:1})]),e("div",M,[e("span",null,n(t.subscriptionPlan.description),1)]),e("div",S,[e("span",null,n(t.subscriptionPlan.schedule_type),1),t.subscriptionPlan.schedule_type=="Send Recurring"?(o(),r("span",F,[V,e("span",null,"Every "+n(t.subscriptionPlan.recurring_duration)+" "+n(t.recurringFrequencyWord),1),W,e("span",null,[H,p(n(t.moment(t.subscriptionPlan.start_datetime).format("lll")),1)]),O,e("span",null,[U,p(n(t.moment(t.subscriptionPlan.end_datetime).format("lll")),1)])])):u("",!0)])]),e("div",Y,[e("div",z,[e("div",G,[e("div",L,[e("div",R,[e("table",K,[Q,e("tbody",X,[(o(!0),r(C,null,j(t.subscriptionPlanAutoBillingJobBatchesPayload.data,s=>(o(),r("tr",{key:s.id},[e("td",Z,[e("div",J,n(s.name),1)]),e("td",ee,[i(_,{autoBillingSubscriptionPlanJobBatch:s},null,8,["autoBillingSubscriptionPlanJobBatch"])]),e("td",te,[e("div",se,n(s.total_jobs),1)]),e("td",ne,[e("div",oe,n(s.pending_jobs),1)]),e("td",re,[e("div",ae,n(s.processed_jobs),1)]),e("td",ie,[s.progress==100?(o(),r("span",le,n(s.progress)+" "+n(s.progress?"%":""),1)):(o(),r("div",ce,[e("div",{class:"bg-green-600 text-xs font-medium text-blue-100 text-center p-0.5 leading-none rounded-full animate-pulse",style:$("width: "+s.progress+"%")},n(s.progress)+"%",5)]))]),e("td",de,n(s.created_at==null?"...":t.moment(s.created_at).format("lll")),1)]))),128)),t.subscriptionPlanAutoBillingJobBatchesPayload.data.length==0?(o(),r("tr",pe,ge)):u("",!0)])])])])])]),i(h,{class:"mt-6",paginationPayload:t.subscriptionPlanAutoBillingJobBatchesPayload,updateData:["subscriptionPlanAutoBillingJobBatchesPayload"]},null,8,["paginationPayload"])])])}const Be=P(q,[["render",me]]);export{Be as default};
