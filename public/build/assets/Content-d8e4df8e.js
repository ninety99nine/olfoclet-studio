import{P as g}from"./Pagination-da9c2a8d.js";import h from"./ManageMessageModal-ef85f5da.js";import{s as u,e as o,b as l,a as s,F as y,h as _,f as n,x as m,o as a,t as f,i as r}from"./app-aa3a5b47.js";import{h as w}from"./moment-fbc5633a.js";import{_ as v}from"./_plugin-vue_export-helper-c27b6911.js";import"./base-8c06a7ab.js";import"./el-breadcrumb-item-a00e1850.js";import"./icon-377e2223.js";import"./index-0d447684.js";import"./TextInput-28a9ac13.js";import"./InputLabel-33de89bf.js";import"./Textarea-1fa6a91b.js";import"./PrimaryButton-e02593b1.js";import"./SelectInput-f4060b13.js";import"./DialogModal-624f465c.js";import"./DangerButton-be211269.js";import"./SecondaryButton-744ebfb5.js";const x=u({components:{ManageMessageModal:h,Pagination:g},props:{parentMessage:Object,messagesPayload:Object,breadcrumbs:Array},data(){return{isShowingModal:!1,modalAction:null,message:null,moment:w}},methods:{showModal(e,i){this.message=e,this.modalAction=i,this.isShowingModal=!0}}}),b={class:"bg-white overflow-hidden shadow-xl sm:rounded-lg"},M={class:"flex flex-col"},k={class:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"},P={class:"py-2 align-middle inline-block min-w-full sm:px-6 lg:px-8"},C={class:"shadow overflow-hidden border-b border-gray-200 sm:rounded-lg"},$={class:"min-w-full divide-y divide-gray-200"},V=s("thead",{class:"bg-gray-50"},[s("tr",null,[s("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},[s("span",null,"Content")]),s("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider text-right"},[s("span",null,"Actions")])])],-1),j={class:"bg-white divide-y divide-gray-200"},A={class:"px-6 py-4"},S={class:"text-sm text-gray-900"},N={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},B=["onClick"],D=["onClick"],E=["onClick"],F={key:0},O=s("td",{colspan:7,class:"px-6 py-4 whitespace-nowrap"},[s("div",{class:"text-center text-gray-900 text-sm p-6"},"No messages")],-1),L=[O];function U(e,i,q,z,G,H){const p=m("manage-message-modal"),c=m("pagination");return a(),o("div",null,[l(p,{modelValue:e.isShowingModal,"onUpdate:modelValue":i[0]||(i[0]=t=>e.isShowingModal=t),action:e.modalAction,message:e.message,parentMessage:e.parentMessage,breadcrumbs:e.breadcrumbs},null,8,["modelValue","action","message","parentMessage","breadcrumbs"]),s("div",b,[s("div",M,[s("div",k,[s("div",P,[s("div",C,[s("table",$,[V,s("tbody",j,[(a(!0),o(y,null,_(e.messagesPayload.data,t=>(a(),o("tr",{key:t.id},[s("td",A,[s("div",S,f(t.content),1)]),s("td",N,[e.$inertia.page.props.projectPermissions.includes("View messages")?(a(),o("a",{key:0,href:"#",onClick:r(d=>e.$inertia.get(e.route("show-message",{project:e.route().params.project,message:t.id})),["prevent"]),class:"text-indigo-600 hover:text-indigo-900 mr-3"},"View",8,B)):n("",!0),e.$inertia.page.props.projectPermissions.includes("Manage messages")?(a(),o("a",{key:1,href:"#",onClick:r(d=>e.showModal(t,"update"),["prevent"]),class:"text-indigo-600 hover:text-indigo-900 mr-3"},"Edit",8,D)):n("",!0),e.$inertia.page.props.projectPermissions.includes("Manage messages")?(a(),o("a",{key:2,href:"#",onClick:r(d=>e.showModal(t,"delete"),["prevent"]),class:"text-red-600 hover:text-red-900"},"Delete",8,E)):n("",!0)])]))),128)),e.messagesPayload.data.length==0?(a(),o("tr",F,L)):n("",!0)])])])])])]),l(c,{class:"mt-6",paginationPayload:e.messagesPayload,updateData:["messagesPayload"]},null,8,["paginationPayload"])])])}const re=v(x,[["render",U]]);export{re as default};
