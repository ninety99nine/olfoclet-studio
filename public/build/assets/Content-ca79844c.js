import y from"./BillingTransactionStatusBadge-1358fc7f.js";import _ from"./CreatedUsingAutoBillingBadge-0863ac97.js";import w from"./ActiveStatusBadge-20d0c00f.js";import b from"./RatingTypeBadge-b27dc2f8.js";import f from"./AutoBillingReminderStatusBadge-07a9ac35.js";import v from"./AutoBillingEnabledStatusBadge-f86c7db0.js";import{P as k}from"./Pagination-acdcc653.js";import{C as A}from"./Countdown-656779c9.js";import{h as B}from"./moment-fbc5633a.js";import{_ as T}from"./_plugin-vue_export-helper-c27b6911.js";import{q as L,s as p,o as n,e as r,a as t,F as C,h as P,f as I,b as o,t as a,c as i}from"./app-c7e1a3a7.js";import"./base-c23ab198.js";import"./el-popper-68cbe15d.js";import"./icon-cbe10490.js";import"./constants-0ca5ff05.js";import"./el-popover-a5d04c3c.js";/* empty css            */const N=L({components:{Countdown:A,SubscriptionPlanActiveStatusBadge:w,AutoBillingReminderStatusBadge:f,AutoBillingEnabledStatusBadge:v,Pagination:k,BillingTransactionStatusBadge:y,RatingTypeBadge:b,CreatedUsingAutoBillingBadge:_},props:{autoBillingSchedulesPayload:Object},data(){return{refreshContentInterval:null,moment:B}},methods:{getLatestAutoBillingTransaction(s){return s.subscriber.latest_auto_billing_transaction??{}},refreshContent(){this.$inertia.reload()},cleanUp(){clearInterval(this.refreshContentInterval),this.refreshContentInterval=null}},created(){this.refreshContentInterval=setInterval(function(){this.refreshContent()}.bind(this),5e3)},unmounted(){this.cleanUp()}}),D=t("div",{class:"grid grid-cols-12 gap-4"},[t("div",{class:"col-span-6"},[t("div",{class:"bg-gray-50 border-b px-6 py-4 rounded-t text-gray-500 text-sm mb-4"},[t("div",{class:"text-2xl font-semibold leading-6 text-gray-500"},"Auto Billing Schedules")])])],-1),R={class:"bg-white shadow-xl sm:rounded-lg"},U={class:"flex flex-col overflow-y-auto"},E={class:"align-middle inline-block min-w-full"},H={class:"shadow border-b border-gray-200"},O={class:"min-w-full divide-y divide-gray-200"},F=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{scope:"col",class:"px-6 py-3 whitespace-nowrap text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-r border-dotted border-r-teal-300"}),t("th",{scope:"col",colspan:"7",class:"px-6 py-3 whitespace-nowrap text-center text-xs font-medium text-gray-500 uppercase tracking-wider bg-teal-50 border-r border-dotted border-r-fuchsia-300"},[t("div",{class:"font-bold text-teal-500"},"AUTO BILLING SCHEDULE")]),t("th",{scope:"col",colspan:"8",class:"px-6 py-3 whitespace-nowrap text-center text-xs font-medium text-gray-500 uppercase tracking-wider bg-fuchsia-50 border-r border-dotted border-r-violet-300"},[t("div",{class:"font-bold text-fuchsia-500"},"LAST AUTO BILLING TRANSACTION")]),t("th",{scope:"col",colspan:"6",class:"px-6 py-3 whitespace-nowrap text-center text-xs font-medium text-gray-500 uppercase tracking-wider bg-violet-50 border-r border-dotted border-r-teal-300"},[t("div",{class:"font-bold text-violet-500"},"AUTO BILLING REMINDER")]),t("th",{scope:"col",colspan:"6",class:"px-6 py-3 whitespace-nowrap text-center text-xs font-medium text-gray-500 uppercase tracking-wider bg-teal-50"},[t("div",{class:"font-bold text-teal-500"},"SUBSCRIPTION PLAN")])]),t("tr",null,[t("th",{scope:"col",class:"px-6 py-3 whitespace-nowrap text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-r border-dotted border-r-teal-300"},[t("span",null,"Mobile")]),t("th",{scope:"col",class:"px-6 py-3 whitespace-nowrap text-left text-xs font-medium text-gray-500 uppercase tracking-wider bg-teal-50"},[t("span",null,"Auto Billing Enabled")]),t("th",{scope:"col",class:"px-6 py-3 whitespace-nowrap text-center text-xs font-medium text-gray-500 uppercase tracking-wider bg-teal-50"},[t("span",null,"Next Attempt Date")]),t("th",{scope:"col",class:"px-6 py-3 whitespace-nowrap text-center text-xs font-medium text-gray-500 uppercase tracking-wider bg-teal-50"},[t("span",null,"Countdown")]),t("th",{scope:"col",class:"px-6 py-3 whitespace-nowrap text-center text-xs font-medium text-gray-500 uppercase tracking-wider bg-teal-50"},[t("span",null,"Attempts")]),t("th",{scope:"col",class:"px-6 py-3 whitespace-nowrap text-center text-xs font-medium text-gray-500 uppercase tracking-wider bg-teal-50"},[t("span",null,"Total Successful Attempts")]),t("th",{scope:"col",class:"px-6 py-3 whitespace-nowrap text-center text-xs font-medium text-gray-500 uppercase tracking-wider bg-teal-50"},[t("span",null,"Total Failed Attempts")]),t("th",{scope:"col",class:"px-6 py-3 whitespace-nowrap text-center text-xs font-medium text-gray-500 uppercase tracking-wider bg-teal-50 border-r border-dotted border-r-fuchsia-300"},[t("span",null,"Created Date")]),t("th",{scope:"col",class:"px-6 py-3 whitespace-nowrap text-left text-xs font-medium text-gray-500 uppercase tracking-wider bg-fuchsia-50"},[t("span",null,"Status")]),t("th",{scope:"col",class:"px-6 py-3 whitespace-nowrap text-left text-xs font-medium text-gray-500 uppercase tracking-wider bg-fuchsia-50"},[t("span",null,"Amount")]),t("th",{scope:"col",class:"px-6 py-3 whitespace-nowrap text-center text-xs font-medium text-gray-500 uppercase tracking-wider bg-fuchsia-50"},[t("span",null,"Funds Before Deduction")]),t("th",{scope:"col",class:"px-6 py-3 whitespace-nowrap text-center text-xs font-medium text-gray-500 uppercase tracking-wider bg-fuchsia-50"},[t("span",null,"Funds After Deduction")]),t("th",{scope:"col",class:"px-6 py-3 whitespace-nowrap text-center text-xs font-medium text-gray-500 uppercase tracking-wider bg-fuchsia-50"},[t("span",null,"Rating Type")]),t("th",{scope:"col",class:"px-6 py-3 whitespace-nowrap text-center text-xs font-medium text-gray-500 uppercase tracking-wider bg-fuchsia-50"},[t("span",null,"Auto Billing")]),t("th",{scope:"col",class:"px-6 py-3 whitespace-nowrap text-center text-xs font-medium text-gray-500 uppercase tracking-wider bg-fuchsia-50"},[t("span",null,"Description")]),t("th",{scope:"col",class:"px-6 py-3 whitespace-nowrap text-center text-xs font-medium text-gray-500 uppercase tracking-wider bg-fuchsia-50 border-r border-dotted border-r-violet-300"},[t("span",null,"Created")]),t("th",{scope:"col",class:"px-6 py-3 whitespace-nowrap text-center text-xs font-medium text-gray-500 uppercase tracking-wider bg-violet-50"},[t("span",null,"72 Hours Before")]),t("th",{scope:"col",class:"px-6 py-3 whitespace-nowrap text-center text-xs font-medium text-gray-500 uppercase tracking-wider bg-violet-50"},[t("span",null,"48 Hours Before")]),t("th",{scope:"col",class:"px-6 py-3 whitespace-nowrap text-center text-xs font-medium text-gray-500 uppercase tracking-wider bg-violet-50"},[t("span",null,"24 Hours Before")]),t("th",{scope:"col",class:"px-6 py-3 whitespace-nowrap text-center text-xs font-medium text-gray-500 uppercase tracking-wider bg-violet-50"},[t("span",null,"12 Hours Before")]),t("th",{scope:"col",class:"px-6 py-3 whitespace-nowrap text-center text-xs font-medium text-gray-500 uppercase tracking-wider bg-violet-50"},[t("span",null,"6 Hours Before")]),t("th",{scope:"col",class:"px-6 py-3 whitespace-nowrap text-center text-xs font-medium text-gray-500 uppercase tracking-wider bg-violet-50 border-r border-dotted border-r-teal-300"},[t("span",null,"1 Hour Before")]),t("th",{scope:"col",class:"px-6 py-3 whitespace-nowrap text-xs font-medium text-gray-500 uppercase tracking-wider bg-teal-50"},[t("span",null,"Name")]),t("th",{scope:"col",class:"px-6 py-3 whitespace-nowrap text-xs font-medium text-gray-500 uppercase tracking-wider bg-teal-50"},[t("span",null,"Description")]),t("th",{scope:"col",class:"px-6 py-3 whitespace-nowrap text-center text-xs font-medium text-gray-500 uppercase tracking-wider bg-teal-50"},[t("span",null,"Active")]),t("th",{scope:"col",class:"px-6 py-3 whitespace-nowrap text-center text-xs font-medium text-gray-500 uppercase tracking-wider bg-teal-50"},[t("span",null,"Duration")]),t("th",{scope:"col",class:"px-6 py-3 whitespace-nowrap text-center text-xs font-medium text-gray-500 uppercase tracking-wider bg-teal-50"},[t("span",null,"Price")]),t("th",{scope:"col",class:"px-6 py-3 whitespace-nowrap text-left text-xs font-medium text-gray-500 uppercase tracking-wider bg-teal-50"},[t("span",null,"Created")])])],-1),$={class:"bg-white divide-y divide-gray-200"},G={class:"px-6 py-3 whitespace-nowrap border-r border-dotted border-r-teal-300"},V={class:"text-sm text-gray-900"},M={class:"px-6 py-3 text-sm text-gray-500 text-center bg-teal-50"},j={class:"px-6 py-3 whitespace-nowrap text-sm text-gray-500 text-left bg-teal-50"},q={class:"px-6 py-3 whitespace-nowrap text-sm text-gray-500 text-center bg-teal-50"},z={class:"px-6 py-3 text-sm text-gray-500 text-center bg-teal-50"},J={class:"px-6 py-3 text-sm text-gray-500 text-center bg-teal-50"},K={class:"px-6 py-3 text-sm text-gray-500 text-center bg-teal-50"},Q={class:"px-6 py-3 whitespace-nowrap text-sm text-gray-500 text-left bg-teal-50 border-r border-dotted border-r-fuchsia-300"},W={class:"px-6 py-3 whitespace-nowrap text-sm text-gray-500 text-left bg-fuchsia-50"},X={key:1},Y={class:"px-6 py-3 whitespace-nowrap text-md text-gray-500 text-center font-bold bg-fuchsia-50"},Z={key:0},S={key:1},tt={class:"px-6 py-3 whitespace-nowrap text-sm text-gray-500 text-center bg-fuchsia-50"},et={class:"px-6 py-3 whitespace-nowrap text-sm text-gray-500 text-center bg-fuchsia-50"},st={class:"px-6 py-3 whitespace-nowrap text-sm text-gray-500 text-center bg-fuchsia-50"},at={key:1},nt={class:"px-6 py-3 whitespace-nowrap text-sm text-gray-500 text-center bg-fuchsia-50"},ot={key:1},rt={class:"px-6 py-3 whitespace-nowrap text-sm text-gray-500 text-center bg-fuchsia-50"},pt={class:"px-6 py-3 whitespace-nowrap text-sm text-gray-500 bg-fuchsia-50 border-r border-dotted border-r-violet-300"},ct={class:"px-6 py-3 text-xs text-gray-500 bg-violet-50"},it={class:"px-6 py-3 text-xs text-gray-500 bg-violet-50"},lt={class:"px-6 py-3 text-xs text-gray-500 bg-violet-50"},dt={class:"px-6 py-3 text-xs text-gray-500 bg-violet-50"},xt={class:"px-6 py-3 text-xs text-gray-500 bg-violet-50"},gt={class:"px-6 py-3 text-xs text-gray-500 bg-violet-50 border-r border-dotted border-r-teal-300"},ut={class:"px-6 py-3 whitespace-nowrap text-sm text-gray-500 text-left bg-teal-50"},mt={class:"text-sm text-gray-900"},ht={class:"px-6 py-3 whitespace-nowrap text-sm text-gray-500 text-left bg-teal-50"},yt={class:"px-6 py-3 whitespace-nowrap text-sm text-gray-500 text-center bg-teal-50"},_t={class:"px-6 py-3 whitespace-nowrap text-sm text-gray-500 text-center bg-teal-50"},wt={class:"px-6 py-3 whitespace-nowrap text-sm text-gray-500 text-center bg-teal-50"},bt={class:"px-6 py-3 whitespace-nowrap text-sm text-gray-500 text-left bg-teal-50"},ft={key:0},vt=t("td",{colspan:10,class:"px-6 py-3 whitespace-nowrap"},[t("div",{class:"text-center text-gray-900 text-sm p-6"},"No auto billing schedules")],-1),kt=t("td",{colspan:10,class:"px-6 py-3 whitespace-nowrap"},[t("div",{class:"text-center text-gray-900 text-sm p-6"},"No auto billing schedules")],-1),At=t("td",{colspan:7,class:"px-6 py-3 whitespace-nowrap"},[t("div",{class:"text-center text-gray-900 text-sm p-6"},"No auto billing schedules")],-1),Bt=[vt,kt,At];function Tt(s,Lt,Ct,Pt,It,Nt){const l=p("AutoBillingEnabledStatusBadge"),d=p("Countdown"),x=p("BillingTransactionStatusBadge"),g=p("RatingTypeBadge"),u=p("CreatedUsingAutoBillingBadge"),c=p("AutoBillingReminderStatusBadge"),m=p("SubscriptionPlanActiveStatusBadge"),h=p("pagination");return n(),r("div",null,[D,t("div",R,[t("div",U,[t("div",E,[t("div",H,[t("table",O,[F,t("tbody",$,[(n(!0),r(C,null,P(s.autoBillingSchedulesPayload.data,e=>(n(),r("tr",{key:e.id},[t("td",G,[t("div",V,a(e.subscriber.msisdn),1)]),t("td",M,[o(l,{autoBillingSchedule:e},null,8,["autoBillingSchedule"])]),t("td",j,a(e.next_attempt_date==null?"...":s.moment(e.next_attempt_date).format("lll")),1),t("td",q,[o(d,{time:e.next_attempt_date_milli_seconds_left},null,8,["time"])]),t("td",z,a(e.attempts==null?"...":e.attempts)+" / "+a(e.subscription_plan==null?"...":e.subscription_plan.max_auto_billing_attempts),1),t("td",J,a(e.total_successful_attempts==null?"...":e.total_successful_attempts),1),t("td",K,a(e.total_failed_attempts==null?"...":e.total_failed_attempts),1),t("td",Q,a(e.created_at==null?"...":s.moment(e.created_at).format("lll")),1),t("td",W,[s.getLatestAutoBillingTransaction(e).is_successful?(n(),i(x,{key:0,billingTransaction:s.getLatestAutoBillingTransaction(e)},null,8,["billingTransaction"])):(n(),r("span",X,"..."))]),t("td",Y,[s.getLatestAutoBillingTransaction(e).amount?(n(),r("span",Z,a(s.getLatestAutoBillingTransaction(e).amount.amount_with_currency),1)):(n(),r("span",S,"..."))]),t("td",tt,a(s.getLatestAutoBillingTransaction(e).funds_before_deduction==null?"...":s.getLatestAutoBillingTransaction(e).funds_before_deduction.amount_with_currency),1),t("td",et,a(s.getLatestAutoBillingTransaction(e).funds_after_deduction==null?"...":s.getLatestAutoBillingTransaction(e).funds_after_deduction.amount_with_currency),1),t("td",st,[s.getLatestAutoBillingTransaction(e).rating_type?(n(),i(g,{key:0,billingTransaction:s.getLatestAutoBillingTransaction(e)},null,8,["billingTransaction"])):(n(),r("span",at,"..."))]),t("td",nt,[s.getLatestAutoBillingTransaction(e).created_using_auto_billing?(n(),i(u,{key:0,billingTransaction:s.getLatestAutoBillingTransaction(e)},null,8,["billingTransaction"])):(n(),r("span",ot,"..."))]),t("td",rt,[t("span",null,a(s.getLatestAutoBillingTransaction(e).description??"..."),1)]),t("td",pt,a(s.getLatestAutoBillingTransaction(e).created_at==null?"...":s.moment(s.getLatestAutoBillingTransaction(e).created_at).format("lll")),1),t("td",ct,[o(c,{hours:72,autoBillingSchedule:e},null,8,["autoBillingSchedule"])]),t("td",it,[o(c,{hours:48,autoBillingSchedule:e},null,8,["autoBillingSchedule"])]),t("td",lt,[o(c,{hours:24,autoBillingSchedule:e},null,8,["autoBillingSchedule"])]),t("td",dt,[o(c,{hours:12,autoBillingSchedule:e},null,8,["autoBillingSchedule"])]),t("td",xt,[o(c,{hours:6,autoBillingSchedule:e},null,8,["autoBillingSchedule"])]),t("td",gt,[o(c,{hours:1,autoBillingSchedule:e},null,8,["autoBillingSchedule"])]),t("td",ut,[t("div",mt,a(e.subscription_plan.name),1)]),t("td",ht,a(e.subscription_plan.description==null?"...":e.subscription_plan.description),1),t("td",yt,[o(m,{subscriptionPlan:e.subscription_plan},null,8,["subscriptionPlan"])]),t("td",_t,a(e.subscription_plan.duration_in_words==null?"...":e.subscription_plan.duration_in_words),1),t("td",wt,a(e.subscription_plan.price==null?"...":e.subscription_plan.price.amount_with_currency),1),t("td",bt,a(e.subscription_plan.created_at==null?"...":s.moment(e.subscription_plan.created_at).format("lll")),1)]))),128)),s.autoBillingSchedulesPayload.data.length==0?(n(),r("tr",ft,Bt)):I("",!0)])])])])]),o(h,{class:"mt-6",paginationPayload:s.autoBillingSchedulesPayload,updateData:["autoBillingSchedulesPayload"]},null,8,["paginationPayload"])])])}const Wt=T(N,[["render",Tt]]);export{Wt as default};
