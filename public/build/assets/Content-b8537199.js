import k from"./BillingTransactionStatusBadge-2ee3024b.js";import v from"./CreatedUsingAutoBillingBadge-7c69cd79.js";import A from"./ActiveStatusBadge-52cf4de7.js";import B from"./RatingTypeBadge-7c0a0602.js";import T from"./AutoBillingReminderStatusBadge-351462ae.js";import L from"./AutoBillingEnabledStatusBadge-fba6f448.js";import{P as C}from"./Pagination-5d797416.js";import{i as P}from"./vue-countdown.esm-1ff00267.js";import{h as I}from"./moment-fbc5633a.js";import{_ as N}from"./_plugin-vue_export-helper-c27b6911.js";import{q as D,s as p,o as n,e as r,a as t,F as R,h as E,f as c,b as o,t as s,w as U,c as u}from"./app-eaac0e08.js";import"./base-62ab0980.js";import"./el-popper-16736a83.js";import"./icon-3fa50c57.js";import"./constants-9b08ccc8.js";import"./el-popover-635e74da.js";/* empty css            */const H=D({components:{VueCountdown:P,SubscriptionPlanActiveStatusBadge:A,AutoBillingReminderStatusBadge:T,AutoBillingEnabledStatusBadge:L,Pagination:C,BillingTransactionStatusBadge:k,RatingTypeBadge:B,CreatedUsingAutoBillingBadge:v},props:{autoBillingSchedulesPayload:Object},data(){return{refreshContentInterval:null,moment:I}},methods:{getLatestAutoBillingTransaction(a){return a.subscriber.latest_auto_billing_transaction??{}},refreshContent(){this.$inertia.reload()},cleanUp(){clearInterval(this.refreshContentInterval),this.refreshContentInterval=null}},created(){this.refreshContentInterval=setInterval(function(){this.refreshContent()}.bind(this),5e3)},unmounted(){this.cleanUp()}}),O=t("div",{class:"grid grid-cols-12 gap-4"},[t("div",{class:"col-span-6"},[t("div",{class:"bg-gray-50 border-b px-6 py-4 rounded-t text-gray-500 text-sm mb-4"},[t("div",{class:"text-2xl font-semibold leading-6 text-gray-500"},"Auto Billing Schedules")])])],-1),F={class:"bg-white shadow-xl sm:rounded-lg"},$={class:"flex flex-col overflow-y-auto"},V={class:"align-middle inline-block min-w-full"},G={class:"shadow border-b border-gray-200"},M={class:"min-w-full divide-y divide-gray-200"},j=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{scope:"col",class:"px-6 py-3 whitespace-nowrap text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-r border-dotted border-r-teal-300"}),t("th",{scope:"col",colspan:"7",class:"px-6 py-3 whitespace-nowrap text-center text-xs font-medium text-gray-500 uppercase tracking-wider bg-teal-50 border-r border-dotted border-r-fuchsia-300"},[t("div",{class:"font-bold text-teal-500"},"AUTO BILLING SCHEDULE")]),t("th",{scope:"col",colspan:"8",class:"px-6 py-3 whitespace-nowrap text-center text-xs font-medium text-gray-500 uppercase tracking-wider bg-fuchsia-50 border-r border-dotted border-r-violet-300"},[t("div",{class:"font-bold text-fuchsia-500"},"LAST AUTO BILLING TRANSACTION")]),t("th",{scope:"col",colspan:"6",class:"px-6 py-3 whitespace-nowrap text-center text-xs font-medium text-gray-500 uppercase tracking-wider bg-violet-50 border-r border-dotted border-r-teal-300"},[t("div",{class:"font-bold text-violet-500"},"AUTO BILLING REMINDER")]),t("th",{scope:"col",colspan:"6",class:"px-6 py-3 whitespace-nowrap text-center text-xs font-medium text-gray-500 uppercase tracking-wider bg-teal-50"},[t("div",{class:"font-bold text-teal-500"},"SUBSCRIPTION PLAN")])]),t("tr",null,[t("th",{scope:"col",class:"px-6 py-3 whitespace-nowrap text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-r border-dotted border-r-teal-300"},[t("span",null,"Mobile")]),t("th",{scope:"col",class:"px-6 py-3 whitespace-nowrap text-left text-xs font-medium text-gray-500 uppercase tracking-wider bg-teal-50"},[t("span",null,"Auto Billing Enabled")]),t("th",{scope:"col",class:"px-6 py-3 whitespace-nowrap text-center text-xs font-medium text-gray-500 uppercase tracking-wider bg-teal-50"},[t("span",null,"Next Attempt Date")]),t("th",{scope:"col",class:"px-6 py-3 whitespace-nowrap text-center text-xs font-medium text-gray-500 uppercase tracking-wider bg-teal-50"},[t("span",null,"Countdown")]),t("th",{scope:"col",class:"px-6 py-3 whitespace-nowrap text-center text-xs font-medium text-gray-500 uppercase tracking-wider bg-teal-50"},[t("span",null,"Attempts")]),t("th",{scope:"col",class:"px-6 py-3 whitespace-nowrap text-center text-xs font-medium text-gray-500 uppercase tracking-wider bg-teal-50"},[t("span",null,"Total Successful Attempts")]),t("th",{scope:"col",class:"px-6 py-3 whitespace-nowrap text-center text-xs font-medium text-gray-500 uppercase tracking-wider bg-teal-50"},[t("span",null,"Total Failed Attempts")]),t("th",{scope:"col",class:"px-6 py-3 whitespace-nowrap text-center text-xs font-medium text-gray-500 uppercase tracking-wider bg-teal-50 border-r border-dotted border-r-fuchsia-300"},[t("span",null,"Created Date")]),t("th",{scope:"col",class:"px-6 py-3 whitespace-nowrap text-left text-xs font-medium text-gray-500 uppercase tracking-wider bg-fuchsia-50"},[t("span",null,"Status")]),t("th",{scope:"col",class:"px-6 py-3 whitespace-nowrap text-left text-xs font-medium text-gray-500 uppercase tracking-wider bg-fuchsia-50"},[t("span",null,"Amount")]),t("th",{scope:"col",class:"px-6 py-3 whitespace-nowrap text-center text-xs font-medium text-gray-500 uppercase tracking-wider bg-fuchsia-50"},[t("span",null,"Funds Before Deduction")]),t("th",{scope:"col",class:"px-6 py-3 whitespace-nowrap text-center text-xs font-medium text-gray-500 uppercase tracking-wider bg-fuchsia-50"},[t("span",null,"Funds After Deduction")]),t("th",{scope:"col",class:"px-6 py-3 whitespace-nowrap text-center text-xs font-medium text-gray-500 uppercase tracking-wider bg-fuchsia-50"},[t("span",null,"Rating Type")]),t("th",{scope:"col",class:"px-6 py-3 whitespace-nowrap text-center text-xs font-medium text-gray-500 uppercase tracking-wider bg-fuchsia-50"},[t("span",null,"Auto Billing")]),t("th",{scope:"col",class:"px-6 py-3 whitespace-nowrap text-center text-xs font-medium text-gray-500 uppercase tracking-wider bg-fuchsia-50"},[t("span",null,"Description")]),t("th",{scope:"col",class:"px-6 py-3 whitespace-nowrap text-center text-xs font-medium text-gray-500 uppercase tracking-wider bg-fuchsia-50 border-r border-dotted border-r-violet-300"},[t("span",null,"Created")]),t("th",{scope:"col",class:"px-6 py-3 whitespace-nowrap text-center text-xs font-medium text-gray-500 uppercase tracking-wider bg-violet-50"},[t("span",null,"1 Hour Before")]),t("th",{scope:"col",class:"px-6 py-3 whitespace-nowrap text-center text-xs font-medium text-gray-500 uppercase tracking-wider bg-violet-50"},[t("span",null,"6 Hours Before")]),t("th",{scope:"col",class:"px-6 py-3 whitespace-nowrap text-center text-xs font-medium text-gray-500 uppercase tracking-wider bg-violet-50"},[t("span",null,"12 Hours Before")]),t("th",{scope:"col",class:"px-6 py-3 whitespace-nowrap text-center text-xs font-medium text-gray-500 uppercase tracking-wider bg-violet-50"},[t("span",null,"24 Hours Before")]),t("th",{scope:"col",class:"px-6 py-3 whitespace-nowrap text-center text-xs font-medium text-gray-500 uppercase tracking-wider bg-violet-50"},[t("span",null,"48 Hours Before")]),t("th",{scope:"col",class:"px-6 py-3 whitespace-nowrap text-center text-xs font-medium text-gray-500 uppercase tracking-wider bg-violet-50 border-r border-dotted border-r-teal-300"},[t("span",null,"72 Hours Before")]),t("th",{scope:"col",class:"px-6 py-3 whitespace-nowrap text-xs font-medium text-gray-500 uppercase tracking-wider bg-teal-50"},[t("span",null,"Name")]),t("th",{scope:"col",class:"px-6 py-3 whitespace-nowrap text-xs font-medium text-gray-500 uppercase tracking-wider bg-teal-50"},[t("span",null,"Description")]),t("th",{scope:"col",class:"px-6 py-3 whitespace-nowrap text-center text-xs font-medium text-gray-500 uppercase tracking-wider bg-teal-50"},[t("span",null,"Active")]),t("th",{scope:"col",class:"px-6 py-3 whitespace-nowrap text-center text-xs font-medium text-gray-500 uppercase tracking-wider bg-teal-50"},[t("span",null,"Duration")]),t("th",{scope:"col",class:"px-6 py-3 whitespace-nowrap text-center text-xs font-medium text-gray-500 uppercase tracking-wider bg-teal-50"},[t("span",null,"Price")]),t("th",{scope:"col",class:"px-6 py-3 whitespace-nowrap text-left text-xs font-medium text-gray-500 uppercase tracking-wider bg-teal-50"},[t("span",null,"Created")])])],-1),q={class:"bg-white divide-y divide-gray-200"},z={class:"px-6 py-3 whitespace-nowrap border-r border-dotted border-r-teal-300"},J={class:"text-sm text-gray-900"},K={class:"px-6 py-3 text-sm text-gray-500 text-center bg-teal-50"},Q={class:"px-6 py-3 whitespace-nowrap text-sm text-gray-500 text-left bg-teal-50"},W={class:"px-6 py-3 whitespace-nowrap text-sm text-gray-500 text-center bg-teal-50"},X={key:0},Y={key:1},Z={key:2},S={key:3},tt={key:4},et={class:"px-6 py-3 text-sm text-gray-500 text-center bg-teal-50"},st={class:"px-6 py-3 text-sm text-gray-500 text-center bg-teal-50"},at={class:"px-6 py-3 text-sm text-gray-500 text-center bg-teal-50"},nt={class:"px-6 py-3 text-sm text-gray-500 text-left bg-teal-50 border-r border-dotted border-r-fuchsia-300"},rt={class:"px-6 py-3 whitespace-nowrap text-sm text-gray-500 text-left bg-fuchsia-50"},ot={key:1},pt={class:"px-6 py-3 whitespace-nowrap text-md text-gray-500 text-center font-bold bg-fuchsia-50"},it={key:0},ct={key:1},lt={class:"px-6 py-3 whitespace-nowrap text-sm text-gray-500 text-center bg-fuchsia-50"},dt={class:"px-6 py-3 whitespace-nowrap text-sm text-gray-500 text-center bg-fuchsia-50"},xt={class:"px-6 py-3 whitespace-nowrap text-sm text-gray-500 text-center bg-fuchsia-50"},gt={key:1},ut={class:"px-6 py-3 whitespace-nowrap text-sm text-gray-500 text-center bg-fuchsia-50"},mt={key:1},_t={class:"px-6 py-3 whitespace-nowrap text-sm text-gray-500 text-center bg-fuchsia-50"},yt={class:"px-6 py-3 whitespace-nowrap text-sm text-gray-500 bg-fuchsia-50 border-r border-dotted border-r-violet-300"},ht={class:"px-6 py-3 text-sm text-gray-500 bg-violet-50"},bt={class:"px-6 py-3 text-sm text-gray-500 bg-violet-50"},wt={class:"px-6 py-3 text-sm text-gray-500 bg-violet-50"},ft={class:"px-6 py-3 text-sm text-gray-500 bg-violet-50"},kt={class:"px-6 py-3 text-sm text-gray-500 bg-violet-50"},vt={class:"px-6 py-3 text-sm text-gray-500 bg-violet-50 border-r border-dotted border-r-teal-300"},At={class:"px-6 py-3 whitespace-nowrap text-sm text-gray-500 text-left bg-teal-50"},Bt={class:"text-sm text-gray-900"},Tt={class:"px-6 py-3 whitespace-nowrap text-sm text-gray-500 text-left bg-teal-50"},Lt={class:"px-6 py-3 whitespace-nowrap text-sm text-gray-500 text-center bg-teal-50"},Ct={class:"px-6 py-3 whitespace-nowrap text-sm text-gray-500 text-center bg-teal-50"},Pt={class:"px-6 py-3 whitespace-nowrap text-sm text-gray-500 text-center bg-teal-50"},It={class:"px-6 py-3 whitespace-nowrap text-sm text-gray-500 text-left bg-teal-50"},Nt={key:0},Dt=t("td",{colspan:8,class:"px-6 py-3 whitespace-nowrap"},[t("div",{class:"text-center text-gray-900 text-sm p-6"},"No auto billing schedules")],-1),Rt=[Dt];function Et(a,Ut,Ht,Ot,Ft,$t){const m=p("AutoBillingEnabledStatusBadge"),_=p("vue-countdown"),y=p("BillingTransactionStatusBadge"),h=p("RatingTypeBadge"),b=p("CreatedUsingAutoBillingBadge"),i=p("AutoBillingReminderStatusBadge"),w=p("SubscriptionPlanActiveStatusBadge"),f=p("pagination");return n(),r("div",null,[O,t("div",F,[t("div",$,[t("div",V,[t("div",G,[t("table",M,[j,t("tbody",q,[(n(!0),r(R,null,E(a.autoBillingSchedulesPayload.data,e=>(n(),r("tr",{key:e.id},[t("td",z,[t("div",J,s(e.subscriber.msisdn),1)]),t("td",K,[o(m,{autoBillingSchedule:e},null,8,["autoBillingSchedule"])]),t("td",Q,s(e.next_attempt_date==null?"...":a.moment(e.next_attempt_date).format("lll")),1),t("td",W,[o(_,{time:e.next_attempt_date_milli_seconds_left},{default:U(({days:l,hours:d,minutes:x,seconds:g})=>[l>0?(n(),r("span",X,s(l)+" "+s(l==1?"day ":"days "),1)):c("",!0),d>0?(n(),r("span",Y,s(d)+" "+s(d==1?"hr ":"hrs "),1)):c("",!0),l==0&&x>0?(n(),r("span",Z,s(x)+" "+s(x==1?"min ":"mins "),1)):c("",!0),d==0&&g>0?(n(),r("span",S,s(g)+" "+s(g==1?"sec ":"secs "),1)):c("",!0),l==0&&d==0&&x==0&&g==0?(n(),r("span",tt,"Ended")):c("",!0)]),_:2},1032,["time"])]),t("td",et,s(e.attempts==null?"...":e.attempts)+" / "+s(e.subscription_plan==null?"...":e.subscription_plan.max_auto_billing_attempts),1),t("td",st,s(e.total_successful_attempts==null?"...":e.total_successful_attempts),1),t("td",at,s(e.total_failed_attempts==null?"...":e.total_failed_attempts),1),t("td",nt,s(e.created_at==null?"...":a.moment(e.created_at).format("lll")),1),t("td",rt,[a.getLatestAutoBillingTransaction(e).is_successful?(n(),u(y,{key:0,billingTransaction:a.getLatestAutoBillingTransaction(e)},null,8,["billingTransaction"])):(n(),r("span",ot,"..."))]),t("td",pt,[a.getLatestAutoBillingTransaction(e).amount?(n(),r("span",it,s(a.getLatestAutoBillingTransaction(e).amount.amount_with_currency),1)):(n(),r("span",ct,"..."))]),t("td",lt,s(a.getLatestAutoBillingTransaction(e).funds_before_deduction==null?"...":a.getLatestAutoBillingTransaction(e).funds_before_deduction.amount_with_currency),1),t("td",dt,s(a.getLatestAutoBillingTransaction(e).funds_after_deduction==null?"...":a.getLatestAutoBillingTransaction(e).funds_after_deduction.amount_with_currency),1),t("td",xt,[a.getLatestAutoBillingTransaction(e).rating_type?(n(),u(h,{key:0,billingTransaction:a.getLatestAutoBillingTransaction(e)},null,8,["billingTransaction"])):(n(),r("span",gt,"..."))]),t("td",ut,[a.getLatestAutoBillingTransaction(e).created_using_auto_billing?(n(),u(b,{key:0,billingTransaction:a.getLatestAutoBillingTransaction(e)},null,8,["billingTransaction"])):(n(),r("span",mt,"..."))]),t("td",_t,[t("span",null,s(a.getLatestAutoBillingTransaction(e).description??"..."),1)]),t("td",yt,s(a.getLatestAutoBillingTransaction(e).created_at==null?"...":a.moment(a.getLatestAutoBillingTransaction(e).created_at).format("lll")),1),t("td",ht,[o(i,{hours:1,autoBillingSchedule:e},null,8,["autoBillingSchedule"])]),t("td",bt,[o(i,{hours:6,autoBillingSchedule:e},null,8,["autoBillingSchedule"])]),t("td",wt,[o(i,{hours:12,autoBillingSchedule:e},null,8,["autoBillingSchedule"])]),t("td",ft,[o(i,{hours:24,autoBillingSchedule:e},null,8,["autoBillingSchedule"])]),t("td",kt,[o(i,{hours:48,autoBillingSchedule:e},null,8,["autoBillingSchedule"])]),t("td",vt,[o(i,{hours:72,autoBillingSchedule:e},null,8,["autoBillingSchedule"])]),t("td",At,[t("div",Bt,s(e.subscription_plan.name),1)]),t("td",Tt,s(e.subscription_plan.description==null?"...":e.subscription_plan.description),1),t("td",Lt,[o(w,{subscriptionPlan:e.subscription_plan},null,8,["subscriptionPlan"])]),t("td",Ct,s(e.subscription_plan.duration_in_words==null?"...":e.subscription_plan.duration_in_words),1),t("td",Pt,s(e.subscription_plan.price==null?"...":e.subscription_plan.price.amount_with_currency),1),t("td",It,s(e.subscription_plan.created_at==null?"...":a.moment(e.subscription_plan.created_at).format("lll")),1)]))),128)),a.autoBillingSchedulesPayload.data.length==0?(n(),r("tr",Nt,Rt)):c("",!0)])])])])]),o(f,{class:"mt-6",paginationPayload:a.autoBillingSchedulesPayload,updateData:["autoBillingSchedulesPayload"]},null,8,["paginationPayload"])])])}const ae=N(H,[["render",Et]]);export{ae as default};
