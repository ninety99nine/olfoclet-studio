import{d as _,k as b,J as f,y as $,o as i,e as r,n as u,a as e,f as p,t as w,i as V,b as g,u as k,X as B,w as A,j as M,F as y,h as z,c as R,r as L,O as N}from"./app-0c965242.js";import{_ as j}from"./_plugin-vue_export-helper-c27b6911.js";const H={class:"max-w-screen-xl mx-auto py-2 px-3 sm:px-6 lg:px-8"},T={class:"flex items-center justify-between flex-wrap"},O={class:"w-0 flex-1 flex items-center min-w-0"},Z={key:0,class:"h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},P=e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1),I=[P],D={key:1,class:"h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},F=e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"},null,-1),E=[F],J={class:"ml-3 font-medium text-sm text-white truncate"},U={class:"shrink-0 sm:ml-3"},X=e("svg",{class:"h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})],-1),q=[X],G={__name:"Banner",setup(m){const c=_(!0),n=b(()=>{var a;return((a=f().props.jetstream.flash)==null?void 0:a.bannerStyle)||"success"}),l=b(()=>{var a;return((a=f().props.jetstream.flash)==null?void 0:a.banner)||""});return $(l,async()=>{c.value=!0}),(a,d)=>(i(),r("div",null,[c.value&&l.value?(i(),r("div",{key:0,class:u({"bg-indigo-500":n.value=="success","bg-red-700":n.value=="danger"})},[e("div",H,[e("div",T,[e("div",O,[e("span",{class:u(["flex p-2 rounded-lg",{"bg-indigo-600":n.value=="success","bg-red-600":n.value=="danger"}])},[n.value=="success"?(i(),r("svg",Z,I)):p("",!0),n.value=="danger"?(i(),r("svg",D,E)):p("",!0)],2),e("p",J,w(l.value),1)]),e("div",U,[e("button",{type:"button",class:u(["-mr-1 flex p-2 rounded-md focus:outline-none sm:-mr-2 transition",{"hover:bg-indigo-600 focus:bg-indigo-600":n.value=="success","hover:bg-red-600 focus:bg-red-600":n.value=="danger"}]),"aria-label":"Dismiss",onClick:d[0]||(d[0]=V(x=>c.value=!1,["prevent"]))},q,2)])])])],2)):p("",!0)]))}},K={props:{size:{type:String,default:"md"}},computed:{sizeClass(){if(this.size=="sm")return"w-3 h-3 border ";if(this.size=="md")return"w-6 h-6 border-2 "}}};function Q(m,c,n,l,a,d){return i(),r("div",{class:u(d.sizeClass+"inline-block animate-spin rounded-full border-solid border-current border-r-transparent align-[-0.125em] motion-reduce:animate-[spin_1.5s_linear_infinite]")},null,2)}const W=j(K,[["render",Q]]),Y={},ee={class:"flex items-center"},se=e("img",{src:"/images/logo-bold.png",alt:"Logo",class:"w-20"},null,-1),te=e("span",{style:{color:"#1b64f1","font-weight":"400","font-size":"12px"}},"Studio",-1),oe=[se,te];function ie(m,c){return i(),r("div",ee,oe)}const re=j(Y,[["render",ie]]),ne=e("button",{"data-drawer-target":"main-sidebar","data-drawer-toggle":"main-sidebar","aria-controls":"main-sidebar",type:"button",class:"inline-flex items-center p-2 mt-2 ms-3 text-sm text-gray-500 rounded-lg sm:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600"},[e("span",{class:"sr-only"},"Open sidebar"),e("svg",{class:"w-6 h-6","aria-hidden":"true",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"clip-rule":"evenodd","fill-rule":"evenodd",d:"M2 4.75A.75.75 0 012.75 4h14.5a.75.75 0 010 1.5H2.75A.75.75 0 012 4.75zm0 10.5a.75.75 0 01.75-.75h7.5a.75.75 0 010 1.5h-7.5a.75.75 0 01-.75-.75zM2 10a.75.75 0 01.75-.75h14.5a.75.75 0 010 1.5H2.75A.75.75 0 012 10z"})])],-1),ae={id:"main-sidebar",class:"fixed top-0 left-0 z-40 w-64 h-screen transition-transform -translate-x-full sm:translate-x-0","aria-label":"Sidebar"},le={class:"h-full px-3 py-4 overflow-y-auto bg-gray-50 dark:bg-gray-800"},ce={class:"flex justify-center"},ue={class:"text-center px-4 py-4 mb-2"},de={class:"text-sm text-gray-500"},pe={class:"space-y-1 font-medium"},me=e("li",null,[e("div",{class:"border-t my-2"})],-1),he=["onClick"],ge=e("li",null,[e("div",{class:"border-t my-2"})],-1),we=e("svg",{class:"w-5 h-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.25 12.75V12A2.25 2.25 0 0 1 4.5 9.75h15A2.25 2.25 0 0 1 21.75 12v.75m-8.69-6.44-2.12-2.12a1.5 1.5 0 0 0-1.061-.44H4.5A2.25 2.25 0 0 0 2.25 6v12a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18V9a2.25 2.25 0 0 0-2.25-2.25h-5.379a1.5 1.5 0 0 1-1.06-.44Z"})],-1),be=e("span",null,"Projects",-1),ve=[we,be],_e=e("svg",{class:"w-5 h-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"})],-1),fe=e("span",null,"Profile",-1),xe=[_e,fe],ke=e("svg",{class:"w-5 h-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21.75 17.25v-.228a4.5 4.5 0 0 0-.12-1.03l-2.268-9.64a3.375 3.375 0 0 0-3.285-2.602H7.923a3.375 3.375 0 0 0-3.285 2.602l-2.268 9.64a4.5 4.5 0 0 0-.12 1.03v.228m19.5 0a3 3 0 0 1-3 3H5.25a3 3 0 0 1-3-3m19.5 0a3 3 0 0 0-3-3H5.25a3 3 0 0 0-3 3m16.5 0h.008v.008h-.008v-.008Zm-3 0h.008v.008h-.008v-.008Z"})],-1),ye=e("span",null,"Server",-1),Ne=[ke,ye],$e={key:1,class:"w-5 h-5",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},je=e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15m3 0 3-3m0 0-3-3m3 3H9"},null,-1),Ce=[je],Se=e("span",null,"Sign Out",-1),Ve={class:"sm:ml-64"},ze={__name:"AppLayout",props:{title:String},setup(m){const c=_([{label:"About",routeName:"show.project.about",activeRouteNames:["show.project.about"]},{label:"Users",routeName:"show.users",activeRouteNames:["show.users"],permission:"View users"},{label:"Topics",routeName:"show.topics",activeRouteNames:["show.topics","show.topic"],permission:"View topics"},{label:"Messages",routeName:"show.messages",activeRouteNames:["show.messages","show.message"],permission:"View messages"},{label:"Auto Billing",routeName:"show.auto.billing.pricing.plans",activeRouteNames:["show.auto.billing.pricing.plans","show.auto.billing.pricing.plan.job.batches"],permission:"View auto billing pricing plans"},{label:"Subscribers",routeName:"show.subscribers",activeRouteNames:["show.subscribers"],permission:"View subscribers"},{label:"Subscriptions",routeName:"show.subscriptions",activeRouteNames:["show.subscriptions"],permission:"View subscriptions"},{label:"Billing Reports",routeName:"show.billing.reports",activeRouteNames:["show.billing.reports"],permission:"View billing reports"},{label:"Sms Campaigns",routeName:"show.sms.campaigns",activeRouteNames:["show.sms.campaigns","show.sms.campaign.job.batches"],permission:"View sms campaigns"},{label:"Pricing Plans",routeName:"show.pricing.plans",activeRouteNames:["show.pricing.plans","show.pricing.plan"],permission:"View pricing plans"},{label:"Billing Transactions",routeName:"show.billing.transactions",activeRouteNames:["show.billing.transactions"],permission:"View billing transactions"},{label:"Subscriber Messages",routeName:"show.subscriber.messages",activeRouteNames:["show.subscriber.messages"],permission:"View subscriber messages"},{label:"Auto Billing Reminders",routeName:"show.auto.billing.reminder.pricing.plans",activeRouteNames:["show.auto.billing.reminder.pricing.plans","show.auto.billing.pricing.plan.reminder.job.batches"],permission:"View auto billing reminder pricing plans"},{label:"Auto Billing Schedules",routeName:"show.auto.billing.schedules",activeRouteNames:["show.auto.billing.schedules"],permission:"View auto billing schedules"},{label:"Sms Campaign Schedules",routeName:"show.sms.campaign.schedules",activeRouteNames:["show.sms.campaign.schedules"],permission:"View sms campaign schedules"}]),n=b(()=>c.value.filter(s=>x(s.permission??null))),l=f(),a=_(!1),d=b(()=>route().params.hasOwnProperty("project")),x=s=>s==null?!0:l.props.projectPermissions.includes("*")||l.props.projectPermissions.includes(s),v=s=>{for(let o=0;o<s.length;o++){var t=s[o];if(route().current(t))return"bg-gray-200"}return""},h=s=>{const t=route(s,{project:route().params.project});N.get(t)},C=()=>{a.value=!0,N.post(route("logout"))};return $(()=>l.props.project,s=>{const t=(s==null?void 0:s.secret_token)||null;if(t)localStorage.setItem("projectToken",t),window.axios.defaults.headers.common.Authorization=`Bearer ${t}`;else{localStorage.removeItem("projectToken");const o=localStorage.getItem("accessToken");o?window.axios.defaults.headers.common.Authorization=`Bearer ${o}`:delete window.axios.defaults.headers.common.Authorization}},{immediate:!0}),(s,t)=>(i(),r("div",null,[g(k(B),{title:m.title},null,8,["title"]),g(G),ne,e("aside",ae,[e("div",le,[e("div",ce,[g(k(M),{href:s.route("show.projects")},{default:A(()=>[g(re,{class:"block mt-4"})]),_:1},8,["href"])]),e("div",ue,[e("p",null,w(s.$page.props.auth.user.name),1),e("p",de,w(s.$page.props.auth.user.email),1)]),e("ul",pe,[d.value?(i(),r(y,{key:0},[me,(i(!0),r(y,null,z(n.value,(o,S)=>(i(),r("li",{key:S,onClick:Be=>h(o.routeName),class:u([v(o.activeRouteNames),"w-full px-4 py-2 text-sm hover:bg-gray-200 active:bg-gray-300 cursor-pointer rounded-lg"])},[e("span",null,w(o.label),1)],10,he))),128)),ge],64)):p("",!0),e("li",{onClick:t[0]||(t[0]=o=>h("show.projects")),class:u([v(["show.projects"]),"flex items-center space-x-2 w-full px-4 py-2 text-sm hover:bg-gray-200 active:bg-gray-300 cursor-pointer rounded-lg"])},ve,2),e("li",{onClick:t[1]||(t[1]=o=>h("profile.show")),class:u([v(["profile.show"]),"flex items-center space-x-2 w-full px-4 py-2 text-sm hover:bg-gray-200 active:bg-gray-300 cursor-pointer rounded-lg"])},xe,2),s.$page.props.auth.user.is_super_admin?(i(),r("li",{key:1,onClick:t[2]||(t[2]=o=>h("show.server")),class:"flex items-center space-x-2 w-full px-4 py-2 text-sm hover:bg-gray-200 active:bg-gray-300 cursor-pointer rounded-lg"},Ne)):p("",!0),e("li",{onClick:C,class:"flex items-center space-x-2 w-full px-4 py-2 text-sm hover:bg-gray-200 active:bg-gray-300 cursor-pointer rounded-lg"},[a.value?(i(),R(W,{key:0,class:"my-1"})):(i(),r("svg",$e,Ce)),Se])])])]),e("div",Ve,[L(s.$slots,"default")])]))}};export{W as S,ze as _};
