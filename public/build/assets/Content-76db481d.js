import"./base-c7d9afcb.js";import{E as v}from"./el-popover-9832dd3a.js";import y from"./ManageUserModal-a619b157.js";import{P as f}from"./Pagination-999347a1.js";import{s as k,e as o,b as l,a as e,F as p,h as c,f as d,x as m,o as a,t as n,w as h,i as u}from"./app-430601de.js";import{h as C}from"./moment-fbc5633a.js";import{_ as b}from"./_plugin-vue_export-helper-c27b6911.js";import"./icon-d4413508.js";import"./constants-bf9e3feb.js";import"./el-divider-eb8d8ed4.js";import"./TextInput-539a61cf.js";import"./InputLabel-c5dbdde8.js";import"./PrimaryButton-86744c0d.js";import"./SelectInput-445d6387.js";import"./DialogModal-c4420808.js";import"./DangerButton-8e630b29.js";import"./ActionMessage-4748284f.js";import"./SecondaryButton-3a726258.js";/* empty css            */const P=k({components:{CreateUserModal:y,Pagination:f},props:{availablePermissions:Array,usersPayload:Object},data(){return{refreshContentInterval:null,isShowingModal:!1,modalAction:null,user:null,moment:C}},methods:{refreshContent(){this.$inertia.reload()},showModal(t,i){this.user=t,this.modalAction=i,this.isShowingModal=!0},cleanUp(){clearInterval(this.refreshContentInterval),this.refreshContentInterval=null}},created(){this.refreshContentInterval=setInterval(function(){this.refreshContent()}.bind(this),5e3)},unmounted(){this.cleanUp()}}),M={class:"bg-white overflow-hidden shadow-xl sm:rounded-lg"},$={class:"flex flex-col"},A={class:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"},I={class:"py-2 align-middle inline-block min-w-full sm:px-6 lg:px-8"},V={class:"shadow overflow-hidden border-b border-gray-200 sm:rounded-lg"},B={class:"min-w-full divide-y divide-gray-200"},E=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{scope:"col",class:"px-6 py-3 whitespace-nowrap text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},[e("span",null,"Name")]),e("th",{scope:"col",class:"px-6 py-3 whitespace-nowrap text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},[e("span",null,"Email")]),e("th",{scope:"col",class:"px-6 py-3 whitespace-nowrap text-center text-xs font-medium text-gray-500 uppercase tracking-wider"},[e("span",null,"Permissions")]),e("th",{scope:"col",class:"px-6 py-3 whitespace-nowrap text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},[e("span",null,"Created")]),e("th",{scope:"col",class:"px-6 py-3 whitespace-nowrap text-right text-xs font-medium text-gray-500 uppercase tracking-wider"},[e("span",null,"Actions")])])],-1),N={class:"bg-white divide-y divide-gray-200"},S={class:"px-6 py-3 whitespace-nowrap"},U={class:"text-sm text-gray-900"},j={class:"px-6 py-3 whitespace-nowrap"},z={class:"text-sm text-gray-900"},D={class:"px-6 py-3 whitespace-nowrap"},L={class:"text-center"},F={class:"text-lg text-green-600"},O=e("span",{class:"text-gray-400 mx-2"},"/",-1),q={class:"text-sm text-gray-400"},G={key:0,xmlns:"http://www.w3.org/2000/svg",class:"text-green-600 h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},H=e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M5 13l4 4L19 7"},null,-1),J=[H],K={key:1,xmlns:"http://www.w3.org/2000/svg",class:"text-gray-300 h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},Q=e("path",{"fill-rule":"evenodd",d:"M13.477 14.89A6 6 0 015.11 6.524l8.367 8.368zm1.414-1.414L6.524 5.11a6 6 0 018.367 8.367zM18 10a8 8 0 11-16 0 8 8 0 0116 0z","clip-rule":"evenodd"},null,-1),R=[Q],T={class:"ml-3 block text-sm font-medium text-gray-700"},W={class:"px-6 py-3 whitespace-nowrap text-sm text-gray-500"},X={class:"px-6 py-3 whitespace-nowrap text-right text-sm font-medium"},Y=["onClick"],Z=["onClick"],ee={key:0},te=e("td",{colspan:5,class:"px-6 py-3 whitespace-nowrap"},[e("div",{class:"text-center text-gray-900 text-sm p-6"},"No users")],-1),se=[te];function oe(t,i,ae,ne,ie,re){const _=m("create-user-modal"),g=v,w=m("pagination");return a(),o("div",null,[l(_,{modelValue:t.isShowingModal,"onUpdate:modelValue":i[0]||(i[0]=s=>t.isShowingModal=s),action:t.modalAction,user:t.user,availablePermissions:t.availablePermissions},null,8,["modelValue","action","user","availablePermissions"]),e("div",M,[e("div",$,[e("div",A,[e("div",I,[e("div",V,[e("table",B,[E,e("tbody",N,[(a(!0),o(p,null,c(t.usersPayload.data,s=>(a(),o("tr",{key:s.id},[e("td",S,[e("div",U,n(s.name),1)]),e("td",j,[e("div",z,n(s.email),1)]),e("td",D,[l(g,{placement:"right",width:"200",trigger:"hover"},{reference:h(()=>[e("div",L,[e("span",F,n(s.pivot.permissions.length),1),O,e("span",q,n(t.availablePermissions.length),1)])]),default:h(()=>[e("div",null,[(a(!0),o(p,null,c(t.availablePermissions,(r,x)=>(a(),o("div",{key:x,class:"flex items-center"},[s.pivot.permissions.includes(r)?(a(),o("svg",G,J)):(a(),o("svg",K,R)),e("span",T,n(r),1)]))),128))])]),_:2},1024)]),e("td",W,n(s.created_at==null?"...":t.moment(s.created_at).format("lll")),1),e("td",X,[t.$inertia.page.props.projectPermissions.includes("Manage users")?(a(),o("a",{key:0,href:"#",onClick:u(r=>t.showModal(s,"update"),["prevent"]),class:"text-indigo-600 hover:text-indigo-900 mr-3"},"Edit",8,Y)):d("",!0),t.$inertia.page.props.projectPermissions.includes("Manage users")?(a(),o("a",{key:1,href:"#",onClick:u(r=>t.showModal(s,"delete"),["prevent"]),class:"text-red-600 hover:text-red-900"},"Delete",8,Z)):d("",!0)])]))),128)),t.usersPayload.data.length==0?(a(),o("tr",ee,se)):d("",!0)])])])])])]),l(w,{class:"mt-6",paginationPayload:t.usersPayload,updateData:["usersPayload"]},null,8,["paginationPayload"])])])}const $e=b(P,[["render",oe]]);export{$e as default};
