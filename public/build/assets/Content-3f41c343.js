import"./base-a1fdb940.js";import{E as x,a as y}from"./el-breadcrumb-item-6978d521.js";import{h as b}from"./moment-fbc5633a.js";import{_ as f}from"./SecondaryButton-ec912512.js";import{P as v}from"./Pagination-f9b3d63f.js";import w from"./AutoBillingReminderStatusBadge-cb15f65f.js";import{_ as P}from"./_plugin-vue_export-helper-c27b6911.js";import{q as k,s as c,o,e as r,a as t,t as n,b as i,w as l,g as p,f as u,F as C,h as S,x as j}from"./app-5df439d4.js";import"./icon-a633b9f2.js";import"./index-409ab19b.js";/* empty css            */const $=k({components:{Pagination:v,AutoBillingReminderStatusBadge:w,JetSecondaryButton:f},props:{subscriptionPlan:Object,subscriptionPlanAutoBillingReminderJobBatchesPayload:Object},data(){return{refreshContentInterval:null,moment:b}},computed:{recurringFrequencyWord(){return this.subscriptionPlan.recurring_duration==1?this.subscriptionPlan.recurring_frequency=="Years"?"Year":this.subscriptionPlan.recurring_frequency=="Months"?"Month":this.subscriptionPlan.recurring_frequency=="Weeks"?"Week":this.subscriptionPlan.recurring_frequency=="Days"?"Day":this.subscriptionPlan.recurring_frequency=="Hours"?"Hour":this.subscriptionPlan.recurring_frequency=="Minutes"?"Minute":"":this.subscriptionPlan.recurring_frequency}},methods:{refreshContent(){this.$inertia.reload()},nagivateToSubscriptionPlan(e=null){e?this.$inertia.get(route("show.auto.billing.subscription.plan.job.batches",{project:route().params.project,subscription_plan:e.id})):this.$inertia.get(route("show.auto.billing.subscription.plans",{project:route().params.project}))},goBackToPreviousPage(){window.history.back()},cleanUp(){clearInterval(this.refreshContentInterval),this.refreshContentInterval=null}},created(){this.refreshContentInterval=setInterval(function(){this.refreshContent()}.bind(this),5e3)},unmounted(){this.cleanUp()}}),q={class:"mb-6 gap-4"},A={class:"bg-gray-50 pt-4 pl-6 border-b rounded-t"},B={class:"text-2xl font-semibold leading-6 text-gray-500 mb-4"},I=t("span",{class:"hover:underline hover:text-green-600 text-green-500 font-semibold cursor-pointer"},"Auto Billing Reminder Sprints",-1),T={class:"hover:underline hover:text-green-600 text-green-500 font-semibold cursor-pointer"},E=t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M7 16l-4-4m0 0l4-4m-4 4h18"})],-1),N=t("span",{class:"ml-2"},"Go Back",-1),D={class:"bg-gray-50 border-b pl-6 py-3 rounded-t text-gray-500 text-sm"},M={class:"bg-gray-50 border-b pl-6 py-3 rounded-t text-gray-500 text-sm mb-6"},F={key:0},V=t("span",{class:"text-gray-300 mx-4"},"|",-1),W=t("span",{class:"text-gray-300 mx-4"},"|",-1),H=t("span",{class:"text-gray-400"},"Start: ",-1),O=t("span",{class:"text-gray-300 mx-4"},"|",-1),U=t("span",{class:"text-gray-400"},"End: ",-1),Y={class:"bg-white overflow-hidden shadow-xl sm:rounded-lg"},z={class:"flex flex-col"},G={class:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"},L={class:"py-2 align-middle inline-block min-w-full sm:px-6 lg:px-8"},K={class:"shadow overflow-hidden border-b border-gray-200 sm:rounded-lg"},Q={class:"min-w-full divide-y divide-gray-200"},R=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},[t("span",null,"Name")]),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},[t("span",null,"Status")]),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider bg-indigo-100"},[t("span",null,"Total")]),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider bg-indigo-100"},[t("span",null,"Pending")]),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider bg-indigo-100"},[t("span",null,"Processed")]),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider bg-indigo-100"},[t("span",null,"Progress")]),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},[t("span",null,"Sprint Date")])])],-1),X={class:"bg-white divide-y divide-gray-200"},Z={class:"px-6 py-4 whitespace-nowrap"},J={class:"text-sm text-gray-900"},tt={class:"px-6 py-4"},et={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-center bg-indigo-50"},st={class:"text-sm text-gray-900"},nt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-center bg-indigo-50"},ot={class:"text-sm text-gray-900"},rt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-center bg-indigo-50"},at={class:"text-sm text-gray-900"},it={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-center bg-indigo-50"},lt={key:0,class:"text-lg text-green-600"},ct={key:1,class:"w-full bg-gray-200 rounded-full"},dt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},pt={key:0},ut=t("td",{colspan:7,class:"px-6 py-4 whitespace-nowrap"},[t("div",{class:"text-center text-gray-900 text-sm p-6"},"No subscription plan sprints")],-1),gt=[ut];function mt(e,a,_t,ht,xt,yt){const d=y,g=x,m=c("jet-secondary-button"),_=c("AutoBillingReminderStatusBadge"),h=c("pagination");return o(),r("div",null,[t("div",q,[t("div",A,[t("div",B,n(e.subscriptionPlan.name),1),i(g,{separator:">",class:"mb-4"},{default:l(()=>[i(d,{onClick:a[0]||(a[0]=s=>e.nagivateToSubscriptionPlan())},{default:l(()=>[I]),_:1}),i(d,{onClick:a[1]||(a[1]=s=>e.nagivateToSubscriptionPlan(e.subscriptionPlan))},{default:l(()=>[t("span",T,n(e.subscriptionPlan.name),1)]),_:1})]),_:1}),i(m,{onClick:a[2]||(a[2]=s=>e.goBackToPreviousPage()),class:"py-1 mb-4"},{default:l(()=>[E,N]),_:1})]),t("div",D,[t("span",null,n(e.subscriptionPlan.description),1)]),t("div",M,[t("span",null,n(e.subscriptionPlan.schedule_type),1),e.subscriptionPlan.schedule_type=="Send Recurring"?(o(),r("span",F,[V,t("span",null,"Every "+n(e.subscriptionPlan.recurring_duration)+" "+n(e.recurringFrequencyWord),1),W,t("span",null,[H,p(n(e.moment(e.subscriptionPlan.start_datetime).format("lll")),1)]),O,t("span",null,[U,p(n(e.moment(e.subscriptionPlan.end_datetime).format("lll")),1)])])):u("",!0)])]),t("div",Y,[t("div",z,[t("div",G,[t("div",L,[t("div",K,[t("table",Q,[R,t("tbody",X,[(o(!0),r(C,null,S(e.subscriptionPlanAutoBillingReminderJobBatchesPayload.data,s=>(o(),r("tr",{key:s.id},[t("td",Z,[t("div",J,n(s.name),1)]),t("td",tt,[i(_,{autoBillingReminderJobBatch:s},null,8,["autoBillingReminderJobBatch"])]),t("td",et,[t("div",st,n(s.total_jobs),1)]),t("td",nt,[t("div",ot,n(s.pending_jobs),1)]),t("td",rt,[t("div",at,n(s.processed_jobs),1)]),t("td",it,[s.progress==100?(o(),r("span",lt,n(s.progress)+" "+n(s.progress?"%":""),1)):(o(),r("div",ct,[t("div",{class:"bg-green-600 text-xs font-medium text-blue-100 text-center p-0.5 leading-none rounded-full animate-pulse",style:j("width: "+s.progress+"%")},n(s.progress)+"%",5)]))]),t("td",dt,n(s.created_at==null?"...":e.moment(s.created_at).format("lll")),1)]))),128)),e.subscriptionPlanAutoBillingReminderJobBatchesPayload.data.length==0?(o(),r("tr",pt,gt)):u("",!0)])])])])])]),i(h,{class:"mt-6",paginationPayload:e.subscriptionPlanAutoBillingReminderJobBatchesPayload,updateData:["subscriptionPlanAutoBillingReminderJobBatchesPayload"]},null,8,["paginationPayload"])])])}const At=P($,[["render",mt]]);export{At as default};
