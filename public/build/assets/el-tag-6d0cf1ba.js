import{k as d,P as Ne,d as E,I as $,u as t,A as Ve,y as X,bp as $e,B as et,bN as oe,q,bt as tt,D as ot,bi as ae,p as L,l as at,z as st,o as f,e as x,f as h,F as se,n as v,r as V,a as C,c as b,w as k,M as W,aR as ne,b as re,i as ie,N as nt,t as Y,x as ue,E as ke,T as lt}from"./app-1a0996f9.js";import{c as pe,f as Fe,b as rt,i as it,d as ut}from"./constants-e299eaa8.js";import{E as T}from"./index-73c69c87.js";import{c as Be,e as ze,i as Pe,V as ct,v as dt,m as pt,o as ft,p as Te}from"./icon-f616c2e7.js";import{f as vt,c as mt,b as Ae,d as le,u as ce,_ as Me,w as Re}from"./base-d4a8cc75.js";class yt extends Error{constructor(n){super(n),this.name="ElementPlusError"}}function Jt(o,n){throw new yt(`[${o}] ${n}`)}function Qt(o,n){}const de="update:modelValue",Gt="change",eo="input",Le=["","default","small","large"],to={large:40,default:32,small:24},ht=()=>Be&&/firefox/i.test(window.navigator.userAgent),gt=o=>/([(\uAC00-\uD7AF)|(\u3130-\u318F)])+/gi.test(o),bt=o=>o,wt=["class","style"],xt=/^on[A-Z]/,St=(o={})=>{const{excludeListeners:n=!1,excludeKeys:l}=o,a=d(()=>((l==null?void 0:l.value)||[]).concat(wt)),s=Ne();return s?d(()=>{var i;return vt(Object.entries((i=s.proxy)==null?void 0:i.$attrs).filter(([c])=>!a.value.includes(c)&&!(n&&xt.test(c))))}):d(()=>({}))},De=o=>{const n=Ne();return d(()=>{var l,a;return(a=((l=n.proxy)==null?void 0:l.$props)[o])!=null?a:void 0})};function Et(o){const n=E();function l(){if(o.value==null)return;const{selectionStart:s,selectionEnd:i,value:c}=o.value;if(s==null||i==null)return;const g=c.slice(0,Math.max(0,s)),r=c.slice(Math.max(0,i));n.value={selectionStart:s,selectionEnd:i,value:c,beforeTxt:g,afterTxt:r}}function a(){if(o.value==null||n.value==null)return;const{value:s}=o.value,{beforeTxt:i,afterTxt:c,selectionStart:g}=n.value;if(i==null||c==null||g==null)return;let r=s.length;if(s.endsWith(c))r=s.length-c.length;else if(s.startsWith(i))r=i.length;else{const m=i[g-1],S=s.indexOf(m,g-1);S!==-1&&(r=S+1)}o.value.setSelectionRange(r,r)}return[l,a]}const Ct=mt({type:String,values:Le,required:!1}),It=Symbol("size"),kt=()=>{const o=$(It,{});return d(()=>t(o.size)||"")},Ke=(o,n={})=>{const l=E(void 0),a=n.prop?l:De("size"),s=n.global?l:kt(),i=n.form?{size:void 0}:$(pe,void 0),c=n.formItem?{size:void 0}:$(Fe,void 0);return d(()=>a.value||t(o)||(c==null?void 0:c.size)||(i==null?void 0:i.size)||s.value||"")},zt=o=>{const n=De("disabled"),l=$(pe,void 0);return d(()=>n.value||t(o)||(l==null?void 0:l.disabled)||!1)},Pt=()=>{const o=$(pe,void 0),n=$(Fe,void 0);return{form:o,formItem:n}},Tt=(o,{formItemContext:n,disableIdGeneration:l,disableIdManagement:a})=>{l||(l=E(!1)),a||(a=E(!1));const s=E();let i;const c=d(()=>{var g;return!!(!o.label&&n&&n.inputIds&&((g=n.inputIds)==null?void 0:g.length)<=1)});return Ve(()=>{i=X([$e(o,"id"),l],([g,r])=>{const m=g??(r?void 0:rt().value);m!==s.value&&(n!=null&&n.removeInputId&&(s.value&&n.removeInputId(s.value),!(a!=null&&a.value)&&!r&&m&&n.addInputId(m)),s.value=m)},{immediate:!0})}),et(()=>{i&&i(),n!=null&&n.removeInputId&&s.value&&n.removeInputId(s.value)}),{isLabeledByFormItem:c,inputId:s}};let w;const _t=`
  height:0 !important;
  visibility:hidden !important;
  ${ht()?"":"overflow:hidden !important;"}
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
`,Nt=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function Vt(o){const n=window.getComputedStyle(o),l=n.getPropertyValue("box-sizing"),a=Number.parseFloat(n.getPropertyValue("padding-bottom"))+Number.parseFloat(n.getPropertyValue("padding-top")),s=Number.parseFloat(n.getPropertyValue("border-bottom-width"))+Number.parseFloat(n.getPropertyValue("border-top-width"));return{contextStyle:Nt.map(c=>`${c}:${n.getPropertyValue(c)}`).join(";"),paddingSize:a,borderSize:s,boxSizing:l}}function _e(o,n=1,l){var a;w||(w=document.createElement("textarea"),document.body.appendChild(w));const{paddingSize:s,borderSize:i,boxSizing:c,contextStyle:g}=Vt(o);w.setAttribute("style",`${g};${_t}`),w.value=o.value||o.placeholder||"";let r=w.scrollHeight;const m={};c==="border-box"?r=r+i:c==="content-box"&&(r=r-s),w.value="";const S=w.scrollHeight-s;if(ze(n)){let y=S*n;c==="border-box"&&(y=y+s+i),r=Math.max(y,r),m.minHeight=`${y}px`}if(ze(l)){let y=S*l;c==="border-box"&&(y=y+s+i),r=Math.min(y,r)}return m.height=`${r}px`,(a=w.parentNode)==null||a.removeChild(w),w=void 0,m}const $t=Ae({id:{type:String,default:void 0},size:Ct,disabled:Boolean,modelValue:{type:le([String,Number,Object]),default:""},type:{type:String,default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:le([Boolean,Object]),default:!1},autocomplete:{type:String,default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String},readonly:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},showPassword:{type:Boolean,default:!1},showWordLimit:{type:Boolean,default:!1},suffixIcon:{type:Pe},prefixIcon:{type:Pe},containerRole:{type:String,default:void 0},label:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:le([Object,Array,String]),default:()=>bt({})}}),Ft={[de]:o=>oe(o),input:o=>oe(o),change:o=>oe(o),focus:o=>o instanceof FocusEvent,blur:o=>o instanceof FocusEvent,clear:()=>!0,mouseleave:o=>o instanceof MouseEvent,mouseenter:o=>o instanceof MouseEvent,keydown:o=>o instanceof Event,compositionstart:o=>o instanceof CompositionEvent,compositionupdate:o=>o instanceof CompositionEvent,compositionend:o=>o instanceof CompositionEvent},Bt=["role"],At=["id","type","disabled","formatter","parser","readonly","autocomplete","tabindex","aria-label","placeholder","form"],Mt=["id","tabindex","disabled","readonly","autocomplete","aria-label","placeholder","form"],Rt=q({name:"ElInput",inheritAttrs:!1}),Lt=q({...Rt,props:$t,emits:Ft,setup(o,{expose:n,emit:l}){const a=o,s=tt(),i=ot(),c=d(()=>{const e={};return a.containerRole==="combobox"&&(e["aria-haspopup"]=s["aria-haspopup"],e["aria-owns"]=s["aria-owns"],e["aria-expanded"]=s["aria-expanded"]),e}),g=d(()=>[a.type==="textarea"?fe.b():u.b(),u.m(Oe.value),u.is("disabled",_.value),u.is("exceed",Ue.value),{[u.b("group")]:i.prepend||i.append,[u.bm("group","append")]:i.append,[u.bm("group","prepend")]:i.prepend,[u.m("prefix")]:i.prefix||a.prefixIcon,[u.m("suffix")]:i.suffix||a.suffixIcon||a.clearable||a.showPassword,[u.bm("suffix","password-clear")]:H.value&&Q.value},s.class]),r=d(()=>[u.e("wrapper"),u.is("focus",F.value)]),m=St({excludeKeys:d(()=>Object.keys(c.value))}),{form:S,formItem:y}=Pt(),{inputId:D}=Tt(a,{formItemContext:y}),Oe=Ke(),_=zt(),u=ce("input"),fe=ce("textarea"),K=ae(),z=ae(),F=E(!1),Z=E(!1),B=E(!1),O=E(!1),ve=E(),J=ae(a.inputStyle),A=d(()=>K.value||z.value),me=d(()=>{var e;return(e=S==null?void 0:S.statusIcon)!=null?e:!1}),M=d(()=>(y==null?void 0:y.validateState)||""),ye=d(()=>M.value&&ct[M.value]),He=d(()=>O.value?dt:pt),je=d(()=>[s.style,a.inputStyle]),he=d(()=>[a.inputStyle,J.value,{resize:a.resize}]),I=d(()=>it(a.modelValue)?"":String(a.modelValue)),H=d(()=>a.clearable&&!_.value&&!a.readonly&&!!I.value&&(F.value||Z.value)),Q=d(()=>a.showPassword&&!_.value&&!a.readonly&&!!I.value&&(!!I.value||F.value)),N=d(()=>a.showWordLimit&&!!m.value.maxlength&&(a.type==="text"||a.type==="textarea")&&!_.value&&!a.readonly&&!a.showPassword),G=d(()=>Array.from(I.value).length),Ue=d(()=>!!N.value&&G.value>Number(m.value.maxlength)),We=d(()=>!!i.suffix||!!a.suffixIcon||H.value||a.showPassword||N.value||!!M.value&&me.value),[Ye,Xe]=Et(K);ut(z,e=>{if(!N.value||a.resize!=="both")return;const p=e[0],{width:P}=p.contentRect;ve.value={right:`calc(100% - ${P+15+6}px)`}});const j=()=>{const{type:e,autosize:p}=a;if(!(!Be||e!=="textarea"||!z.value))if(p){const P=ke(p)?p.minRows:void 0,te=ke(p)?p.maxRows:void 0;J.value={..._e(z.value,P,te)}}else J.value={minHeight:_e(z.value).minHeight}},R=()=>{const e=A.value;!e||e.value===I.value||(e.value=I.value)},ee=async e=>{Ye();let{value:p}=e.target;if(a.formatter&&(p=a.parser?a.parser(p):p,p=a.formatter(p)),!B.value){if(p===I.value){R();return}l(de,p),l("input",p),await L(),R(),Xe()}},ge=e=>{l("change",e.target.value)},be=e=>{l("compositionstart",e),B.value=!0},we=e=>{var p;l("compositionupdate",e);const P=(p=e.target)==null?void 0:p.value,te=P[P.length-1]||"";B.value=!gt(te)},xe=e=>{l("compositionend",e),B.value&&(B.value=!1,ee(e))},qe=()=>{O.value=!O.value,U()},U=async()=>{var e;await L(),(e=A.value)==null||e.focus()},Ze=()=>{var e;return(e=A.value)==null?void 0:e.blur()},Se=e=>{F.value=!0,l("focus",e)},Ee=e=>{var p;F.value=!1,l("blur",e),a.validateEvent&&((p=y==null?void 0:y.validate)==null||p.call(y,"blur").catch(P=>void 0))},Je=e=>{Z.value=!1,l("mouseleave",e)},Qe=e=>{Z.value=!0,l("mouseenter",e)},Ce=e=>{l("keydown",e)},Ge=()=>{var e;(e=A.value)==null||e.select()},Ie=()=>{l(de,""),l("change",""),l("clear"),l("input","")};return X(()=>a.modelValue,()=>{var e;L(()=>j()),a.validateEvent&&((e=y==null?void 0:y.validate)==null||e.call(y,"change").catch(p=>void 0))}),X(I,()=>R()),X(()=>a.type,async()=>{await L(),R(),j()}),Ve(()=>{!a.formatter&&a.parser,R(),L(j)}),n({input:K,textarea:z,ref:A,textareaStyle:he,autosize:$e(a,"autosize"),focus:U,blur:Ze,select:Ge,clear:Ie,resizeTextarea:j}),(e,p)=>at((f(),x("div",ne(t(c),{class:t(g),style:t(je),role:e.containerRole,onMouseenter:Qe,onMouseleave:Je}),[h(" input "),e.type!=="textarea"?(f(),x(se,{key:0},[h(" prepend slot "),e.$slots.prepend?(f(),x("div",{key:0,class:v(t(u).be("group","prepend"))},[V(e.$slots,"prepend")],2)):h("v-if",!0),C("div",{class:v(t(r))},[h(" prefix slot "),e.$slots.prefix||e.prefixIcon?(f(),x("span",{key:0,class:v(t(u).e("prefix"))},[C("span",{class:v(t(u).e("prefix-inner")),onClick:U},[V(e.$slots,"prefix"),e.prefixIcon?(f(),b(t(T),{key:0,class:v(t(u).e("icon"))},{default:k(()=>[(f(),b(W(e.prefixIcon)))]),_:1},8,["class"])):h("v-if",!0)],2)],2)):h("v-if",!0),C("input",ne({id:t(D),ref_key:"input",ref:K,class:t(u).e("inner")},t(m),{type:e.showPassword?O.value?"text":"password":e.type,disabled:t(_),formatter:e.formatter,parser:e.parser,readonly:e.readonly,autocomplete:e.autocomplete,tabindex:e.tabindex,"aria-label":e.label,placeholder:e.placeholder,style:e.inputStyle,form:a.form,onCompositionstart:be,onCompositionupdate:we,onCompositionend:xe,onInput:ee,onFocus:Se,onBlur:Ee,onChange:ge,onKeydown:Ce}),null,16,At),h(" suffix slot "),t(We)?(f(),x("span",{key:1,class:v(t(u).e("suffix"))},[C("span",{class:v(t(u).e("suffix-inner")),onClick:U},[!t(H)||!t(Q)||!t(N)?(f(),x(se,{key:0},[V(e.$slots,"suffix"),e.suffixIcon?(f(),b(t(T),{key:0,class:v(t(u).e("icon"))},{default:k(()=>[(f(),b(W(e.suffixIcon)))]),_:1},8,["class"])):h("v-if",!0)],64)):h("v-if",!0),t(H)?(f(),b(t(T),{key:1,class:v([t(u).e("icon"),t(u).e("clear")]),onMousedown:ie(t(nt),["prevent"]),onClick:Ie},{default:k(()=>[re(t(ft))]),_:1},8,["class","onMousedown"])):h("v-if",!0),t(Q)?(f(),b(t(T),{key:2,class:v([t(u).e("icon"),t(u).e("password")]),onClick:qe},{default:k(()=>[(f(),b(W(t(He))))]),_:1},8,["class"])):h("v-if",!0),t(N)?(f(),x("span",{key:3,class:v(t(u).e("count"))},[C("span",{class:v(t(u).e("count-inner"))},Y(t(G))+" / "+Y(t(m).maxlength),3)],2)):h("v-if",!0),t(M)&&t(ye)&&t(me)?(f(),b(t(T),{key:4,class:v([t(u).e("icon"),t(u).e("validateIcon"),t(u).is("loading",t(M)==="validating")])},{default:k(()=>[(f(),b(W(t(ye))))]),_:1},8,["class"])):h("v-if",!0)],2)],2)):h("v-if",!0)],2),h(" append slot "),e.$slots.append?(f(),x("div",{key:1,class:v(t(u).be("group","append"))},[V(e.$slots,"append")],2)):h("v-if",!0)],64)):(f(),x(se,{key:1},[h(" textarea "),C("textarea",ne({id:t(D),ref_key:"textarea",ref:z,class:t(fe).e("inner")},t(m),{tabindex:e.tabindex,disabled:t(_),readonly:e.readonly,autocomplete:e.autocomplete,style:t(he),"aria-label":e.label,placeholder:e.placeholder,form:a.form,onCompositionstart:be,onCompositionupdate:we,onCompositionend:xe,onInput:ee,onFocus:Se,onBlur:Ee,onChange:ge,onKeydown:Ce}),null,16,Mt),t(N)?(f(),x("span",{key:0,style:ue(ve.value),class:v(t(u).e("count"))},Y(t(G))+" / "+Y(t(m).maxlength),7)):h("v-if",!0)],64))],16,Bt)),[[st,e.type!=="hidden"]])}});var Dt=Me(Lt,[["__file","/home/runner/work/element-plus/element-plus/packages/components/input/src/input.vue"]]);const oo=Re(Dt),Kt=Ae({closable:Boolean,type:{type:String,values:["success","info","warning","danger",""],default:""},hit:Boolean,disableTransitions:Boolean,color:{type:String,default:""},size:{type:String,values:Le,default:""},effect:{type:String,values:["dark","light","plain"],default:"light"},round:Boolean}),Ot={close:o=>o instanceof MouseEvent,click:o=>o instanceof MouseEvent},Ht=q({name:"ElTag"}),jt=q({...Ht,props:Kt,emits:Ot,setup(o,{emit:n}){const l=o,a=Ke(),s=ce("tag"),i=d(()=>{const{type:r,hit:m,effect:S,closable:y,round:D}=l;return[s.b(),s.is("closable",y),s.m(r),s.m(a.value),s.m(S),s.is("hit",m),s.is("round",D)]}),c=r=>{n("close",r)},g=r=>{n("click",r)};return(r,m)=>r.disableTransitions?(f(),x("span",{key:0,class:v(t(i)),style:ue({backgroundColor:r.color}),onClick:g},[C("span",{class:v(t(s).e("content"))},[V(r.$slots,"default")],2),r.closable?(f(),b(t(T),{key:0,class:v(t(s).e("close")),onClick:ie(c,["stop"])},{default:k(()=>[re(t(Te))]),_:1},8,["class","onClick"])):h("v-if",!0)],6)):(f(),b(lt,{key:1,name:`${t(s).namespace.value}-zoom-in-center`,appear:""},{default:k(()=>[C("span",{class:v(t(i)),style:ue({backgroundColor:r.color}),onClick:g},[C("span",{class:v(t(s).e("content"))},[V(r.$slots,"default")],2),r.closable?(f(),b(t(T),{key:0,class:v(t(s).e("close")),onClick:ie(c,["stop"])},{default:k(()=>[re(t(Te))]),_:1},8,["class","onClick"])):h("v-if",!0)],6)]),_:3},8,["name"]))}});var Ut=Me(jt,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tag/src/tag.vue"]]);const ao=Re(Ut);export{Gt as C,ao as E,eo as I,de as U,oo as a,Ke as b,Le as c,zt as d,Ct as e,Tt as f,Qt as g,Kt as h,gt as i,to as j,Jt as t,Pt as u};
