import y from"./BillingTransactionStatusBadge-09dfc27f.js";import h from"./CreatedUsingAutoBillingBadge-0f882cb8.js";import w from"./ActiveStatusBadge-26c4bbcb.js";import b from"./RatingTypeBadge-8dbc03c5.js";import f from"./AutoBillingReminderStatusBadge-d75dfaba.js";import v from"./AutoBillingEnabledStatusBadge-00680891.js";import{P as k}from"./Pagination-52d23933.js";import{C as A}from"./Countdown-5251a002.js";import{h as T}from"./moment-fbc5633a.js";import{_ as B}from"./_plugin-vue_export-helper-c27b6911.js";import{q as L,s as p,o as n,e as r,a as t,F as C,h as P,f as I,b as o,t as a,c as i}from"./app-0c965242.js";import"./base-9d5d9ef5.js";import"./el-popper-d10fec87.js";import"./icon-e84b57dd.js";import"./constants-3be68072.js";import"./el-popover-04227f27.js";/* empty css            */const N=L({components:{Countdown:A,PricingPlanActiveStatusBadge:w,AutoBillingReminderStatusBadge:f,AutoBillingEnabledStatusBadge:v,Pagination:k,BillingTransactionStatusBadge:y,RatingTypeBadge:b,CreatedUsingAutoBillingBadge:h},props:{autoBillingSchedulesPayload:Object},data(){return{refreshContentInterval:null,moment:T}},methods:{getLatestAutoBillingTransaction(s){return s.subscriber.latest_auto_billing_transaction??{}},refreshContent(){this.$inertia.reload()},cleanUp(){clearInterval(this.refreshContentInterval),this.refreshContentInterval=null}},created(){this.refreshContentInterval=setInterval(function(){this.refreshContent()}.bind(this),5e3)},unmounted(){this.cleanUp()}}),D=t("div",{class:"grid grid-cols-12 gap-4"},[t("div",{class:"col-span-6"},[t("div",{class:"bg-gray-50 border-b px-6 py-4 rounded-t text-gray-500 text-sm mb-4"},[t("div",{class:"text-2xl font-semibold leading-6 text-gray-500"},"Auto Billing Schedules")])])],-1),R={class:"bg-white shadow-xl sm:rounded-lg"},E={class:"flex flex-col overflow-y-auto"},U={class:"align-middle inline-block min-w-full"},O={class:"shadow border-b border-gray-200"},H={class:"min-w-full divide-y divide-gray-200"},F=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{scope:"col",class:"px-6 py-3 whitespace-nowrap text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-r border-dotted border-r-teal-300"}),t("th",{scope:"col",colspan:"7",class:"px-6 py-3 whitespace-nowrap text-center text-xs font-medium text-gray-500 uppercase tracking-wider bg-teal-50 border-r border-dotted border-r-fuchsia-300"},[t("div",{class:"font-bold text-teal-500"},"AUTO BILLING SCHEDULE")]),t("th",{scope:"col",colspan:"8",class:"px-6 py-3 whitespace-nowrap text-center text-xs font-medium text-gray-500 uppercase tracking-wider bg-fuchsia-50 border-r border-dotted border-r-violet-300"},[t("div",{class:"font-bold text-fuchsia-500"},"LAST AUTO BILLING TRANSACTION")]),t("th",{scope:"col",colspan:"6",class:"px-6 py-3 whitespace-nowrap text-center text-xs font-medium text-gray-500 uppercase tracking-wider bg-violet-50 border-r border-dotted border-r-teal-300"},[t("div",{class:"font-bold text-violet-500"},"AUTO BILLING REMINDER")]),t("th",{scope:"col",colspan:"6",class:"px-6 py-3 whitespace-nowrap text-center text-xs font-medium text-gray-500 uppercase tracking-wider bg-teal-50"},[t("div",{class:"font-bold text-teal-500"},"PRICING PLAN")])]),t("tr",null,[t("th",{scope:"col",class:"px-6 py-3 whitespace-nowrap text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-r border-dotted border-r-teal-300"},[t("span",null,"Mobile")]),t("th",{scope:"col",class:"px-6 py-3 whitespace-nowrap text-left text-xs font-medium text-gray-500 uppercase tracking-wider bg-teal-50"},[t("span",null,"Auto Billing Enabled")]),t("th",{scope:"col",class:"px-6 py-3 whitespace-nowrap text-center text-xs font-medium text-gray-500 uppercase tracking-wider bg-teal-50"},[t("span",null,"Next Attempt Date")]),t("th",{scope:"col",class:"px-6 py-3 whitespace-nowrap text-center text-xs font-medium text-gray-500 uppercase tracking-wider bg-teal-50"},[t("span",null,"Countdown")]),t("th",{scope:"col",class:"px-6 py-3 whitespace-nowrap text-center text-xs font-medium text-gray-500 uppercase tracking-wider bg-teal-50"},[t("span",null,"Attempts Before Disabling")]),t("th",{scope:"col",class:"px-6 py-3 whitespace-nowrap text-center text-xs font-medium text-gray-500 uppercase tracking-wider bg-teal-50"},[t("span",null,"Overall Attempts")]),t("th",{scope:"col",class:"px-6 py-3 whitespace-nowrap text-center text-xs font-medium text-gray-500 uppercase tracking-wider bg-teal-50"},[t("span",null,"Overall Successful Attempts")]),t("th",{scope:"col",class:"px-6 py-3 whitespace-nowrap text-center text-xs font-medium text-gray-500 uppercase tracking-wider bg-teal-50"},[t("span",null,"Overall Failed Attempts")]),t("th",{scope:"col",class:"px-6 py-3 whitespace-nowrap text-center text-xs font-medium text-gray-500 uppercase tracking-wider bg-teal-50 border-r border-dotted border-r-fuchsia-300"},[t("span",null,"Created Date")]),t("th",{scope:"col",class:"px-6 py-3 whitespace-nowrap text-left text-xs font-medium text-gray-500 uppercase tracking-wider bg-fuchsia-50"},[t("span",null,"Status")]),t("th",{scope:"col",class:"px-6 py-3 whitespace-nowrap text-left text-xs font-medium text-gray-500 uppercase tracking-wider bg-fuchsia-50"},[t("span",null,"Amount")]),t("th",{scope:"col",class:"px-6 py-3 whitespace-nowrap text-center text-xs font-medium text-gray-500 uppercase tracking-wider bg-fuchsia-50"},[t("span",null,"Funds Before Deduction")]),t("th",{scope:"col",class:"px-6 py-3 whitespace-nowrap text-center text-xs font-medium text-gray-500 uppercase tracking-wider bg-fuchsia-50"},[t("span",null,"Funds After Deduction")]),t("th",{scope:"col",class:"px-6 py-3 whitespace-nowrap text-center text-xs font-medium text-gray-500 uppercase tracking-wider bg-fuchsia-50"},[t("span",null,"Rating Type")]),t("th",{scope:"col",class:"px-6 py-3 whitespace-nowrap text-center text-xs font-medium text-gray-500 uppercase tracking-wider bg-fuchsia-50"},[t("span",null,"Auto Billing")]),t("th",{scope:"col",class:"px-6 py-3 whitespace-nowrap text-center text-xs font-medium text-gray-500 uppercase tracking-wider bg-fuchsia-50"},[t("span",null,"Description")]),t("th",{scope:"col",class:"px-6 py-3 whitespace-nowrap text-center text-xs font-medium text-gray-500 uppercase tracking-wider bg-fuchsia-50 border-r border-dotted border-r-violet-300"},[t("span",null,"Created")]),t("th",{scope:"col",class:"px-6 py-3 whitespace-nowrap text-center text-xs font-medium text-gray-500 uppercase tracking-wider bg-violet-50"},[t("span",null,"72 Hours Before")]),t("th",{scope:"col",class:"px-6 py-3 whitespace-nowrap text-center text-xs font-medium text-gray-500 uppercase tracking-wider bg-violet-50"},[t("span",null,"48 Hours Before")]),t("th",{scope:"col",class:"px-6 py-3 whitespace-nowrap text-center text-xs font-medium text-gray-500 uppercase tracking-wider bg-violet-50"},[t("span",null,"24 Hours Before")]),t("th",{scope:"col",class:"px-6 py-3 whitespace-nowrap text-center text-xs font-medium text-gray-500 uppercase tracking-wider bg-violet-50"},[t("span",null,"12 Hours Before")]),t("th",{scope:"col",class:"px-6 py-3 whitespace-nowrap text-center text-xs font-medium text-gray-500 uppercase tracking-wider bg-violet-50"},[t("span",null,"6 Hours Before")]),t("th",{scope:"col",class:"px-6 py-3 whitespace-nowrap text-center text-xs font-medium text-gray-500 uppercase tracking-wider bg-violet-50 border-r border-dotted border-r-teal-300"},[t("span",null,"1 Hour Before")]),t("th",{scope:"col",class:"px-6 py-3 whitespace-nowrap text-xs font-medium text-gray-500 uppercase tracking-wider bg-teal-50"},[t("span",null,"Name")]),t("th",{scope:"col",class:"px-6 py-3 whitespace-nowrap text-xs font-medium text-gray-500 uppercase tracking-wider bg-teal-50"},[t("span",null,"Description")]),t("th",{scope:"col",class:"px-6 py-3 whitespace-nowrap text-center text-xs font-medium text-gray-500 uppercase tracking-wider bg-teal-50"},[t("span",null,"Active")]),t("th",{scope:"col",class:"px-6 py-3 whitespace-nowrap text-center text-xs font-medium text-gray-500 uppercase tracking-wider bg-teal-50"},[t("span",null,"Duration")]),t("th",{scope:"col",class:"px-6 py-3 whitespace-nowrap text-center text-xs font-medium text-gray-500 uppercase tracking-wider bg-teal-50"},[t("span",null,"Price")]),t("th",{scope:"col",class:"px-6 py-3 whitespace-nowrap text-left text-xs font-medium text-gray-500 uppercase tracking-wider bg-teal-50"},[t("span",null,"Created")])])],-1),$={class:"bg-white divide-y divide-gray-200"},G={class:"px-6 py-3 whitespace-nowrap border-r border-dotted border-r-teal-300"},V={class:"text-sm text-gray-900"},M={class:"px-6 py-3 text-sm text-gray-500 text-center bg-teal-50"},j={class:"px-6 py-3 whitespace-nowrap text-sm text-gray-500 text-left bg-teal-50"},q={class:"px-6 py-3 whitespace-nowrap text-sm text-gray-500 text-center bg-teal-50"},z={key:0},J={class:"px-6 py-3 text-sm text-gray-500 text-center bg-teal-50"},K={class:"px-6 py-3 text-sm text-gray-500 text-center bg-teal-50"},Q={class:"px-6 py-3 text-sm text-gray-500 text-center bg-teal-50"},W={class:"px-6 py-3 text-sm text-gray-500 text-center bg-teal-50"},X={class:"px-6 py-3 whitespace-nowrap text-sm text-gray-500 text-left bg-teal-50 border-r border-dotted border-r-fuchsia-300"},Y={class:"px-6 py-3 whitespace-nowrap text-sm text-gray-500 text-left bg-fuchsia-50"},Z={key:1},S={class:"px-6 py-3 whitespace-nowrap text-md text-gray-500 text-center font-bold bg-fuchsia-50"},tt={key:0},et={key:1},st={class:"px-6 py-3 whitespace-nowrap text-sm text-gray-500 text-center bg-fuchsia-50"},at={class:"px-6 py-3 whitespace-nowrap text-sm text-gray-500 text-center bg-fuchsia-50"},nt={class:"px-6 py-3 whitespace-nowrap text-sm text-gray-500 text-center bg-fuchsia-50"},rt={key:1},ot={class:"px-6 py-3 whitespace-nowrap text-sm text-gray-500 text-center bg-fuchsia-50"},pt={key:1},ct={class:"px-6 py-3 whitespace-nowrap text-sm text-gray-500 text-center bg-fuchsia-50"},it={class:"px-6 py-3 whitespace-nowrap text-sm text-gray-500 bg-fuchsia-50 border-r border-dotted border-r-violet-300"},lt={class:"px-6 py-3 text-xs text-gray-500 bg-violet-50"},dt={class:"px-6 py-3 text-xs text-gray-500 bg-violet-50"},xt={class:"px-6 py-3 text-xs text-gray-500 bg-violet-50"},gt={class:"px-6 py-3 text-xs text-gray-500 bg-violet-50"},ut={class:"px-6 py-3 text-xs text-gray-500 bg-violet-50"},mt={class:"px-6 py-3 text-xs text-gray-500 bg-violet-50 border-r border-dotted border-r-teal-300"},_t={class:"px-6 py-3 whitespace-nowrap text-sm text-gray-500 text-left bg-teal-50"},yt={class:"text-sm text-gray-900"},ht={class:"px-6 py-3 whitespace-nowrap text-sm text-gray-500 text-left bg-teal-50"},wt={class:"px-6 py-3 whitespace-nowrap text-sm text-gray-500 text-center bg-teal-50"},bt={class:"px-6 py-3 whitespace-nowrap text-sm text-gray-500 text-center bg-teal-50"},ft={class:"px-6 py-3 whitespace-nowrap text-sm text-gray-500 text-center bg-teal-50"},vt={class:"px-6 py-3 whitespace-nowrap text-sm text-gray-500 text-left bg-teal-50"},kt={key:0},At=t("td",{colspan:10,class:"px-6 py-3 whitespace-nowrap"},[t("div",{class:"text-center text-gray-900 text-sm p-6"},"No auto billing schedules")],-1),Tt=t("td",{colspan:10,class:"px-6 py-3 whitespace-nowrap"},[t("div",{class:"text-center text-gray-900 text-sm p-6"},"No auto billing schedules")],-1),Bt=t("td",{colspan:7,class:"px-6 py-3 whitespace-nowrap"},[t("div",{class:"text-center text-gray-900 text-sm p-6"},"No auto billing schedules")],-1),Lt=[At,Tt,Bt];function Ct(s,Pt,It,Nt,Dt,Rt){const l=p("AutoBillingEnabledStatusBadge"),d=p("Countdown"),x=p("BillingTransactionStatusBadge"),g=p("RatingTypeBadge"),u=p("CreatedUsingAutoBillingBadge"),c=p("AutoBillingReminderStatusBadge"),m=p("PricingPlanActiveStatusBadge"),_=p("pagination");return n(),r("div",null,[D,t("div",R,[t("div",E,[t("div",U,[t("div",O,[t("table",H,[F,t("tbody",$,[(n(!0),r(C,null,P(s.autoBillingSchedulesPayload.data,e=>(n(),r("tr",{key:e.id},[t("td",G,[t("div",V,a(e.subscriber.msisdn),1)]),t("td",M,[o(l,{autoBillingSchedule:e},null,8,["autoBillingSchedule"])]),t("td",j,a(e.next_attempt_date==null?"...":s.moment(e.next_attempt_date).format("lll")),1),t("td",q,[e.next_attempt_date_milli_seconds_left==null?(n(),r("span",z,"...")):(n(),i(d,{key:1,time:e.next_attempt_date_milli_seconds_left},null,8,["time"]))]),t("td",J,a(e.attempt==null?"...":e.attempt)+" / "+a(e.pricing_plan==null?"...":e.pricing_plan.max_auto_billing_attempts==0?"unlimited":e.pricing_plan.max_auto_billing_attempts),1),t("td",K,a(e.overall_attempts==null?"...":e.overall_attempts),1),t("td",Q,a(e.overall_successful_attempts==null?"...":e.overall_successful_attempts),1),t("td",W,a(e.overall_failed_attempts==null?"...":e.overall_failed_attempts),1),t("td",X,a(e.created_at==null?"...":s.moment(e.created_at).format("lll")),1),t("td",Y,[s.getLatestAutoBillingTransaction(e).is_successful?(n(),i(x,{key:0,billingTransaction:s.getLatestAutoBillingTransaction(e)},null,8,["billingTransaction"])):(n(),r("span",Z,"..."))]),t("td",S,[s.getLatestAutoBillingTransaction(e).amount?(n(),r("span",tt,a(s.getLatestAutoBillingTransaction(e).amount.amount_with_currency),1)):(n(),r("span",et,"..."))]),t("td",st,a(s.getLatestAutoBillingTransaction(e).funds_before_deduction==null?"...":s.getLatestAutoBillingTransaction(e).funds_before_deduction.amount_with_currency),1),t("td",at,a(s.getLatestAutoBillingTransaction(e).funds_after_deduction==null?"...":s.getLatestAutoBillingTransaction(e).funds_after_deduction.amount_with_currency),1),t("td",nt,[s.getLatestAutoBillingTransaction(e).rating_type?(n(),i(g,{key:0,billingTransaction:s.getLatestAutoBillingTransaction(e)},null,8,["billingTransaction"])):(n(),r("span",rt,"..."))]),t("td",ot,[s.getLatestAutoBillingTransaction(e).created_using_auto_billing?(n(),i(u,{key:0,billingTransaction:s.getLatestAutoBillingTransaction(e)},null,8,["billingTransaction"])):(n(),r("span",pt,"..."))]),t("td",ct,[t("span",null,a(s.getLatestAutoBillingTransaction(e).description??"..."),1)]),t("td",it,a(s.getLatestAutoBillingTransaction(e).created_at==null?"...":s.moment(s.getLatestAutoBillingTransaction(e).created_at).format("lll")),1),t("td",lt,[o(c,{hours:72,autoBillingSchedule:e},null,8,["autoBillingSchedule"])]),t("td",dt,[o(c,{hours:48,autoBillingSchedule:e},null,8,["autoBillingSchedule"])]),t("td",xt,[o(c,{hours:24,autoBillingSchedule:e},null,8,["autoBillingSchedule"])]),t("td",gt,[o(c,{hours:12,autoBillingSchedule:e},null,8,["autoBillingSchedule"])]),t("td",ut,[o(c,{hours:6,autoBillingSchedule:e},null,8,["autoBillingSchedule"])]),t("td",mt,[o(c,{hours:1,autoBillingSchedule:e},null,8,["autoBillingSchedule"])]),t("td",_t,[t("div",yt,a(e.pricing_plan.name),1)]),t("td",ht,a(e.pricing_plan.description==null?"...":e.pricing_plan.description),1),t("td",wt,[o(m,{pricingPlan:e.pricing_plan},null,8,["pricingPlan"])]),t("td",bt,a(e.pricing_plan.duration_in_words==null?"...":e.pricing_plan.duration_in_words),1),t("td",ft,a(e.pricing_plan.price==null?"...":e.pricing_plan.price.amount_with_currency),1),t("td",vt,a(e.pricing_plan.created_at==null?"...":s.moment(e.pricing_plan.created_at).format("lll")),1)]))),128)),s.autoBillingSchedulesPayload.data.length==0?(n(),r("tr",kt,Lt)):I("",!0)])])])])]),o(_,{class:"mt-6",paginationPayload:s.autoBillingSchedulesPayload,updateData:["autoBillingSchedulesPayload"]},null,8,["paginationPayload"])])])}const Yt=B(N,[["render",Ct]]);export{Yt as default};
