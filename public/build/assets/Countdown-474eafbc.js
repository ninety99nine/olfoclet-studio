import{q as b,aA as T,s as D,o as i,c as V,w as k,e,a as M,t,f as y,F as _,r as w,g as L}from"./app-33020c92.js";import{_ as $}from"./_plugin-vue_export-helper-c27b6911.js";/*! vue-countdown v2.1.2 | (c) 2018-present Chen Fengyuan | MIT */const u=1e3,d=60*u,c=60*d,E=24*c,g="abort",S="end",v="progress",N="start",C="visibilitychange";var A=b({name:"VueCountdown",props:{autoStart:{type:Boolean,default:!0},emitEvents:{type:Boolean,default:!0},interval:{type:Number,default:1e3,validator:s=>s>=0},now:{type:Function,default:()=>Date.now()},tag:{type:String,default:"span"},time:{type:Number,default:0,validator:s=>s>=0},transform:{type:Function,default:s=>s}},emits:[g,S,v,N],data(){return{counting:!1,endTime:0,totalMilliseconds:0,requestId:0}},computed:{days(){return Math.floor(this.totalMilliseconds/E)},hours(){return Math.floor(this.totalMilliseconds%E/c)},minutes(){return Math.floor(this.totalMilliseconds%c/d)},seconds(){return Math.floor(this.totalMilliseconds%d/u)},milliseconds(){return Math.floor(this.totalMilliseconds%u)},totalDays(){return this.days},totalHours(){return Math.floor(this.totalMilliseconds/c)},totalMinutes(){return Math.floor(this.totalMilliseconds/d)},totalSeconds(){return Math.floor(this.totalMilliseconds/u)}},watch:{$props:{deep:!0,immediate:!0,handler(){this.totalMilliseconds=this.time,this.endTime=this.now()+this.time,this.autoStart&&this.start()}}},mounted(){document.addEventListener(C,this.handleVisibilityChange)},beforeUnmount(){document.removeEventListener(C,this.handleVisibilityChange),this.pause()},methods:{start(){this.counting||(this.counting=!0,this.autoStart||(this.totalMilliseconds=this.time,this.endTime=this.now()+this.time),this.emitEvents&&this.$emit(N),document.visibilityState==="visible"&&this.continue())},continue(){if(!this.counting)return;const s=Math.min(this.totalMilliseconds,this.interval);if(s>0){let h,n;const m=o=>{h||(h=o),n||(n=o);const f=o-h;f>=s||f+(o-n)/2>=s?this.progress():this.requestId=requestAnimationFrame(m),n=o};this.requestId=requestAnimationFrame(m)}else this.end()},pause(){cancelAnimationFrame(this.requestId)},progress(){this.counting&&(this.update(),this.emitEvents&&this.totalMilliseconds>0&&this.$emit(v,{days:this.days,hours:this.hours,minutes:this.minutes,seconds:this.seconds,milliseconds:this.milliseconds,totalDays:this.totalDays,totalHours:this.totalHours,totalMinutes:this.totalMinutes,totalSeconds:this.totalSeconds,totalMilliseconds:this.totalMilliseconds}),this.continue())},abort(){this.counting&&(this.pause(),this.counting=!1,this.emitEvents&&this.$emit(g))},end(){this.counting&&(this.pause(),this.totalMilliseconds=0,this.counting=!1,this.emitEvents&&this.$emit(S))},update(){this.counting&&(this.totalMilliseconds=Math.max(0,this.endTime-this.now()))},restart(){this.pause(),this.totalMilliseconds=this.time,this.endTime=this.now()+this.time,this.counting=!1,this.start()},handleVisibilityChange(){switch(document.visibilityState){case"visible":this.update(),this.continue();break;case"hidden":this.pause();break}}},render(){return T(this.tag,this.$slots.default?[this.$slots.default(this.transform({days:this.days,hours:this.hours,minutes:this.minutes,seconds:this.seconds,milliseconds:this.milliseconds,totalDays:this.totalDays,totalHours:this.totalHours,totalMinutes:this.totalMinutes,totalSeconds:this.totalSeconds,totalMilliseconds:this.totalMilliseconds}))]:void 0)}});const B={components:{VueCountdown:A},props:{time:Number}},O={key:0},q={key:0},F={key:0},H={key:3},x={key:4};function R(s,h,n,m,o,f){const I=D("vue-countdown");return i(),V(I,{time:n.time},{default:k(({days:p,hours:a,minutes:l,seconds:r})=>[p>0?(i(),e(_,{key:0},[M("span",null,t(p)+" "+t(p==1?"day ":"days "),1),a>0?(i(),e("span",O,t(a)+" "+t(a==1?"hr ":"hrs "),1)):y("",!0)],64)):a>0?(i(),e(_,{key:1},[M("span",null,t(a)+" "+t(a==1?"hr ":"hrs "),1),l>0?(i(),e("span",q,t(l)+" "+t(l==1?"min ":"mins "),1)):y("",!0)],64)):l>0?(i(),e(_,{key:2},[M("span",null,t(l)+" "+t(l==1?"min ":"mins "),1),r>0?(i(),e("span",F,t(r)+" "+t(r==1?"sec ":"secs "),1)):y("",!0)],64)):r>0?(i(),e("span",H,t(r)+" "+t(r==1?"sec ":"secs "),1)):(i(),e("span",x,[w(s.$slots,"default",{},()=>[L("Waiting")])]))]),_:3},8,["time"])}const Y=$(B,[["render",R]]);export{Y as C};
