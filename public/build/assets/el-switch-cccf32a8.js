import{H as w,u as a,k as v,A as J,B as I,d as g,I as R,J as oe,ae as ie,C as P,s as W,o as r,e as y,a as z,n as p,a4 as ne,c as b,w as V,L as B,f as m,t as _,b as se,y as j,i as le,q as re,a3 as q}from"./app-de0467f4.js";import{E as C}from"./index-8d4382d0.js";import{o as T,a as D,b as H,d as ce,l as ue}from"./icon-7a900b4c.js";import{c as de,b as ve,d as pe,u as fe,_ as me,w as he}from"./base-715c222f.js";import{b as O,f as Y,u as ye}from"./constants-6b6778bc.js";class be extends Error{constructor(i){super(i),this.name="ElementPlusError"}}function ge(o,i){throw new be(`[${o}] ${i}`)}function qe(o,i){}const K="update:modelValue",U="change",A="input",Z=["","default","small","large"],He={large:40,default:32,small:24},Ie=o=>["",...Z].includes(o),Se=({from:o,replacement:i,scope:s,version:t,ref:c,type:u="API"},h)=>{w(()=>a(h),n=>{},{immediate:!0})},Q=o=>{const i=J();return v(()=>{var s,t;return(t=((s=i.proxy)==null?void 0:s.$props)[o])!=null?t:void 0})},Je=de({type:String,values:Z,required:!1}),we=Symbol("size"),ke=()=>{const o=I(we,{});return v(()=>a(o.size)||"")},Ee=(o,i={})=>{const s=g(void 0),t=i.prop?s:Q("size"),c=i.global?s:ke(),u=i.form?{size:void 0}:I(O,void 0),h=i.formItem?{size:void 0}:I(Y,void 0);return v(()=>t.value||a(o)||(h==null?void 0:h.size)||(u==null?void 0:u.size)||c.value||"")},Ve=o=>{const i=Q("disabled"),s=I(O,void 0);return v(()=>i.value||a(o)||(s==null?void 0:s.disabled)||!1)},Ce=()=>{const o=I(O,void 0),i=I(Y,void 0);return{form:o,formItem:i}},Te=(o,{formItemContext:i,disableIdGeneration:s,disableIdManagement:t})=>{s||(s=g(!1)),t||(t=g(!1));const c=g();let u;const h=v(()=>{var n;return!!(!o.label&&i&&i.inputIds&&((n=i.inputIds)==null?void 0:n.length)<=1)});return R(()=>{u=w([oe(o,"id"),s],([n,k])=>{const f=n??(k?void 0:ye().value);f!==c.value&&(i!=null&&i.removeInputId&&(c.value&&i.removeInputId(c.value),!(t!=null&&t.value)&&!k&&f&&i.addInputId(f)),c.value=f)},{immediate:!0})}),ie(()=>{u&&u(),i!=null&&i.removeInputId&&c.value&&i.removeInputId(c.value)}),{isLabeledByFormItem:h,inputId:c}},Ne=ve({modelValue:{type:[Boolean,String,Number],default:!1},value:{type:[Boolean,String,Number],default:!1},disabled:{type:Boolean,default:!1},width:{type:[String,Number],default:""},inlinePrompt:{type:Boolean,default:!1},activeIcon:{type:H},inactiveIcon:{type:H},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeColor:{type:String,default:""},inactiveColor:{type:String,default:""},borderColor:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},id:String,loading:{type:Boolean,default:!1},beforeChange:{type:pe(Function)},size:{type:String,validator:Ie},tabindex:{type:[String,Number]}}),Pe={[K]:o=>T(o)||P(o)||D(o),[U]:o=>T(o)||P(o)||D(o),[A]:o=>T(o)||P(o)||D(o)},ze=["onClick"],Be=["id","aria-checked","aria-disabled","name","true-value","false-value","disabled","tabindex","onKeydown"],_e=["aria-hidden"],De=["aria-hidden"],Ke=["aria-hidden"],F="ElSwitch",Ue=W({name:F}),Ae=W({...Ue,props:Ne,emits:Pe,setup(o,{expose:i,emit:s}){const t=o,c=J(),{formItem:u}=Ce(),h=Ee(),n=fe("switch");Se({from:'"value"',replacement:'"model-value" or "v-model"',scope:F,version:"2.3.0",ref:"https://element-plus.org/en-US/component/switch.html#attributes",type:"Attribute"},v(()=>{var e;return!!((e=c.vnode.props)!=null&&e.value)}));const{inputId:k}=Te(t,{formItemContext:u}),f=Ve(v(()=>t.loading)),N=g(t.modelValue!==!1),S=g(),X=g(),G=v(()=>[n.b(),n.m(h.value),n.is("disabled",f.value),n.is("checked",l.value)]),x=v(()=>({width:ce(t.width)}));w(()=>t.modelValue,()=>{N.value=!0}),w(()=>t.value,()=>{N.value=!1});const L=v(()=>N.value?t.modelValue:t.value),l=v(()=>L.value===t.activeValue);[t.activeValue,t.inactiveValue].includes(L.value)||(s(K,t.inactiveValue),s(U,t.inactiveValue),s(A,t.inactiveValue)),w(l,e=>{var d;S.value.checked=e,t.validateEvent&&((d=u==null?void 0:u.validate)==null||d.call(u,"change").catch(te=>void 0))});const E=()=>{const e=l.value?t.inactiveValue:t.activeValue;s(K,e),s(U,e),s(A,e),re(()=>{S.value.checked=l.value})},M=()=>{if(f.value)return;const{beforeChange:e}=t;if(!e){E();return}const d=e();[q(d),T(d)].includes(!0)||ge(F,"beforeChange must return type `Promise<boolean>` or `boolean`"),q(d)?d.then($=>{$&&E()}).catch($=>{}):d&&E()},ee=v(()=>n.cssVarBlock({...t.activeColor?{"on-color":t.activeColor}:null,...t.inactiveColor?{"off-color":t.inactiveColor}:null,...t.borderColor?{"border-color":t.borderColor}:null})),ae=()=>{var e,d;(d=(e=S.value)==null?void 0:e.focus)==null||d.call(e)};return R(()=>{S.value.checked=l.value}),i({focus:ae,checked:l}),(e,d)=>(r(),y("div",{class:p(a(G)),style:j(a(ee)),onClick:le(M,["prevent"])},[z("input",{id:a(k),ref_key:"input",ref:S,class:p(a(n).e("input")),type:"checkbox",role:"switch","aria-checked":a(l),"aria-disabled":a(f),name:e.name,"true-value":e.activeValue,"false-value":e.inactiveValue,disabled:a(f),tabindex:e.tabindex,onChange:E,onKeydown:ne(M,["enter"])},null,42,Be),!e.inlinePrompt&&(e.inactiveIcon||e.inactiveText)?(r(),y("span",{key:0,class:p([a(n).e("label"),a(n).em("label","left"),a(n).is("active",!a(l))])},[e.inactiveIcon?(r(),b(a(C),{key:0},{default:V(()=>[(r(),b(B(e.inactiveIcon)))]),_:1})):m("v-if",!0),!e.inactiveIcon&&e.inactiveText?(r(),y("span",{key:1,"aria-hidden":a(l)},_(e.inactiveText),9,_e)):m("v-if",!0)],2)):m("v-if",!0),z("span",{ref_key:"core",ref:X,class:p(a(n).e("core")),style:j(a(x))},[e.inlinePrompt?(r(),y("div",{key:0,class:p(a(n).e("inner"))},[e.activeIcon||e.inactiveIcon?(r(),b(a(C),{key:0,class:p(a(n).is("icon"))},{default:V(()=>[(r(),b(B(a(l)?e.activeIcon:e.inactiveIcon)))]),_:1},8,["class"])):e.activeText||e.inactiveText?(r(),y("span",{key:1,class:p(a(n).is("text")),"aria-hidden":!a(l)},_(a(l)?e.activeText:e.inactiveText),11,De)):m("v-if",!0)],2)):m("v-if",!0),z("div",{class:p(a(n).e("action"))},[e.loading?(r(),b(a(C),{key:0,class:p(a(n).is("loading"))},{default:V(()=>[se(a(ue))]),_:1},8,["class"])):m("v-if",!0)],2)],6),!e.inlinePrompt&&(e.activeIcon||e.activeText)?(r(),y("span",{key:1,class:p([a(n).e("label"),a(n).em("label","right"),a(n).is("active",a(l))])},[e.activeIcon?(r(),b(a(C),{key:0},{default:V(()=>[(r(),b(B(e.activeIcon)))]),_:1})):m("v-if",!0),!e.activeIcon&&e.activeText?(r(),y("span",{key:1,"aria-hidden":!a(l)},_(e.activeText),9,Ke)):m("v-if",!0)],2)):m("v-if",!0)],14,ze))}});var Fe=me(Ae,[["__file","/home/runner/work/element-plus/element-plus/packages/components/switch/src/switch.vue"]]);const Re=he(Fe);export{U as C,Re as E,A as I,K as U,Ce as a,Te as b,He as c,Ee as d,Ve as e,qe as f,Se as g,Z as h,Ie as i,ge as t,Je as u};
