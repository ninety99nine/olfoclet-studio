import"./base-210fcbe9.js";import{E as P}from"./el-divider-6dbf439a.js";import{E as B}from"./el-switch-37f9c24a.js";import{s as U,e as r,c as g,w as a,f as p,a as t,b as l,x as m,o as n,g as u,F as _,t as h,l as b,m as w,i as y,n as v}from"./app-a9929219.js";import{_ as $,a as D}from"./TextInput-854b9238.js";import{_ as T}from"./InputLabel-831d05d4.js";import{J as A}from"./Textarea-ba09b2c9.js";import{_ as E}from"./PrimaryButton-151237c0.js";import{J}from"./SelectInput-0f0594b1.js";import{a as O}from"./DialogModal-654df02b.js";import{_ as I}from"./DangerButton-19641c8b.js";import{_ as N}from"./ActionMessage-55ec1a2c.js";import{_ as L}from"./SecondaryButton-c49f7243.js";import{_ as z}from"./_plugin-vue_export-helper-c27b6911.js";import"./index-e005307b.js";import"./icon-6945ac30.js";import"./constants-a140f488.js";/* empty css            */const F=U({components:{JetLabel:T,JetInput:$,JetButton:E,JetTextarea:A,JetInputError:D,JetSelectInput:J,JetDialogModal:O,JetSecondaryButton:L,JetActionMessage:N,JetDangerButton:I},props:{action:{type:String,default:"update"},modelValue:{type:Boolean,default:!1},showAddbutton:{type:Boolean,default:!1},project:{type:Object,default:null},show:{type:Boolean,default:!1}},data(){return{form:null,showModal:this.modelValue,showAutoBillingClientSecret:!1,showAutoBillingClientID:!1,showClientCredentials:!1,showSuccessMessage:!1,showErrorMessage:!1}},watch:{showModal:{handler:function(e,s){e!=this.modelValue&&this.$emit("update:modelValue",e)}},modelValue:{handler:function(e,s){e!=this.showModal&&(this.showModal=e,this.reset())}}},computed:{hasProject(){return this.project!=null},wantsToUpdate(){return!!(this.hasProject&&this.action=="update")},wantsToDelete(){return!!(this.hasProject&&this.action=="delete")}},methods:{openModal(){this.showModal=!0},closeModal(){this.showModal=!1},create(){var e={preserveState:!0,preserveScroll:!0,replace:!0,onSuccess:s=>{this.handleOnSuccess()},onError:s=>{this.handleOnError()}};this.form.transform(s=>(s.settings.sms_sender_name==""&&(s.settings.sms_sender_name=null),s.settings.sms_sender_number==""&&(s.settings.sms_sender_number=null),s.settings.sms_client_credentials==""&&(s.settings.sms_client_credentials=null),s.settings.auto_billing_client_id==""&&(s.settings.auto_billing_client_id=null),s.settings.auto_billing_client_secret==""&&(s.settings.auto_billing_client_secret=null),s)).post(route("create.project"),e)},update(){var e={preserveState:!0,preserveScroll:!0,replace:!0,onSuccess:s=>{this.handleOnSuccess()},onError:s=>{this.handleOnError()}};this.form.put(route("update.project",{project:this.project.id}),e)},destroy(){var e={preserveState:!0,preserveScroll:!0,replace:!0,onSuccess:s=>{this.handleOnSuccess()},onError:s=>{this.handleOnError()}};this.form.delete(route("delete.project",{project:this.project.id}),e)},handleOnSuccess(){this.reset(),this.closeModal(),this.showSuccessMessage=!0,setTimeout(()=>{this.showSuccessMessage=!1},3e3)},handleOnError(){this.showErrorMessage=!0,setTimeout(()=>{this.showErrorMessage=!1},3e3)},reset(){this.form=this.$inertia.form({name:this.hasProject?this.project.name:null,about_url:this.hasProject?this.project.about_url:null,description:this.hasProject?this.project.description:null,can_auto_bill:this.hasProject?this.project.can_auto_bill:!1,can_send_messages:this.hasProject?this.project.can_send_messages:!1,settings:this.hasProject?this.project.settings:{sms_sender_name:"",sms_sender_number:"",sms_client_credentials:"",auto_billing_client_id:"",auto_billing_client_secret:""}})}},created(){this.reset()}}),R={class:"clear-both"},X={key:0,class:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative mb-6",role:"alert"},Y={key:0,class:"font-bold"},Z={key:1,class:"font-bold"},q={key:2,class:"font-bold"},G=t("svg",{class:"fill-current h-6 w-6 text-green-500",role:"button",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[t("title",null,"Close"),t("path",{d:"M14.348 14.849a1.2 1.2 0 0 1-1.697 0L10 11.819l-2.651 3.029a1.2 1.2 0 1 1-1.697-1.697l2.758-3.15-2.759-3.152a1.2 1.2 0 1 1 1.697-1.697L10 8.183l2.651-3.031a1.2 1.2 0 1 1 1.697 1.697l-2.758 3.152 2.758 3.15a1.2 1.2 0 0 1 0 1.698z"})],-1),H=[G],K={key:1,class:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert"},Q={key:0,class:"font-bold"},W={key:1,class:"font-bold"},x={key:2,class:"font-bold"},ee=t("svg",{class:"fill-current h-6 w-6 text-red-500",role:"button",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[t("title",null,"Close"),t("path",{d:"M14.348 14.849a1.2 1.2 0 0 1-1.697 0L10 11.819l-2.651 3.029a1.2 1.2 0 1 1-1.697-1.697l2.758-3.15-2.759-3.152a1.2 1.2 0 1 1 1.697-1.697L10 8.183l2.651-3.031a1.2 1.2 0 1 1 1.697 1.697l-2.758 3.152 2.758 3.15a1.2 1.2 0 0 1 0 1.698z"})],-1),se=[ee],te=t("span",{class:"block mt-6 mb-6"},"Are you sure you want to delete this project?",-1),oe={class:"text-sm text-gray-500"},le={class:"grid grid-cols-12 gap-6"},ne={class:"col-span-12"},re={class:"col-span-12"},ae={class:"col-span-12"},ie={class:"col-span-12"},de=t("span",{class:"text-sm text-gray-500"},"Send messages",-1),me={class:"text-sm text-gray-400"},ue={class:"mt-10 mb-10"},ce=t("span",{class:"font-semibold"},"Sms Account Settings",-1),pe={class:"grid grid-cols-6 gap-6"},_e={class:"col-span-6 sm:col-span-12"},ge={class:"col-span-6 sm:col-span-12"},fe={class:"col-span-6 sm:col-span-12"},he={class:"flex items-center mt-2"},be=t("label",{for:"show_client_credentials",class:"ml-3 block text-sm font-medium text-gray-700"},"Show credentials",-1),we={class:"mt-10 mb-10"},ye=t("span",{class:"font-semibold"},"Auto Billing Settings",-1),ve={class:"grid grid-cols-6 gap-6"},je={class:"col-span-12"},Ve=t("span",{class:"text-sm text-gray-500"},"Auto Bill",-1),ke={class:"text-sm text-gray-400"},Ce={class:"col-span-6 sm:col-span-12"},Se={class:"flex items-center mt-2"},Me=t("label",{for:"show_auto_billing_client_secret",class:"ml-3 block text-sm font-medium text-gray-700"},"Show credentials",-1),Pe={class:"col-span-6 sm:col-span-12"},Be={class:"flex items-center mt-2"},Ue=t("label",{for:"show_auto_billing_client_id",class:"ml-3 block text-sm font-medium text-gray-700"},"Show credentials",-1);function $e(e,s,De,Te,Ae,Ee){const f=m("jet-button"),i=m("jet-label"),c=m("jet-input"),d=m("jet-input-error"),k=m("jet-textarea"),j=B,V=P,C=m("jet-secondary-button"),S=m("jet-danger-button"),M=m("jet-dialog-modal");return n(),r("div",null,[e.showAddbutton?(n(),g(f,{key:0,onClick:s[0]||(s[0]=o=>e.openModal()),class:"float-right mb-6"},{default:a(()=>[u(" Add Project ")]),_:1})):p("",!0),t("div",R,[e.showSuccessMessage?(n(),r("div",X,[e.wantsToUpdate?(n(),r("strong",Y,"Project updated successfully")):e.wantsToDelete?(n(),r("strong",Z,"Project deleted successfully")):(n(),r("strong",q,"Project created successfully")),t("span",{onClick:s[1]||(s[1]=o=>e.showSuccessMessage=!1),class:"absolute top-0 bottom-0 right-0 px-4 py-3"},H)])):p("",!0),e.showErrorMessage?(n(),r("div",K,[e.wantsToUpdate?(n(),r("strong",Q,"Project update failed")):e.wantsToDelete?(n(),r("strong",W,"Project delete failed")):(n(),r("strong",x,"Project creation failed")),t("span",{onClick:s[2]||(s[2]=o=>e.showSuccessMessage=!1),class:"absolute top-0 bottom-0 right-0 px-4 py-3"},se)])):p("",!0),l(M,{show:e.showModal,closeable:!1},{title:a(()=>[e.wantsToUpdate?(n(),r(_,{key:0},[u("Update Project")],64)):e.wantsToDelete?(n(),r(_,{key:1},[u("Delete Project")],64)):(n(),r(_,{key:2},[u("Add Project")],64))]),content:a(()=>[e.wantsToDelete?(n(),r(_,{key:0},[te,t("p",oe,h(e.project.name),1)],64)):(n(),r(_,{key:1},[t("div",le,[t("div",ne,[l(i,{for:"name",value:"Project Name"}),l(c,{id:"name",type:"text",class:"w-full mt-1 block",modelValue:e.form.name,"onUpdate:modelValue":s[3]||(s[3]=o=>e.form.name=o)},null,8,["modelValue"]),l(d,{message:e.form.errors.name,class:"mt-2"},null,8,["message"])]),t("div",re,[l(i,{for:"description",value:"Project Description"}),l(k,{id:"description",class:"w-full mt-1 block",modelValue:e.form.description,"onUpdate:modelValue":s[4]||(s[4]=o=>e.form.description=o)},null,8,["modelValue"]),l(d,{message:e.form.errors.description,class:"mt-2"},null,8,["message"])]),t("div",ae,[l(i,{for:"about_url",value:"About URL"}),l(c,{id:"about_url",type:"text",class:"w-full mt-1 block",modelValue:e.form.about_url,"onUpdate:modelValue":s[5]||(s[5]=o=>e.form.about_url=o)},null,8,["modelValue"]),l(d,{message:e.form.errors.about_url,class:"mt-2"},null,8,["message"])]),t("div",ie,[t("span",null,[de,l(j,{modelValue:e.form.can_send_messages,"onUpdate:modelValue":s[6]||(s[6]=o=>e.form.can_send_messages=o),class:"mx-2"},null,8,["modelValue"]),t("span",me,"— "+h(e.form.can_send_messages?"Turn off to stop sending messages":"Turn on to start sending messages"),1)])])]),t("div",ue,[l(V,{"content-position":"left"},{default:a(()=>[ce]),_:1})]),t("div",pe,[t("div",_e,[l(i,{for:"sms_sender_name",value:"Sender Name"}),l(c,{id:"sms_sender_name",type:"text",placeholder:"Company XYZ",maxlength:20,class:"w-full mt-1 block",modelValue:e.form.settings.sms_sender_name,"onUpdate:modelValue":s[7]||(s[7]=o=>e.form.settings.sms_sender_name=o)},null,8,["modelValue"]),l(d,{message:e.form.errors["settings.sms_sender_name"],class:"mt-2"},null,8,["message"])]),t("div",ge,[l(i,{for:"sms_sender_number",value:"Sender Number"}),l(c,{id:"sms_sender_number",type:"text",placeholder:"26772012345",maxlength:11,class:"w-full mt-1 block",modelValue:e.form.settings.sms_sender_number,"onUpdate:modelValue":s[8]||(s[8]=o=>e.form.settings.sms_sender_number=o)},null,8,["modelValue"]),l(d,{message:e.form.errors["settings.sms_sender_number"],class:"mt-2"},null,8,["message"])]),t("div",fe,[l(i,{for:"sms_client_credentials",value:"Client Credentials"}),l(c,{id:"sms_client_credentials",type:e.showClientCredentials?"text":"password",placeholder:"*************************",class:"w-full mt-1 block",modelValue:e.form.settings.sms_client_credentials,"onUpdate:modelValue":s[9]||(s[9]=o=>e.form.settings.sms_client_credentials=o)},null,8,["type","modelValue"]),l(d,{message:e.form.errors["settings.sms_client_credentials"],class:"mt-2"},null,8,["message"]),t("div",he,[b(t("input",{"onUpdate:modelValue":s[10]||(s[10]=o=>e.showClientCredentials=o),id:"show_client_credentials",name:"show_client_credentials",type:"checkbox",class:"focus:ring-indigo-500 h-4 w-4 text-indigo-600 border-gray-300 rounded"},null,512),[[w,e.showClientCredentials]]),be])])]),t("div",we,[l(V,{"content-position":"left"},{default:a(()=>[ye]),_:1})]),t("div",ve,[t("div",je,[t("span",null,[Ve,l(j,{modelValue:e.form.can_auto_bill,"onUpdate:modelValue":s[11]||(s[11]=o=>e.form.can_auto_bill=o),class:"mx-2"},null,8,["modelValue"]),t("span",ke,"— "+h(e.form.can_auto_bill?"Turn off to stop auto billing on subscription plans":"Turn on to start auto billing on subscription plans"),1)])]),t("div",Ce,[l(i,{for:"auto_billing_client_id",value:"Client ID"}),l(c,{id:"auto_billing_client_id",type:e.showAutoBillingClientSecret?"text":"password",placeholder:"*************************",class:"w-full mt-1 block",modelValue:e.form.settings.auto_billing_client_id,"onUpdate:modelValue":s[12]||(s[12]=o=>e.form.settings.auto_billing_client_id=o)},null,8,["type","modelValue"]),l(d,{message:e.form.errors["settings.auto_billing_client_id"],class:"mt-2"},null,8,["message"]),t("div",Se,[b(t("input",{"onUpdate:modelValue":s[13]||(s[13]=o=>e.showAutoBillingClientSecret=o),id:"show_auto_billing_client_secret",name:"show_auto_billing_client_secret",type:"checkbox",class:"focus:ring-indigo-500 h-4 w-4 text-indigo-600 border-gray-300 rounded"},null,512),[[w,e.showAutoBillingClientSecret]]),Me])]),t("div",Pe,[l(i,{for:"auto_billing_client_secret",value:"Client Secret"}),l(c,{id:"auto_billing_client_secret",type:e.showAutoBillingClientID?"text":"password",placeholder:"*************************",class:"w-full mt-1 block",modelValue:e.form.settings.auto_billing_client_secret,"onUpdate:modelValue":s[14]||(s[14]=o=>e.form.settings.auto_billing_client_secret=o)},null,8,["type","modelValue"]),l(d,{message:e.form.errors["settings.auto_billing_client_secret"],class:"mt-2"},null,8,["message"]),t("div",Be,[b(t("input",{"onUpdate:modelValue":s[15]||(s[15]=o=>e.showAutoBillingClientID=o),id:"show_auto_billing_client_id",name:"show_auto_billing_client_id",type:"checkbox",class:"focus:ring-indigo-500 h-4 w-4 text-indigo-600 border-gray-300 rounded"},null,512),[[w,e.showAutoBillingClientID]]),Ue])])])],64))]),footer:a(()=>[l(C,{onClick:s[16]||(s[16]=o=>e.closeModal()),class:"mr-2"},{default:a(()=>[u(" Cancel ")]),_:1}),e.hasProject?p("",!0):(n(),g(f,{key:0,onClick:s[17]||(s[17]=y(o=>e.create(),["prevent"])),class:v({"opacity-25":e.form.processing}),disabled:e.form.processing},{default:a(()=>[u(" Create ")]),_:1},8,["class","disabled"])),e.wantsToUpdate?(n(),g(f,{key:1,onClick:s[18]||(s[18]=y(o=>e.update(),["prevent"])),class:v({"opacity-25":e.form.processing}),disabled:e.form.processing},{default:a(()=>[u(" Update ")]),_:1},8,["class","disabled"])):p("",!0),e.wantsToDelete?(n(),g(S,{key:2,onClick:s[19]||(s[19]=y(o=>e.destroy(),["prevent"])),class:v({"opacity-25":e.form.processing}),disabled:e.form.processing},{default:a(()=>[u(" Delete ")]),_:1},8,["class","disabled"])):p("",!0)]),_:1},8,["show"])])])}const es=z(F,[["render",$e]]);export{es as default};
