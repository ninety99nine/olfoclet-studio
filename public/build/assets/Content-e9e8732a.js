import"./base-9406257f.js";import"./el-popper-7558033e.js";import{E as y}from"./el-popover-f8ab794a.js";import v from"./ManageUserModal-a9f7f726.js";import{P as f}from"./Pagination-5b3257f9.js";import{q as k,s as p,o,e as a,b as l,a as e,F as c,h as m,f as d,t as n,w as h,i as u}from"./app-c2ab2b5a.js";import{h as C}from"./moment-fbc5633a.js";import{_ as b}from"./_plugin-vue_export-helper-c27b6911.js";import"./icon-e373acc6.js";import"./constants-9a71fd89.js";import"./el-divider-9e875e2a.js";import"./TextInput-7a9d3702.js";import"./InputLabel-a09675c2.js";import"./PrimaryButton-189ed5dd.js";import"./SelectInput-bfe85208.js";import"./DialogModal-898a4c5c.js";import"./DangerButton-2250e9cc.js";import"./ActionMessage-13fe8cca.js";import"./SecondaryButton-f998f617.js";/* empty css            */const P=k({components:{CreateUserModal:v,Pagination:f},props:{availablePermissions:Array,usersPayload:Object},data(){return{refreshContentInterval:null,isShowingModal:!1,modalAction:null,user:null,moment:C}},methods:{onDeleted(){this.user=null},refreshContent(){this.$inertia.reload()},showModal(t,i){this.user=t,this.modalAction=i,this.isShowingModal=!0},cleanUp(){clearInterval(this.refreshContentInterval),this.refreshContentInterval=null}},created(){this.refreshContentInterval=setInterval(function(){this.refreshContent()}.bind(this),5e3)},unmounted(){this.cleanUp()}}),M={class:"bg-white shadow-xl sm:rounded-lg"},$={class:"flex flex-col overflow-y-auto"},D={class:"align-middle inline-block min-w-full"},A={class:"shadow border-b border-gray-200"},I={class:"min-w-full divide-y divide-gray-200"},V=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{scope:"col",class:"px-6 py-3 whitespace-nowrap text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},[e("span",null,"Name")]),e("th",{scope:"col",class:"px-6 py-3 whitespace-nowrap text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},[e("span",null,"Email")]),e("th",{scope:"col",class:"px-6 py-3 whitespace-nowrap text-center text-xs font-medium text-gray-500 uppercase tracking-wider"},[e("span",null,"Permissions")]),e("th",{scope:"col",class:"px-6 py-3 whitespace-nowrap text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},[e("span",null,"Created")]),e("th",{scope:"col",class:"px-6 py-3 whitespace-nowrap text-right text-xs font-medium text-gray-500 uppercase tracking-wider"},[e("span",null,"Actions")])])],-1),B={class:"bg-white divide-y divide-gray-200"},E={class:"px-6 py-3 whitespace-nowrap"},N={class:"text-sm text-gray-900"},S={class:"px-6 py-3 whitespace-nowrap"},U={class:"text-sm text-gray-900"},j={class:"px-6 py-3 whitespace-nowrap"},z={class:"text-center"},L={class:"text-lg text-green-600"},O=e("span",{class:"text-gray-400 mx-2"},"/",-1),F={class:"text-sm text-gray-400"},q={key:0,xmlns:"http://www.w3.org/2000/svg",class:"text-green-600 h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},G=e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M5 13l4 4L19 7"},null,-1),H=[G],J={key:1,xmlns:"http://www.w3.org/2000/svg",class:"text-gray-300 h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},K=e("path",{"fill-rule":"evenodd",d:"M13.477 14.89A6 6 0 015.11 6.524l8.367 8.368zm1.414-1.414L6.524 5.11a6 6 0 018.367 8.367zM18 10a8 8 0 11-16 0 8 8 0 0116 0z","clip-rule":"evenodd"},null,-1),Q=[K],R={class:"ml-3 block text-sm font-medium text-gray-700"},T={class:"px-6 py-3 whitespace-nowrap text-sm text-gray-500"},W={class:"px-6 py-3 whitespace-nowrap text-right text-sm font-medium"},X=["onClick"],Y=["onClick"],Z={key:0},ee=e("td",{colspan:5,class:"px-6 py-3 whitespace-nowrap"},[e("div",{class:"text-center text-gray-900 text-sm p-6"},"No users")],-1),te=[ee];function se(t,i,oe,ae,ne,ie){const _=p("create-user-modal"),g=y,w=p("pagination");return o(),a("div",null,[l(_,{modelValue:t.isShowingModal,"onUpdate:modelValue":i[0]||(i[0]=s=>t.isShowingModal=s),action:t.modalAction,user:t.user,availablePermissions:t.availablePermissions,onOnDeleted:t.onDeleted},null,8,["modelValue","action","user","availablePermissions","onOnDeleted"]),e("div",M,[e("div",$,[e("div",D,[e("div",A,[e("table",I,[V,e("tbody",B,[(o(!0),a(c,null,m(t.usersPayload.data,s=>(o(),a("tr",{key:s.id},[e("td",E,[e("div",N,n(s.name),1)]),e("td",S,[e("div",U,n(s.email),1)]),e("td",j,[l(g,{placement:"right",width:"200",trigger:"hover"},{reference:h(()=>[e("div",z,[e("span",L,n(s.pivot.permissions.length),1),O,e("span",F,n(t.availablePermissions.length),1)])]),default:h(()=>[e("div",null,[(o(!0),a(c,null,m(t.availablePermissions,(r,x)=>(o(),a("div",{key:x,class:"flex items-center"},[s.pivot.permissions.includes(r)?(o(),a("svg",q,H)):(o(),a("svg",J,Q)),e("span",R,n(r),1)]))),128))])]),_:2},1024)]),e("td",T,n(s.created_at==null?"...":t.moment(s.created_at).format("lll")),1),e("td",W,[t.$inertia.page.props.projectPermissions.includes("Manage users")?(o(),a("a",{key:0,href:"#",onClick:u(r=>t.showModal(s,"update"),["prevent"]),class:"text-indigo-600 hover:text-indigo-900 mr-3"},"Edit",8,X)):d("",!0),t.$inertia.page.props.projectPermissions.includes("Manage users")?(o(),a("a",{key:1,href:"#",onClick:u(r=>t.showModal(s,"delete"),["prevent"]),class:"text-red-600 hover:text-red-900"},"Delete",8,Y)):d("",!0)])]))),128)),t.usersPayload.data.length==0?(o(),a("tr",Z,te)):d("",!0)])])])])]),l(w,{class:"mt-6",paginationPayload:t.usersPayload,updateData:["usersPayload"]},null,8,["paginationPayload"])])])}const $e=b(P,[["render",se]]);export{$e as default};
